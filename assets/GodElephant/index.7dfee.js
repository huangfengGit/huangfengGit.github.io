window.__require=function e(t,o,n){function i(s,r){if(!o[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var p="function"==typeof __require&&__require;if(!r&&p)return p(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,o,n)}return o[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({GodElephantBotton:[function(e,t,o){"use strict";cc._RF.push(t,"16982GxsWxDZa87XbfNAYgs","GodElephantBotton");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Common/script/base/AudioManager"),s=e("../../../Common/script/base/CommonCtr"),r=e("../../../Common/script/base/ViewBase"),l=e("../../../Boot/scirpt/AppConst"),p=e("../../../Common/script/util/UIUtil"),u=e("../../../GameHall/script/Module/ComSettingView/ComSettingView"),c=e("../../../GameHall/script/Module/RechargeView/RechargeView"),d=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/BottomBar/BottomBarSpinStaus"),h=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageStatus"),m=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinStatusStrategyNormal"),f=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinType"),g=e("../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode"),b=e("./Control/GodElephantViewCtr"),y=e("./GodElephantModules/GodElephantButtonLongTouch"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spinButton=null,t._buttonLongTouch=null,t.btnJiaBet=null,t.btnJianBet=null,t.maxBet=null,t.btnExit=null,t.Bet=null,t.TotalWin=null,t.coins=null,t.BaseBet_Bet=null,t._spinStatusStrategy=new m.default,t._freeGameTrigger=null,t._nextGameMode=null,t.btnHelp=null,t.ui_headFrame=null,t.ui_btn_addCash=null,t.ui_RechargeTip=null,t.ui_btn_closeCash=null,t.ui_btnRecharge=null,t.ui_menButton=null,t._totalAutoSpinTimes=0,t.betLen=0,t.gameState=0,t._autoTimes=10,t.isOutGame=!1,t.isAuto=!1,t.addCash=null,t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Bar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinButtonName",{get:function(){return"spin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinStatusStrategy",{get:function(){return this._spinStatusStrategy},set:function(e){this._spinStatusStrategy=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinType",{get:function(){return this._spinType},set:function(e){switch(this._spinType=e,e){case f.SpinType.AutoSpin:this.setControllerProperty("spin.spinStatus",2);break;case f.SpinType.FreeSpin:this.setControllerProperty("spin.spinStatus",3);break;case f.SpinType.Respin:this.setControllerProperty("spin.spinStatus",1);break;case f.SpinType.Spin:this.setControllerProperty("spin.spinStatus",0)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freeGameTrigger",{get:function(){return this._freeGameTrigger},set:function(e){this._freeGameTrigger=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextGameMode",{get:function(){return this._nextGameMode},set:function(e){this._nextGameMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"helpButtonName",{get:function(){return"btnHelp"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"game",{set:function(e){this._view&&this._view.offStatusChanged(this.statusChanged,this),this._view=e,this._view&&this._view.onStatusChanged(this.statusChanged,this)},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){var t=this;e.prototype.allChildCreated.call(this),this.spinButtonName&&this._buttonLongTouch.registerTouchLong(this.spinButton.node),this.scheduleOnce(function(){t.isOutGame=!0},1.5)},t.prototype.createChildComponents=function(){var t=this;e.prototype.createChildComponents.call(this),this._view=this.parent,this.spinButtonName&&(this.spinButton=this.getChild(this.spinButtonName).asButton,this.spinButton.node.on("NineLine_touch-short",this.onSpinClickInternal.bind(this)),this.spinButton.node.on("NineLine_touch-long",this.onSpinLongTouchInternal.bind(this)),this._buttonLongTouch=this.addFguiComponent(y.default)),this.maxBet=this.getChild("maxBet").asButton,this.maxBet.onClick(this.onMaxBetClick.bind(this)),this.btnExit=this.getChild("btnExit").asButton,this.btnExit.onClick(this.onbtnExitClick.bind(this)),this.btnJiaBet=this.getChild("btnJiaBet").asButton,this.btnJiaBet.onClick(this.onAddBetClick.bind(this)),this.btnJianBet=this.getChild("btnJianBet").asButton,this.btnJianBet.onClick(this.onReduceBetClick.bind(this)),this.btnHelp=this.getChild("btnHelp").asButton,this.btnHelp.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.node.emit("showPayTable")}),this.ui_btnRecharge.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.showAddCash()}),this.ui_btn_addCash.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.ui_RechargeTip.visible=!1,t.showAddCash()}),this.ui_btn_closeCash.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.ui_RechargeTip.visible=!1}),this.ui_menButton.onClick(this.onMenuClick.bind(this)),this.Bet=this.getChild("BetText").asTextField,this.TotalWin=this.getChild("TotalWin").asTextField,this.coins=this.getChild("coins").asTextField;var o=p.UIUtil.formatNumber100(b.GodElephantViewCtr.instance.Model.gold);this.betLen=o<=300?2:o<=1500?5:o<=3e3?6:o<=5e3?7:8,b.GodElephantViewCtr.instance.Model.bet=b.GodElephantViewCtr.instance.Model.betScores[this.betLen],b.GodElephantViewCtr.instance.Model.table.totalLineCount=9,this.setEnterGame(),p.UIUtil.loadImage(this.ui_headFrame,l.AppConst.mPlayerModel.wechat.wicon)},t.prototype.setEnterGame=function(){this.coins.text=p.UIUtil.formatNumber100(b.GodElephantViewCtr.instance.Model.gold)+"",this.TotalWin.text="0",this.Bet.text=""+p.UIUtil.formatNumber100(b.GodElephantViewCtr.instance.Model.table.totalLineCount*b.GodElephantViewCtr.instance.Model.bet),b.GodElephantViewCtr.instance.view.jackPotTitle.setTargetNum(b.GodElephantViewCtr.instance.Model.table.lJackPotScores),b.GodElephantViewCtr.instance.view.ClearPrizeShow()},t.prototype.setMyGolod=function(){this.coins.text=""+p.UIUtil.formatNumber100(b.GodElephantViewCtr.instance.Model.gold)},t.prototype.setWinGolod=function(){this.TotalWin.text=""+b.GodElephantViewCtr.instance.Model.gameWinAll},t.prototype.setFree=function(e){this.gameState=3==e?1:0,this.setControllerProperty("spin.spinStatus",e)},t.prototype.statusChanged=function(e){var t=this,o=this._spinStatusStrategy.getSpinStatus(e,this._spinType,this._freeGameTrigger,this._nextGameMode);this._autoTimes>=0&&this.spinStatus===d.BottomBarSpinStaus.StopAutoSpin&&e===h.SlotGameStageStatus.Ready&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){t.onSpinClickInternal(t._autoTimes,!0,-1)},1)),0==this.gameState&&3!=o.spinStatus&&this.setControllerProperty("spin.spinStatus",o.spinStatus)},t.prototype.onbtnExitClick=function(){this.isOutGame&&(this.isOutGame=!1,b.GodElephantViewCtr.instance.cs_applyexittable(),b.GodElephantViewCtr.instance.view.ExitGame())},t.prototype.onMaxBetClick=function(){a.AudioManager.Singleton.play("GameCommon","btn_click"),b.GodElephantViewCtr.instance.Model.table.totalLineCount=9,b.GodElephantViewCtr.instance.Model.bet=b.GodElephantViewCtr.instance.Model.betScores[b.GodElephantViewCtr.instance.Model.betScores.length-1],this.betLen=b.GodElephantViewCtr.instance.Model.betScores.length-1,this.setEnterGame()},t.prototype.onAddBetClick=function(){a.AudioManager.Singleton.play("GameCommon","btn_click"),b.GodElephantViewCtr.instance.Model.bet==b.GodElephantViewCtr.instance.Model.betScores[b.GodElephantViewCtr.instance.Model.betScores.length-1]&&(this.betLen=-1),this.betLen++,b.GodElephantViewCtr.instance.Model.bet=b.GodElephantViewCtr.instance.Model.betScores[this.betLen],this.setEnterGame()},t.prototype.onReduceBetClick=function(){a.AudioManager.Singleton.play("GameCommon","btn_click"),b.GodElephantViewCtr.instance.Model.bet==b.GodElephantViewCtr.instance.Model.betScores[0]&&(this.betLen=b.GodElephantViewCtr.instance.Model.betScores.length),this.betLen--,b.GodElephantViewCtr.instance.Model.bet=b.GodElephantViewCtr.instance.Model.betScores[this.betLen],this.setEnterGame()},t.prototype.setFreeBtn=function(e,t){this.getChild("spin.freeSpinsCount").asTextField.text=t+"/"+e},t.prototype.setBtnStateFalse=function(e){this.spinButton.touchable=e,this.maxBet.enabled=e,this.btnJiaBet.enabled=e,this.btnJianBet.enabled=e},t.prototype.onSpinClickInternal=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!=l.AppConst.mPlayerModel.bReCharge){if(this._view.status==h.SlotGameStageStatus.Ready&&a.AudioManager.Singleton.play("GameCommon","btn_click"),0!=this._view.status&&0==this.gameState)return this._view.spinClick(e),void(this.isAuto&&(this.isAuto=!1,this.spinType=f.SpinType.Spin,this.spinStatus=d.BottomBarSpinStaus.Ready));if(this.nextGameMode==g.SpinResultsGameMode.FreeSpin);else{var o=b.GodElephantViewCtr.instance.Model.bet*b.GodElephantViewCtr.instance.Model.table.totalLineCount;if(!(o<=b.GodElephantViewCtr.instance.Model.gold))return this.isAuto=!1,this.spinType=f.SpinType.Spin,this.spinStatus=d.BottomBarSpinStaus.Ready,this.maxBet.enabled=!0,this.btnJiaBet.enabled=!0,this.btnJianBet.enabled=!0,void s.CommonCtr.instance.ShowTipLabel(b.GodElephantViewCtr.instance.GetLanguage(20001));b.GodElephantViewCtr.instance.Model.gold-=o,this.setMyGolod()}if(this._totalAutoSpinTimes){if(this._totalAutoSpinTimes!==e&&!t&&0==this.gameState)return this.spinType=f.SpinType.Spin,this.spinStatus=d.BottomBarSpinStaus.Ready,this._view.spinClick(e),this.node.emit("BottomBarSpinClick"),void(this._totalAutoSpinTimes=0)}else this._totalAutoSpinTimes=e;if(this.spinStatus===d.BottomBarSpinStaus.StopAutoSpin){if(this._autoTimes--,1!==e)return void this._view.spinClick(e);0==this.gameState&&(this.spinType=f.SpinType.Spin,this.spinStatus=d.BottomBarSpinStaus.Ready,this.node.emit("BottomBarSpinClick"))}this._view.spinClick(e),this.node.emit("BottomBarSpinClick")}else this.ui_RechargeTip.visible=!0},t.prototype.onSpinLongTouchInternal=function(){0!=l.AppConst.mPlayerModel.bReCharge?(this.spinType=f.SpinType.AutoSpin,this.spinStatus=d.BottomBarSpinStaus.StopAutoSpin,this.isAuto=!0,this._autoTimes=9999999,this.onSpinClickInternal(9999999,!0,-1)):this.ui_RechargeTip.visible=!0},t.prototype.onFreeEndAutoSpin=function(e){this.spinType=f.SpinType.AutoSpin,this.spinStatus=d.BottomBarSpinStaus.StopAutoSpin,this.isAuto=!0,this._autoTimes=e,this.onSpinClickInternal(e,!0,-1)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.showAddCash=function(){this.addCash?this.addCash.Show():this.addCash=this.addFguiComponent(c.default),this.addCash.init(b.GodElephantViewCtr.instance.Model.tableid,b.GodElephantViewCtr.instance.Model.gold)},t.prototype.onMenuClick=function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),this.settingView?this.settingView.Show():(this.settingView=this.addFguiComponent(u.default),this.settingView.selectLanguageFun=function(){b.GodElephantViewCtr.instance.view.OnLoadLanguage()})},t}(r.default);o.default=S,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/base/CommonCtr":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/util/UIUtil":void 0,"../../../GameHall/script/Module/ComSettingView/ComSettingView":void 0,"../../../GameHall/script/Module/RechargeView/RechargeView":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/BottomBar/BottomBarSpinStaus":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageStatus":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinStatusStrategyNormal":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinType":void 0,"../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode":void 0,"./Control/GodElephantViewCtr":"GodElephantViewCtr","./GodElephantModules/GodElephantButtonLongTouch":"GodElephantButtonLongTouch"}],GodElephantButtonLongTouch:[function(e,t,o){"use strict";cc._RF.push(t,"61829I4QChCm6PwAdbaGnRu","GodElephantButtonLongTouch");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,r=e("../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase");(function(e){e[e.init=1]="init",e[e.awake=2]="awake",e[e.end=3]="end"})(s||(s={}));var l=cc._decorator,p=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isTouch=!1,t._touchTime=0,t._doubleTime=0,t._doubleState=s.init,t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.registerTouchLong=function(e){this.node=e,e.on(cc.Node.EventType.TOUCH_START,this.startTouch.bind(this)),e.on(cc.Node.EventType.TOUCH_END,this.endTouch.bind(this))},t.prototype.startTouch=function(){this._isTouch=!0,this._touchTime=0},t.prototype.endTouch=function(){this._isTouch=!1},t.prototype.update=function(){if(this._isTouch){if(this._touchTime++,this._touchTime>30)return this._isTouch=!1,this.node.emit("NineLine_touch-long"),this._doubleTime=0,void(this._touchTime=0)}else this._touchTime>0&&this._touchTime<30&&(this.node.emit("NineLine_touch-short"),this._touchTime=0,this._doubleTime=0)},a([p],t)}(r.default));o.default=u,cc._RF.pop()},{"../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],GodElephantCell:[function(e,t,o){"use strict";cc._RF.push(t,"cc863Vzf+pCnbaM/R1FuMXK","GodElephantCell");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantCell=void 0;var a=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/CellBase"),s=e("./GodElephantSymbol"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"resultChess",{get:function(){return this._chesses[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCode",{get:function(){return 10},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nothingCode",{get:function(){return 10},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Cell"},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this._symbol=this.addFguiComponent(s.GodElephantSymbol,!1),this._symbol.fguiX=0,this._symbol.fguiY=0},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this)},t.prototype.replaceMockCode=function(t){var o=this;this.resultChess.cell,this.reel.index,this.index,this.scheduleOnce(function(){e.prototype.replaceMockCode.call(o,t)},1500)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.startMove=function(){this.resultChess.getChild("spine1").node.active=!1,this.resultChess.getChild("spine2").node.active=!1,this.resultChess.getChild("spine3").node.active=!1,this.resultChess.getChild("spine4").node.active=!1,this.resultChess.getChild("spine5").node.active=!1},t}(a.default);o.GodElephantCell=r,cc._RF.pop()},{"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/CellBase":void 0,"./GodElephantSymbol":"GodElephantSymbol"}],GodElephantCoin:[function(e,t,o){"use strict";cc._RF.push(t,"af396IQnuxJf4qFezjPatg9","GodElephantCoin");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantCoin=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Coin"},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t}(e("../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Coin/Coin").Coin);o.GodElephantCoin=a,cc._RF.pop()},{"../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Coin/Coin":void 0}],GodElephantFreeSpinSettlement:[function(e,t,o){"use strict";cc._RF.push(t,"0fc10ot8kVCW6zGj3f/61w7","GodElephantFreeSpinSettlement");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../../Common/script/base/AudioManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._goldNum2=[],t.freeSpinCoins=null,t}return i(t,e),Object.defineProperty(t.prototype,"basePanel",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animNode",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonOKName",{get:function(){return"okFreeSpin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goldGrowName",{get:function(){return["freeSpinCoins"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalNumName",{get:function(){return["freeSpinCount"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"FreeSpinSettlement"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeTime",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goldNum",{get:function(){return this._goldNum2},set:function(e){e.length!=this.goldGrowName.length&&cc.warn("gold\u6570\u636e\u9519\u8bef"),this._goldNum2=e,this.goldValue2()},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.freeSpinCoins=this.getChild("freeSpinCoins").asTextField},t.prototype.show=function(){e.prototype.show.call(this),a.AudioManager.Singleton.playBGM("freeEnd")},t.prototype.hide=function(){if(a.AudioManager.Singleton.playBGM("bgm"),this.goldNum[0]&&+this.freeSpinCoins.text!=this.goldNum[0])return this.stopRunGold(),void(this.freeSpinCoins.text=this.goldNum[0].toString());e.prototype.hide.call(this)},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t.prototype.goldValue2=function(){if(!(this.goldNum.length<1||this.goldGrowName.length<1)&&(this.goldNum.length!=this.goldGrowName.length&&cc.warn("\u91d1\u5e01\u6570\u636e\u9519\u8bef"),this.goldNum))for(var e=0;e<this.goldNum.length;e++)0===this.goldNum[e]?this.fguiComponent.getChild(this.goldGrowName[e]).asTextField.text="0":this.RunCoin(this.fguiComponent.getChild(this.goldGrowName[e]).asTextField,0,this.goldNum[e]+1e-4,3)},t.prototype.RunCoin=function(e,t,o,n){var i=this,a=null!=o.toString().split(".")[1],s={num:0};s.num=t,this.runGold=cc.tween(s).to(n,{num:o},{progress:function(t,n,s,r){var l;if(l=a?(t+(n-t)*r).toFixed(2):Math.ceil(t+(n-t)*r),e)try{e.text=l>o?o+"":l+""}catch(p){i.stopRunGold()}return t+(n-t)*r}}).start()},t.prototype.stopRunGold=function(){this.runGold&&this.runGold.stop()},t}(e("../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Popup").Popup);o.default=s,cc._RF.pop()},{"../../../../Common/script/base/AudioManager":void 0,"../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Popup":void 0}],GodElephantFreeSpinStartNew:[function(e,t,o){"use strict";cc._RF.push(t,"4929edw2V5I9rnDVsnLIB01","GodElephantFreeSpinStartNew");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"FreeSpinStart"},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this.fguiComponent.visible=!1},t.prototype.FreeShow=function(e){var t=this;this.fguiComponent.visible=!0,this.getChild("freeSpinTimes").asTextField.text=""+e,this.scheduleOnce(function(){t.fguiComponent.visible=!1},2)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t}(e("../../../../Common/script/base/ViewBase").default);o.default=a,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0}],GodElephantHelpView:[function(e,t,o){"use strict";cc._RF.push(t,"dbd47g+fz5G6pqwms8mlybl","GodElephantHelpView");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(t){a(t)}}function r(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(s,r)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var o,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(e){return function(t){return l([e,t])}}function l(a){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(r){a=[6,r],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/PayTable"),l=e("./Control/GodElephantViewCtr"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SHOW_PAY_TABLE="showPayTable",t}return i(t,e),Object.defineProperty(t.prototype,"basePanel",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"HelpView"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payTableListName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backToGameButtonName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openRightPageButtonName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openLeftPageButtonName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPayTableEvent",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){return a(this,void 0,void 0,function(){return s(this,function(){return e.prototype.createChildComponents.call(this),this.node.on(this.SHOW_PAY_TABLE,this.show,this),this.getChild("backToGame").onClick(this.hide,this),this.node.on("GELaodLanguage",this.LoadLanguage,this),[2]})})},t.prototype.LoadLanguage=function(){for(var e=this.getChild("n26").asCom,t=1;t<5;t++)e.getChild("eghelp_text_type_"+t).asTextField.text=l.GodElephantViewCtr.instance.GetLanguage(1e4+t);for(t=1;t<4;t++)for(var o=1;o<4;o++)1==t&&e.getChild("eghelp_text_type_"+t+"_"+o).asTextField.setVar("T1",l.GodElephantViewCtr.instance.GetLanguage(10005)).setVar("T2",l.GodElephantViewCtr.instance.GetLanguage(10006)).flushVars(),2==t&&e.getChild("eghelp_text_type_"+t+"_"+o).asTextField.setVar("T1",l.GodElephantViewCtr.instance.GetLanguage(10005)).setVar("T2",l.GodElephantViewCtr.instance.GetLanguage(10007)).flushVars();for(t=1;t<9;t++)for(o=1;o<4;o++)e.getChild("eghelp_text_icon_"+t+"_"+o).asTextField.setVar("T1",l.GodElephantViewCtr.instance.GetLanguage(10005)).flushVars()},t.prototype.show=function(){e.prototype.show.call(this)},t}(r.default);o.default=p,cc._RF.pop()},{"../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/PayTable":void 0,"./Control/GodElephantViewCtr":"GodElephantViewCtr"}],GodElephantHoldWin:[function(e,t,o){"use strict";cc._RF.push(t,"6808fnzUaRGG6Isffton6Cw","GodElephantHoldWin");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/HoldWinBase"),s=e("./GodElephantReel"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"holdWinComponentName",{get:function(){return"holdWin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdWinControllerName",{get:function(){return"holdWin"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"HoldWin"},enumerable:!1,configurable:!0}),t.prototype.addColumn=function(){return this._reel=this.addFguiComponent(s.default,!1),this._reel},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this.setControllerProperty(this.holdWinControllerName,1)},t}(a.default);o.default=r,cc._RF.pop()},{"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/HoldWinBase":void 0,"./GodElephantReel":"GodElephantReel"}],GodElephantJackpotRoll:[function(e,t,o){"use strict";cc._RF.push(t,"7a059/65J9K1JxT+qspFSeM","GodElephantJackpotRoll");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase"),r=cc._decorator,l=r.ccclass,p=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this.textFieldText.length!=this.targetNum.length&&cc.warn("\u76ee\u6807\u6570\u636e\u503c\u4e0e\u6587\u672c\u6570\u636e\u4e0d\u4e00\u81f4"),this.setValue(this.targetNum)},t.prototype.setValue=function(e,t){void 0===t&&(t=[]);var o=2;t.length>0&&(o=.2);for(var n=0;n<this.textFieldText.length;n++){var i=this.fguiComponent.getChild(this.textFieldText[n]).asTextField.asMogafaNumberField();t.length>0?i.play(t[n],e[n],o):i.play(0,e[n],o)}},a([l],t)}(s.default));o.default=p,cc._RF.pop()},{"../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0}],GodElephantJackpotSettle:[function(e,t,o){"use strict";cc._RF.push(t,"70161ovRkVG6qz4l8UiNhr4","GodElephantJackpotSettle");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantJackpotSettle=void 0;var a=e("../../../../Common/script/base/AudioManager"),s=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaNumberField"),r=e("../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Popup"),l=e("../Spine/GodElephantWildMergeSpine"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._goldNum2=[],t._collectFinished="collectFinished",t}return i(t,e),Object.defineProperty(t.prototype,"basePanel",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animNode",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonOKName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goldGrowName",{get:function(){return["coin"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalNumName",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"JackpotSettlement"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeBackName",{get:function(){return"collectforBG"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"closeTime",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goldNum",{get:function(){return this._goldNum2},set:function(e){e.length!=this.goldGrowName.length&&cc.warn("gold\u6570\u636e\u9519\u8bef"),this._goldNum2=e,this.goldValue2()},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.goldNum=[1e5]},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this.bgSpineNode=this.fguiComponent.getChild("bgSpine").node,this.bgSpine=new l.GodElephantWildMergeSpine(this.bgSpineNode),this.getChild(this.closeBackName).onClick(this.onCollectClick,this);var t=this.fguiComponent.getChild("jinbiLizi").node,o=this;cc.assetManager.getBundle("GodElephant").load("res/prefabs/WinLizi",cc.Prefab,function(e,n){o.winLizi=cc.instantiate(n),t.addChild(o.winLizi)})},t.prototype.onCollectFinished=function(e,t){this.node.on(this._collectFinished,e,t)},t.prototype.onCollectClick=function(){this.unscheduleAllCallbacks(),s.MogafaNumberField.destroyInstanceArr(),this.hide(),this.node.emit(this._collectFinished)},t.prototype.setShowData=function(e,t){var o=this;this.show(),this.goldNum=[t],this.bgSpine.playMergeAnimation(5),this.scheduleOnce(function(){o.onCollectClick()},3)},t.prototype.goldValue2=function(){if(!(this.goldNum.length<1||this.goldGrowName.length<1)&&(this.goldNum.length!=this.goldGrowName.length&&cc.warn("\u91d1\u5e01\u6570\u636e\u9519\u8bef"),this.goldNum))for(var e=0;e<this.goldNum.length;e++)0===this.goldNum[e]?this.fguiComponent.getChild(this.goldGrowName[e]).asTextField.text="0":this.RunCoin(this.fguiComponent.getChild(this.goldGrowName[e]).asTextField,0,this.goldNum[e]+1e-4,2)},t.prototype.RunCoin=function(e,t,o,n){var i=this,a=null!=o.toString().split(".")[1],s={num:0};s.num=t,this.runGold=cc.tween(s).to(n,{num:o},{progress:function(t,n,s,r){var l;if(l=a?(t+(n-t)*r).toFixed(2):Math.ceil(t+(n-t)*r),e)try{e.text=l>o?o+"":l+""}catch(p){i.stopRunGold()}return t+(n-t)*r}}).start()},t.prototype.stopRunGold=function(){this.runGold&&this.runGold.stop()},t.prototype.onPlayShowAni=function(){},t.prototype.onPlayHideAni=function(){},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.show=function(){e.prototype.show.call(this),a.AudioManager.Singleton.playBGM("jackpotGold")},t.prototype.hide=function(){e.prototype.hide.call(this),a.AudioManager.Singleton.playBGM("bgm")},t}(r.Popup);o.GodElephantJackpotSettle=p,cc._RF.pop()},{"../../../../Common/script/base/AudioManager":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaNumberField":void 0,"../../../../SlotsCommon/script/modules/@slotsmaster/ui-common/lib/Popup":void 0,"../Spine/GodElephantWildMergeSpine":"GodElephantWildMergeSpine"}],GodElephantNetDataStruct:[function(e,t,o){"use strict";cc._RF.push(t,"f75ae6eHYtLQ6F19AI39Er2","GodElephantNetDataStruct");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TableLineSlot=o.sc_getonline_slotgode=o.cs_getonline_slotgode=o.SceneData_slotGodE=o.ShowDownSDSLOTGodE=o.sc_gambleone_slotgode=o.sc_gambleone_slot=o.cs_gambleone_slotgode=o.sc_tablestart_slotgode_n=o.JockPotInfo=o.PointSlotEx=o.HitLine=o.tableline=o.SlotTableData=o.cs_slotentertable=o.sc_slotentertable=void 0;var a=e("../../../../Common/script/base/cs_base"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.sc_base);o.sc_slotentertable=s;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.cs_base);o.cs_slotentertable=r;var l;o.SlotTableData=function(){},function(e){e[e.Gambling=1]="Gambling",e[e.ShowPrize=2]="ShowPrize",e[e.OneEnd=3]="OneEnd",e[e.InMarry=4]="InMarry",e[e.InFree=5]="InFree"}(l||(l={}));o.tableline=function(){};o.HitLine=function(){};o.PointSlotEx=function(){};o.JockPotInfo=function(){};var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.sc_base);o.sc_tablestart_slotgode_n=p;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.cs_base);o.cs_gambleone_slotgode=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.sc_base);o.sc_gambleone_slot=c;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(c);o.sc_gambleone_slotgode=d;o.ShowDownSDSLOTGodE=function(){};o.SceneData_slotGodE=function(){};var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.cs_base);o.cs_getonline_slotgode=h;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.sc_base);o.sc_getonline_slotgode=m;o.TableLineSlot=function(){this.oneline=[]},cc._RF.pop()},{"../../../../Common/script/base/cs_base":void 0}],GodElephantNotification:[function(e,t,o){"use strict";cc._RF.push(t,"8580fomkAJJnYsosK7yS+DP","GodElephantNotification"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.FreeSpinEvent=cc.Enum({FREESPINCHOOSECLOSE:"freeSpin-choose-close",FREESPINSTART:"freeSpin-start",FREESPINCLOSE:"freeSpin-close"}),e.LINE_CHANGE_EVENT="line_change_evnet",e.WIN_RESULT_EVENT="win_result_event",e}();o.default=n,cc._RF.pop()},{}],GodElephantPerJackpot:[function(e,t,o){"use strict";cc._RF.push(t,"a0b0c3cEwBJyockEWECfiex","GodElephantPerJackpot");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantPerJackpot=void 0;var a=e("../../../../Common/script/util/UIUtil"),s=e("../Control/GodElephantViewCtr"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._prevJackpotList=[],t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"JackpotTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textFieldText",{get:function(){return["jackpotTxt.jackpotTxt"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetNum",{get:function(){return[0]},enumerable:!1,configurable:!0}),t.prototype.setTargetNum=function(e){var t=0;t="0"==s.GodElephantViewCtr.instance.Model.levelid.toString().replace(s.GodElephantViewCtr.instance.Model.gameid.toString(),"")?e[0]:e[a.UIUtil.NumberToInt(s.GodElephantViewCtr.instance.view.bottomBar.betLen/4)+1],this._txtField.text=null!=t?a.UIUtil.formatNumber100(t).toString():"0"},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this._txtField=this.getChild(this.textFieldText[0]).asTextField},t.prototype.setValue=function(e,t){void 0===t&&(t=[])},t}(e("./GodElephantJackpotRoll").default);o.GodElephantPerJackpot=r,cc._RF.pop()},{"../../../../Common/script/util/UIUtil":void 0,"../Control/GodElephantViewCtr":"GodElephantViewCtr","./GodElephantJackpotRoll":"GodElephantJackpotRoll"}],GodElephantPregame:[function(e,t,o){"use strict";cc._RF.push(t,"f5ccee7wqxA75hcA0slZx9K","GodElephantPregame");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=e("../../../Common/script/base/BaseCode"),r=e("../../../Common/script/base/CommonCtr"),l=e("../../../Common/script/base/CommonView"),p=e("../../../Common/script/base/SceneManager"),u=e("../../../Common/script/base/ViewBase"),c=e("../../../Common/script/base/WebSocketManager"),d=e("../../../Boot/scirpt/AppConst"),h=e("./Control/GodElephantNetDataStruct"),m=e("./Control/GodElephantView"),f=e("./Control/GodElephantViewCtr"),g=cc._decorator,b=g.ccclass,y=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view=null,t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"login"},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),e.prototype.onLoad.call(this)},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),this.fguiComponent.makeFullScreen(),this.addFguiComponent(l.default)},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.LoginSuccess()},t.prototype.LoginSuccess=function(){this.cs_entertablenum_bf()},t.prototype.cs_entertablenum_bf=function(){if(c.WebSocketManager.getInstance.webSocket.getConnectState()){var e=new h.cs_slotentertable;e._g=f.GodElephantViewCtr.instance.Model.gameid,e.gameid=f.GodElephantViewCtr.instance.Model.gameid,e.fn="cs_slotentertable",e.levelid=Number.parseInt(f.GodElephantViewCtr.instance.Model.gameid+"1"),c.WebSocketManager.getInstance.SendJSON(e,this.sc_slotentertable.bind(this))}else r.CommonCtr.instance.ShowTipCallback(s.BaseCode[d.AppConst.languageType][-205],function(){p.SceneManager.Singleton.loadScene("GameHall","gameHall")})},t.prototype.sc_slotentertable=function(e){if(1==e.result){d.AppConst.enterTableData=e,f.GodElephantViewCtr.instance.Model.gameid=e.gameid,f.GodElephantViewCtr.instance.Model.levelid=e.levelid,f.GodElephantViewCtr.instance.Model.gamemodel=e.gamemodel,f.GodElephantViewCtr.instance.Model.numpertable=e.numpertable,f.GodElephantViewCtr.instance.Model._limit=e._limit,f.GodElephantViewCtr.instance.Model.gold=d.AppConst.mPlayerModel.gold,f.GodElephantViewCtr.instance.Model.enterGameGolod=d.AppConst.mPlayerModel.gold,f.GodElephantViewCtr.instance.Model.betScores=e.betScores,f.GodElephantViewCtr.instance.Model.table=e.table,f.GodElephantViewCtr.instance.Model.tableid=e.table.tableid,f.GodElephantViewCtr.instance.Model.gameWinAll=0;var t=JSON.parse(e.table.Context);t&&t.betScore>0?f.GodElephantViewCtr.instance.Model.bet=t.betScore:f.GodElephantViewCtr.instance.Model.bet=e.betScores[e.betScores.length-1],this.view=this.addComponent(m.default)}else{var o=s.BaseCode[d.AppConst.languageType][""+e.result];null!=o&&null!=o||(o="The room can't be found or is full , please try later."),r.CommonCtr.instance.ShowTipCallback(o,function(){p.SceneManager.Singleton.loadScene("GameHall","gameHall")})}},a([b],t)}(u.default));o.default=y,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/BaseCode":void 0,"../../../Common/script/base/CommonCtr":void 0,"../../../Common/script/base/CommonView":void 0,"../../../Common/script/base/SceneManager":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/base/WebSocketManager":void 0,"./Control/GodElephantNetDataStruct":"GodElephantNetDataStruct","./Control/GodElephantView":"GodElephantView","./Control/GodElephantViewCtr":"GodElephantViewCtr"}],GodElephantReel:[function(e,t,o){"use strict";cc._RF.push(t,"d8858h0vGdEj4529IESp306","GodElephantReel");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/ReelBase"),s=e("./GodElephantCell"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"theFinalBottomCellY",{get:function(){return 400},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskComponentName",{get:function(){return"mask"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCode",{get:function(){return 10},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Reel"},enumerable:!1,configurable:!0}),t.prototype.getFinalCell=function(e){return this.getCell(e+1)},t.prototype.beforeStartWaitingResults=function(){e.prototype.beforeStartWaitingResults.call(this)},t.prototype.afterStopWaitingResults=function(){e.prototype.afterStopWaitingResults.call(this)},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this);for(var t=3;t>=0;t--)this._cell=this.addFguiComponent(s.GodElephantCell,!1),this._cell.fguiX=0,this._cell.fguiY=250*(t-1),0==t&&(this._cell.fguiComponent.visible=!1),this._cell.code=Math.floor(Math.random()*(this.maxCode+1));for(var o=0;o<3;o++){var n=this.addFguiComponent(s.GodElephantCell,!1);n.fguiX=0,n.fguiY=0*o,n.fguiComponent.visible=!1,n.mustBeFixed=!0,this.mustBeFixedCells.push(n)}},t}(a.default);o.default=r,cc._RF.pop()},{"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/ReelBase":void 0,"./GodElephantCell":"GodElephantCell"}],GodElephantSymbolBoard:[function(e,t,o){"use strict";cc._RF.push(t,"ca4afmsy9pE27tbip5nUjpN","GodElephantSymbolBoard");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Common/script/base/AudioManager"),s=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/PrizeShowStrategy"),r=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardBase"),l=e("../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode"),p=e("./Control/GodElephantViewCtr"),u=e("./GodElephantHoldWin"),c=e("./Jackpot/GodElephantPerJackpot"),d=[[0,3,6,9,12],[1,4,7,10,13],[2,5,8,11,14],[0,4,8,10,12],[2,4,6,10,14],[0,3,7,11,14],[2,5,7,9,12],[1,5,7,9,13],[1,3,7,11,13]],h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pictureLine=[],t._runDrawLine=!1,t._drawInterval=0,t._drawMaxInterval=.5,t.oldTime=0,t.linesIndex=0,t}return i(t,e),Object.defineProperty(t.prototype,"gameView",{get:function(){return this._gameView},set:function(e){this._gameView=e},enumerable:!1,configurable:!0}),t.prototype.StatusChanged=function(){this.gameView.receiveSymbolBoardStatusChanged(this._index,this.$status)},Object.defineProperty(t.prototype,"hasCustomReplaceCode",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chipSymbolCodes",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jackpotSymbolCodes",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excludeChesses",{get:function(){var e;return(e={})[l.SpinResultsGameMode.FreeSpin]=[0,1,2,3],e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCode",{get:function(){return 10},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"FrameBox"},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this._prizeShowStrategy=new s.default,this._prizeShowStrategy.symbolBoard=this,this.addFguiComponent(c.GodElephantPerJackpot),this.node.on("setline",this.ShowLineForChange.bind(this))},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this.setControllerProperty("SingleOrDouble",2);for(var t=cc.view.getDesignResolutionSize().width,o=525+(cc.view.getVisibleSize().width-t)/2,n=0;n<=4;n++)this._holdWin=this.addFguiComponent(u.default,!1),this._holdWin.fguiX=o+260*n,this._holdWin.fguiY=160;this._allLine=this.getChild("matchLine").asCom,this._allLine.node.zIndex=2,this.ShowLineForChange(9)},t.prototype.columnMoveY=function(t,o,n){return this.beforeCollumnMove&&(this.beforeCollumnMove(),this.beforeCollumnMove=null),e.prototype.columnMoveY.call(this,t,o,n)},t.prototype.contrastMatchLine=function(e){this._pictureLine=[];for(var t=0;t<e.length;t++)for(var o=0;o<d.length;o++)if(null!=e[t]){var n=e[t].sort(function(e,t){return e-t});if(d[o].toString().indexOf(n.toString())>=0&&-1==this._pictureLine.indexOf(o)){this._pictureLine.push(o);break}}},t.prototype.beforeStartWaitingResults=function(){e.prototype.beforeStartWaitingResults.call(this),this.hideAllLines(),this.lines=[]},t.prototype.pictureLineShow=function(){this.hideAllLines();for(var e=0;e<this._pictureLine.length;e++)this._allLine._children[this._pictureLine[e]].asImage.visible=!0;this._drawInterval=0,this._drawMaxInterval=.5,this._runDrawLine=!0},t.prototype.hideAllLines=function(){for(var e=0;e<this._allLine.numChildren;e++)this._allLine._children[e].asImage.visible=!1},t.prototype.prizeLineShow=function(t,o){e.prototype.prizeLineShow.call(this,this.matchedLines,o)},t.prototype.ShowLineForChange=function(e){this.hideAllLines();for(var t=0;t<e;++t)this._allLine._children[t].asImage.visible=!0},Object.defineProperty(t.prototype,"freeModeShowConfigName",{get:function(){return"beforeSpinScatter"},enumerable:!1,configurable:!0}),t.prototype.afterChessboardStopped=function(){var t=this;this.scheduleOnce(function(){if(p.GodElephantViewCtr.instance.view&&p.GodElephantViewCtr.instance.view.spinResults){e.prototype.afterChessboardStopped.call(t);var o="";switch(p.GodElephantViewCtr.instance.view.spinResults.winType){case 0:o="";break;case 1:o="spinEnd";break;case 2:o="win1";break;case 3:o="win2";break;case 4:o="win3"}a.AudioManager.Singleton.stopEffect("spineStart"),""!=o&&a.AudioManager.Singleton.play("",o),p.GodElephantViewCtr.instance.view.bottomBar.setMyGolod(),p.GodElephantViewCtr.instance.view.bottomBar.setWinGolod(),p.GodElephantViewCtr.instance.view.SetJackpotGold(),t.matchedLines&&t.matchedLines.length>0&&(t.contrastMatchLine(t.matchedLines),t.pictureLineShow())}},.6)},t.prototype.receiveReelStopped=function(t){a.AudioManager.Singleton.play("","reelend"),e.prototype.receiveReelStopped.call(this,t)},t.prototype.onDestroy=function(){clearInterval(this.timer)},t}(r.default);o.default=h,cc._RF.pop()},{"../../../Common/script/base/AudioManager":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/PrizeShowStrategy":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardBase":void 0,"../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode":void 0,"./Control/GodElephantViewCtr":"GodElephantViewCtr","./GodElephantHoldWin":"GodElephantHoldWin","./Jackpot/GodElephantPerJackpot":"GodElephantPerJackpot"}],GodElephantSymbol:[function(e,t,o){"use strict";cc._RF.push(t,"ce98aPTgfhIz5+P2ZIUSbw4","GodElephantSymbol");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantSymbol=void 0;var a=e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaSlotsGameStage"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isFirstShow=!0,t}return i(t,e),Object.defineProperty(t.prototype,"spineShowForStationaryBoardConfigName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineShowAfterStopConfigName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineShowForPrizeConfigName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineShowConfigs",{get:function(){return a.default.gameStages[this.stageCode].symbolSpineShowConfigs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineShowForPrize",{get:function(){return a.default.gameStages[this.stageCode].symbolSpineShowConfigs.prizeShow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineComponentNames",{get:function(){return["spine1","spine2","spine3","spine4","spine5"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineShowAfterStop",{get:function(){return[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Symbol"},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this)},t.prototype.startPrizeShow=function(t){var o=this;this.scheduleOnce(function(){e.prototype.startPrizeShow.call(o,t)},.6),this._isFirstShow&&(this._isFirstShow=!1,this.scheduleOnce(function(){o.prizeShowEnd()},1))},t.prototype.stopShow=function(){e.prototype.stopShow.call(this),this._isFirstShow=!0},t.prototype.playPrizeShow=function(){},t.prototype.prizeShowEnd=function(){e.prototype.prizeShowEnd.call(this),this.setControllerProperty(this.inLineControllerName,1)},t}(e("../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBase").default);o.GodElephantSymbol=s,cc._RF.pop()},{"../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaSlotsGameStage":void 0,"../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBase":void 0}],GodElephantTopBar:[function(e,t,o){"use strict";cc._RF.push(t,"2c089N7TMpDqL0FA0ItK2Q5","GodElephantTopBar");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Common/script/base/AudioManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"coinsChangeTime",{get:function(){return 1},set:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coins",{get:function(){return 0},set:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"integral",{get:function(){return 0},set:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"TopBar"},enumerable:!1,configurable:!0}),t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t.prototype.onButtonClickMusic=function(){a.AudioManager.Singleton.play("GameCommon","btn_click")},t}(e("../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase").default);o.default=s,cc._RF.pop()},{"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0}],GodElephantViewCtr:[function(e,t,o){"use strict";cc._RF.push(t,"50730HN/dJK+YsdOhUr+9Iv","GodElephantViewCtr"),Object.defineProperty(o,"__esModule",{value:!0}),o.NileLineModel=o.VariationLanguage=o.GodElephantViewCtr=void 0;var n=e("../../../../Common/script/base/CommonCtr"),i=e("../../../../Common/script/base/WebSocketManager"),a=e("../../../../Common/script/modules/@mogafa/utils/lib/ClientMessage"),s=e("../../../../Boot/scirpt/AppConst"),r=e("../../../../GameHall/dlc/script/config/LocalizationConfig"),l=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsBigWinAdAwards"),p=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsCell"),u=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsColumn"),c=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsEvent"),d=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsFreeTrigger"),h=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode"),m=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsSlot"),f=e("./GodElephantNetDataStruct"),g=e("./GodQueueMessages"),b=function(){function e(){this.mapNotyfy=new Map,this.TPLanguage=null,this.MapVariationLanguage=new Map}return Object.defineProperty(e,"instance",{get:function(){return null==this._viewCtr&&(this._viewCtr=new e,this._viewCtr.RegistNotify(),this._viewCtr.init()),this._viewCtr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Model",{get:function(){return null==this._model&&(this._model=new S,this._model.gameid=91009,this._model.levelid=910091,this._model.Init()),this._model},enumerable:!1,configurable:!0}),e.prototype.RegistNotify=function(){this.RegistNotyfyEx("sc_addgoldingame",this.sc_addgoldingame),this.RegistNotyfyEx("sc_freshgold_n",this.sc_freshgold_n)},e.prototype.RegistNotyfyEx=function(e,t){var o=this,n=function(n){o.AddTexMessages(n,e,t.bind(o))};i.WebSocketManager.getInstance.RegistNotify(e,n,this),this.mapNotyfy.set(e,n)},e.prototype.AddTexMessages=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null),g.GodQueueMessages.instance.AddTexMes(t,e,o)},e.prototype.UnRegistNotify=function(){var e=this;this.mapNotyfy.forEach(function(t,o){i.WebSocketManager.getInstance.UnRegistNotify(o,t,e)}),this.mapNotyfy=new Map},e.prototype.init=function(){this.BoardIndex=[];for(var e=[0,3,6,9,12,1,4,7,10,13,2,5,8,11,14],t=0,o=0;o<3;o++){this.BoardIndex[o]=[];for(var n=0;n<5;n++)this.BoardIndex[o][n]=e[t],t++}},e.prototype.cs_gambleone_slotnl=function(){var e,t=new f.cs_gambleone_slotgode;t._g=this.Model.gameid,t.fn="cs_gambleone_slotgode",t.levelid=this.Model.levelid,t.tableid=this.Model.tableid,t.lineCount=this.Model.table.totalLineCount,t.gamble=this.Model.bet,i.WebSocketManager.getInstance.SendJSON(t,this.sc_gambleone_slotgode.bind(this)),null===(e=this.view)||void 0===e||e.startTimeOutTimer()},e.prototype.sc_gambleone_slotgode=function(e){if(null!=this.view){if(1!=e.result)return n.CommonCtr.instance.ShowTipLabel(this.GetLanguage(20005)),void(this.view.status=0);if(this.view.stopTimeOutTimer(),e.slots=[],e.slots[0]=new m.default,e.slots[0].columns=[],e.slots[0].matchedLines=[],e.slots[0].matchedlinesScore=[],e.matchedlinesScore=[],e.jock&&e.jock.jockPotScore?(e.jackpots=e.jock.jockPotScore,e.jackpot=e.jock.lWinScore,e.jackpotLevel=e.jock.lev):(e.jackpots=[5e3,2e3,6e6],e.jackpot=0,e.jackpotLevel=-1),e.winType=e.winType||0,e.winCoins=e.gold,e.userCoins=e.usermoney||e.usergold,e.previousGameMode,e.gameMode=0,e.nextGameMode=0,e.finishedCount=e.TotalFree-e.openfree,e.totalCount=e.TotalFree,e.timestamp=0,e.totalBetNum=0,e.highScore=0,e.bigWinCoins=e.gold,e.bigWinAdAwards=new l.default("",0,0,4),e.cards=[],e.FreeWinGold=e.FreeWinGold,e.totalCount>0&&e.finishedCount>0&&(e.winCoins=e.FreeWinGold),e._turntable[0]&&e._turntable[0].oneline){for(var t=e._turntable.length,o=e._turntable[0].oneline.length,i=0,a=o;i<a;i++)e.slots[0].columns[i]=new u.default,e.slots[0].columns[i].cells=[];for(var s=0,r=o;s<r;s++)for(i=0,a=t;i<a;i++)e.slots[0].columns[s].cells[i]=new p.default(e._turntable[i].oneline[s]-1,!1,[]),e.slots[0].columns[s].cells[i].events=[],this.JackPotCode==e._turntable[i].oneline[s]-1&&e.slots[0].columns[s].cells[i].events.push(new c.default(2e4,2e4)),this.ScatterCode==e._turntable[i].oneline[s]-1&&e.slots[0].columns[s].cells[i].events.push(new c.default(1e4,1e4))}if(e.hitline&&e.hitline.length>0)for(i=0,a=e.hitline.length;i<a;i++){for(e.slots[0].matchedLines[i]=[],s=0,r=e.hitline[i].hitcount;s<r;s++){var f=e.hitline[i].hit[s];f=this.BoardIndex[f.x-1][f.y-1],e.slots[0].matchedLines[i][s]=f}e.matchedlinesScore.push(e.hitline[i].score)}e.openfree>0&&0==e.finishedCount||e.isstartfree?(e.freeTrigger=new d.default(h.SpinResultsGameMode.FreeSpin,e.finishedCount,e.totalCount),e.nextGameMode=h.SpinResultsGameMode.FreeSpin):e.openmarry>0&&0==e.finishedCount&&(e.freeTrigger=new d.default(h.SpinResultsGameMode.Bonus,0,e.openmarry),e.nextGameMode=h.SpinResultsGameMode.Bonus),e.openfree>0&&e.finishedCount>0&&this.Model.FreeTotalCount!=e.totalCount&&(e.isstartfree=!0,e.freeTrigger=new d.default(h.SpinResultsGameMode.FreeSpin,e.finishedCount,e.totalCount),e.nextGameMode=h.SpinResultsGameMode.FreeSpin),e.totalCount>0&&e.finishedCount>0&&(e.gameMode=h.SpinResultsGameMode.FreeSpin,e.nextGameMode=h.SpinResultsGameMode.FreeSpin),e.finishedCount==e.totalCount&&0!=e.totalCount&&0!=e.finishedCount&&(e.nextGameMode=h.SpinResultsGameMode.Normal);var g=[];if(e.winType>1){for(var b=0;b<e.slots[0].matchedLines.length;++b){var y=e.slots[0].matchedLines[b][0];g[b]=e.slots[0].columns[0].cells[y].code}e.firstCodes=g}for(var S=0,C=e._turntable[0].oneline.length;S<C;S++)e.slots[0].columns[S].cells=e.slots[0].columns[S].cells;e.slots[0].columns=e.slots[0].columns,this.view.onSpinResultsReceivedInternal(e)}},e.prototype.cs_applyexittable=function(){if(i.WebSocketManager.getInstance.webSocket.getConnectState()){var e=new a.cs_applyexittable;e.fn="cs_applyexittable",e.gameid=this.Model.gameid,e._g=this.Model.gameid,e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,i.WebSocketManager.getInstance.SendJSON(e,this.sc_applyexittable.bind(this))}else this.view.ExitGame()},e.prototype.sc_applyexittable=function(e){this.view&&(1==e.result||n.CommonCtr.instance.ShowTipLabel("exit game fail"))},e.prototype.sc_freshgold_n=function(t){var o;this.view&&1==t.result&&2==t.freshType&&(s.AppConst.mPlayerModel.bReCharge=!0,n.CommonCtr.instance.ShowTipLabel(r.GodElephant[20004]["text"+s.AppConst.languageType]),e.instance.Model.gold=t.gold,null===(o=this.view.bottomBar)||void 0===o||o.setMyGolod())},e.prototype.sc_addgoldingame=function(t){var o;this.view&&1==t.result&&(1==t.status&&(s.AppConst.mPlayerModel.bReCharge=!0,n.CommonCtr.instance.ShowTipLabel(r.GodElephant[20004]["text"+s.AppConst.languageType])),e.instance.Model.gold=t.lGold,null===(o=this.view.bottomBar)||void 0===o||o.setMyGolod())},e.prototype.GetLanguage=function(e,t,o,n){void 0===t&&(t=1),null==this.TPLanguage&&(this.TPLanguage=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Elephant));var i,a=this.TPLanguage["id_"+e];return i="1"==s.AppConst.languageType?a.english:a.hindi,o&&n&&this.MapVariationLanguage.set(n,new y(o,a.type,e)),i},e.prototype.UpdateVariationLanguage=function(){var e=this;this.MapVariationLanguage.size>0&&this.MapVariationLanguage.forEach(function(t){var o=e.TPLanguage["id_"+t.lID],n="",i="",a=e.GetLanguage(t.lID,t.type);if(1==t.type){n=o.english,i=o.hindi;var s=t.gCom.text;s=(s=s.replace(n,a)).replace(i,a),t.gCom.text=s}else t.gCom.asLoader.url=a})},e}();o.GodElephantViewCtr=b;var y=function(e,t,o){this.gCom=e,this.type=t,this.lID=o};o.VariationLanguage=y;var S=function(){function e(){this.FreeTotalCount=0}return e.prototype.Init=function(){},e}();o.NileLineModel=S,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/WebSocketManager":void 0,"../../../../Common/script/modules/@mogafa/utils/lib/ClientMessage":void 0,"../../../../GameHall/dlc/script/config/LocalizationConfig":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsBigWinAdAwards":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsCell":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsColumn":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsEvent":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsFreeTrigger":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsSlot":void 0,"./GodElephantNetDataStruct":"GodElephantNetDataStruct","./GodQueueMessages":"GodQueueMessages"}],GodElephantView:[function(e,t,o){"use strict";cc._RF.push(t,"4205cepgMdPnqCO3QNDJ/C5","GodElephantView");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,r=e("../../../../Common/script/base/AudioManager"),l=e("../../../../Common/script/base/BaseCode"),p=e("../../../../Common/script/base/BaseFrameNative"),u=e("../../../../Common/script/base/CommonCtr"),c=e("../../../../Common/script/base/CommonView"),d=e("../../../../Common/script/base/ReportManager"),h=e("../../../../Common/script/base/SceneManager"),m=e("../../../../Common/script/base/ViewBase"),f=e("../../../../Boot/scirpt/AppConst"),g=e("../../../../Common/script/util/UIUtil"),b=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageEvent"),y=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageStatus"),S=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaNumberField"),C=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaSlotsGameStage"),_=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinType"),w=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardBase"),G=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardStatus"),v=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolSpineResource"),E=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolSpineShowConfig"),M=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolSpinType"),P=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/TurningWaitingResultsConfig"),B=e("../../../../SlotsCommon/script/modules/@mogafa/slots/lib/TurningWaitingResultsStrategy"),R=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode"),O=e("../../../../SlotsCommon/script/modules/spin-result/SpinResultsWinType"),j=e("../../../../SlotsCommon/script/modules/spin-result/SpineAnimationPlayParameter"),T=e("../GodElephantBotton"),k=e("../GodElephantHelpView"),N=e("../GodElephantSymbolBoard"),F=e("../GodElephantTopBar"),x=e("../GodElephantWinNew"),A=e("../Jackpot/GodElephantJackpotSettle"),V=e("../Jackpot/GodElephantPerJackpot"),L=e("../PopUp/GodElephantFreeSpinSettlement"),W=e("../PopUp/GodElephantFreeSpinStartNew"),I=e("./GodElephantViewCtr"),z=e("./GodQueueMessages");(function(e){e[e.Symbol_J=0]="Symbol_J",e[e.Symbol_Q=1]="Symbol_Q",e[e.Symbol_K=2]="Symbol_K",e[e.Symbol_A=3]="Symbol_A",e[e.Symbol_Food=4]="Symbol_Food",e[e.Symbol_Yuanbao=5]="Symbol_Yuanbao",e[e.Symbol_Nvshen=6]="Symbol_Nvshen",e[e.Symbol_Nanshen=7]="Symbol_Nanshen",e[e.Wild=8]="Wild",e[e.Scatter=9]="Scatter",e[e.Jackpot=10]="Jackpot"})(s||(s={}));var J=cc._decorator,U=J.ccclass,D=(J.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._chessboard=null,t._board=null,t.bottomBar=null,t.spinClickBuffer=null,t.$nextGameMode=R.SpinResultsGameMode.Normal,t.$symbolBoards=[],t._status=y.SlotGameStageStatus.Ready,t.spinResults=null,t.$gameMode=R.SpinResultsGameMode.Normal,t.hasJackpot=!1,t.hasBigWin=!1,t.bigWinShowEnded=!0,t._symbolSpineUrls=[],t.awardFreeTimes=0,t.jackpotShowEnded=!1,t.autoResidueCnt=0,t.isCanExeTexMas=!0,t.soundNames=[],t.startCallBack=null,t.timeout=0,t}var o;return i(t,e),o=t,Object.defineProperty(t.prototype,"stageCode",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"MainView"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needProcess",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"symbolSpineUrls",{get:function(){return this._symbolSpineUrls},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"symbolBoards",{get:function(){return this.$symbolBoards},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},set:function(e){var t=this;this._status=e;var o=null;if(e==y.SlotGameStageStatus.Ready&&(this.bottomBar.spinType!=_.SpinType.AutoSpin&&this.bottomBar.spinType!=_.SpinType.FreeSpin&&this.bottomBar.setBtnStateFalse(!0),o=G.SymbolBoardStatus.Ready),e!=y.SlotGameStageStatus.RequestingServer&&e!=y.SlotGameStageStatus.WaitingServerResults&&e!=y.SlotGameStageStatus.ServerResultsReceived||(o=G.SymbolBoardStatus.Spinning),null!=o)for(var n=0;n<this.$symbolBoards.length;n++)this.$symbolBoards[n].status=o;if(e==y.SlotGameStageStatus.BoardsReplacing&&this.canBeNextStatus()&&(this.status=y.SlotGameStageStatus.BoardsPrizeShowing),e==y.SlotGameStageStatus.BoardsPrizeShowing&&this.canBeNextStatus()&&(this.status=y.SlotGameStageStatus.BoardsSettling),e==y.SlotGameStageStatus.BoardsSettling&&this.canBeNextStatus()&&(this.status=y.SlotGameStageStatus.PrizeShowing),e==y.SlotGameStageStatus.PrizeShowing){var i=!1;if(this.hasJackpot&&!this.jackpotShowEnded)return i=!0,void this.jackpotShow(this.spinResults.jackpot);if(!this.hasJackpot&&this.hasBigWin&&!this.bigWinShowEnded)return void this.bigWinShow();if(!i&&this.spinResults.freeTrigger)return void(this.timeId=setTimeout(this.beforeEnterFreeMode.bind(this),500,this.awardFreeTimes));i||this.spinResults.finishedCount!=this.spinResults.totalCount||this.spinResults.gameMode==R.SpinResultsGameMode.Normal||this.freeModeFinished(this.spinResults.FreeWinGold,this.spinResults.totalCount),this.scheduleOnce(function(){t.status==y.SlotGameStageStatus.PrizeShowing&&(t.status=y.SlotGameStageStatus.Ready)},.5)}this.node.emit(b.SlotGameStageEvent.STATUS_CHANGED,this.status)},enumerable:!1,configurable:!0}),t.prototype.beforeEnterFreeMode=function(e){var t=this;this.autoResidueCnt=this.bottomBar.isAuto?this.bottomBar._autoTimes:0,this.bottomBar.setBtnStateFalse(!1),0!=e&&this._freeSpinStart.FreeShow(e),this.bottomBar.setFreeBtn(this.spinResults.totalCount,this.spinResults.openfree),this.scheduleOnce(function(){t.status=y.SlotGameStageStatus.Ready,t.bottomBar.setFree(3),t.autoResidueCnt<=0&&t.bottomBar.onFreeEndAutoSpin(t.spinResults.openfree)},2)},t.prototype.freeModeFinished=function(e,t){var o=this;this.bottomBar.setBtnStateFalse(!0),this._freeSpinSettlement.goldNum=[g.UIUtil.formatNumber100(e)],this._freeSpinSettlement.normalNum=[t],this._freeSpinSettlement.show(),this.bottomBar.setFree(0),r.AudioManager.Singleton.playBGM("freeBG"),this.autoResidueCnt>0&&(this.bottomBar.isAuto=!1,this.bottomBar._autoTimes=-1,this.scheduleOnce(function(){o._freeSpinSettlement.hide(),o.bottomBar.onFreeEndAutoSpin(o.autoResidueCnt)},5))},t.prototype.freeSettlementClose=function(){},t.prototype.bigWinShow=function(){this.win.popUpWin(o.spinResults.winType,g.UIUtil.formatNumber100(o.spinResults.bigWinCoins),o.spinResults.bigWinAdAwards.countdown,null,this.bigWinCallback.bind(this))},t.prototype.bigWinCallback=function(){var e=this;this.scheduleOnce(function(){e.bigWinShowEnd()},1)},t.prototype.bigWinShowEnd=function(){this.bigWinShowEnded=!0,this.hasBigWin=!1,this.status=y.SlotGameStageStatus.PrizeShowing},t.prototype.jackpotShow=function(e){var t=this.bottomBar.spinType==_.SpinType.AutoSpin||this.bottomBar.spinType==_.SpinType.FreeSpin;this.jackportSettle.setShowData(this.spinResults.jackpotLevel,g.UIUtil.formatNumber100(e),t),I.GodElephantViewCtr.instance.Model.gameWinAll=I.GodElephantViewCtr.instance.Model.gameWinAll+g.UIUtil.formatNumber100(e),this.bottomBar.setWinGolod()},t.prototype.jackpotShowEnd=function(){this.jackpotShowEnded=!0,this.status=y.SlotGameStageStatus.PrizeShowing,this.bottomBar.setMyGolod()},t.prototype.chessboardResultsSet=function(){this.changeStatus(y.SlotGameStageStatus.BoardsPrizeShowing)},t.prototype.addFguiComponent=function(t,o){void 0===o&&(o=!0);var n=e.prototype.addFguiComponent.call(this,t,o);if(n instanceof w.default){var i=n,a=n;this.symbolBoards.push(i),i.index=this.symbolBoards.length-1,i.stageCode=this.stageCode,a.gameView=this,i.onResultsSet(this.chessboardResultsSet,this)}return n instanceof T.default&&(this.bottomBar=n,this.bottomBar.game=this),n},t.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),e.prototype.onLoad.call(this),this.initSymbolSpineResources(),I.GodElephantViewCtr.instance.view=this,this.initData()},t.prototype.initData=function(){I.GodElephantViewCtr.instance.UnRegistNotify(),I.GodElephantViewCtr.instance.RegistNotify();var e=f.AppConst.enterTableData,t=I.GodElephantViewCtr.instance.Model;p.BaseFrameNative.isInHall=!1,t.gameid=e.gameid,t.levelid=e.levelid,t.gamemodel=e.gamemodel,t.numpertable=e.numpertable,t._limit=e._limit,t.gold=f.AppConst.mPlayerModel.gold,t.enterGameGolod=f.AppConst.mPlayerModel.gold,t.betScores=e.betScores,t.table=e.table,t.tableid=e.table.tableid,t.gameWinAll=0;var o=JSON.parse(e.table.Context);o&&o.betScore>0?t.bet=o.betScore:t.bet=e.betScores[e.betScores.length-1]},t.prototype.update=function(){this.isCanExeTexMas&&z.GodQueueMessages.instance.isCanExeNext()&&z.GodQueueMessages.instance.ExeNextMes()},t.prototype.changeBottomBarSpinType=function(){switch(this.$gameMode){case R.SpinResultsGameMode.FreeSpin:case R.SpinResultsGameMode.OneMore:this.bottomBar.spinType=_.SpinType.FreeSpin;break;case R.SpinResultsGameMode.Respin:this.bottomBar.spinType=_.SpinType.Respin;break;default:1===this.bottomBar.spinType?this.bottomBar.spinType=_.SpinType.AutoSpin:this.bottomBar.spinType=_.SpinType.Spin}},t.prototype.createChildComponents=function(){var t=this;e.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),this.fguiComponent.makeFullScreen(),this.fguiComponent.node.opacity=0,this.jackPotTitle=this.addFguiComponent(V.GodElephantPerJackpot),this.jackportSettle=this.addFguiComponent(A.GodElephantJackpotSettle),this.jackportSettle.onCollectFinished(function(){t.jackpotShowEnd(),t.hasJackpot=!1},this),this._stage=new C.default,this._stage.BundlePath=this.packageResourceName,this.setGameStageSpine(),this._board=this.addFguiComponent(N.default),this._board.fguiHeight=this.fguiHeight,this._board.fguiWidth=this.fguiWidth,this._chessboard=this._board,this.addFguiComponent(F.default),this.bottomBar=this.addFguiComponent(T.default),this.bottomBar.fguiX=0,this.bottomBar.fguiY=0,this._freeSpinSettlement=this.addFguiComponent(L.default),this._freeSpinStart=this.addFguiComponent(W.default),this.win=this.addFguiComponent(x.GodElephantWinNew),this.addFguiComponent(k.default),this.addFguiComponent(c.default),this.loadSounds()},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.fguiComponent.node.runAction(cc.fadeIn(1)),this.showGamePanel(),this.fguiComponent.setChildIndex(this.jackPotTitle.fguiComponent,this.fguiComponent.getChildIndex(this.bottomBar.fguiComponent)),this.fguiComponent.setChildIndex(this._freeSpinStart.fguiComponent,this.fguiComponent.getChildIndex(this.jackPotTitle.fguiComponent)),this.jackPotTitle.setTargetNum(I.GodElephantViewCtr.instance.Model.table.lJackPotScores),this.fguiComponent.setChildIndex(this.bottomBar.fguiComponent,this.fguiComponent.getChildIndex(this.jackPotTitle.fguiComponent)),this.isCanExeTexMas=!0},t.prototype.OnLoadLanguage=function(){var e=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Elephant);for(var t in e){var o=e[t];if(o&&o.comp&&this[o.comp]){var n="1"==f.AppConst.languageType?o.english:o.hindi;1==o.type?this[o.comp].text=n:this[o.comp].url="ui://GodElephant/"+n}}this.node.emit("GELaodLanguage"),I.GodElephantViewCtr.instance.UpdateVariationLanguage()},t.prototype.loadSounds=function(){cc.assetManager.getBundle(this.packageResourceName).loadDir("res/Sounds",cc.AudioClip,function(e,t){for(var o=0;o<t.length;o++)r.AudioManager.Singleton.add(t[o].name,t[o]);r.AudioManager.Singleton.playBGM("bgm")})},t.prototype.setWin=function(e){this.win.updateResultData(e,this.spinResults.matchedlinesScore,I.GodElephantViewCtr.instance.Model.bet)},t.prototype.onSpinResultsReceivedInternal=function(e){f.AppConst.isGoldCosted=!0,e.firstCodes&&this.win.updateResultData(e.firstCodes,e.matchedlinesScore,I.GodElephantViewCtr.instance.Model.bet);for(var t=0;t<e.slots.length&&!(t>=this.symbolBoards.length);t++)this.spinResults=e,this.symbolBoards[t].slotResults=e.slots[t],this.$gameMode=e.gameMode,o.spinResults=e,I.GodElephantViewCtr.instance.Model.gold=e.usergold||e.userCoins,1==e.gameMode&&e.openfree==e.TotalFree&&e.TotalFree>0?I.GodElephantViewCtr.instance.Model.gameWinAll=g.UIUtil.formatNumber100(e.FreeWinGold):I.GodElephantViewCtr.instance.Model.gameWinAll=g.UIUtil.formatNumber100(e.winCoins),1!=e.gameMode||e.isstartfree?1==e.gameMode&&e.isstartfree&&this.bottomBar.setFreeBtn(I.GodElephantViewCtr.instance.Model.FreeTotalCount,e.openfree-(e.totalCount-I.GodElephantViewCtr.instance.Model.FreeTotalCount)):this.bottomBar.setFreeBtn(e.totalCount,e.openfree),this.awardFreeTimes=e.totalCount-I.GodElephantViewCtr.instance.Model.FreeTotalCount,I.GodElephantViewCtr.instance.Model.FreeTotalCount=e.totalCount,e.winType!=O.SpinResultsWinType.None&&e.winType!=O.SpinResultsWinType.Normal&&(this.hasBigWin=!0,this.bigWinShowEnded=!1),-1!==e.jackpotLevel&&(this.hasJackpot=!0,this.jackpotShowEnded=!1),this.changeBottomBarSpinType();I.GodElephantViewCtr.instance.Model.table.lJackPotScores=e.jackpots,this.changeStatus(y.SlotGameStageStatus.ServerResultsReceived);var n=I.GodElephantViewCtr.instance.Model.table.totalLineCount*I.GodElephantViewCtr.instance.Model.bet-I.GodElephantViewCtr.instance.Model.gameWinAll;d.default.Singleton.reportGameRound(g.UIUtil.formatNumber100(n))},t.prototype.SetJackpotGold=function(){this.jackPotTitle.setTargetNum(I.GodElephantViewCtr.instance.Model.table.lJackPotScores)},t.prototype.loadProcess=function(){},t.prototype.changeStatus=function(e){this.status=e},t.prototype.receiveSymbolBoardStatusChanged=function(){if(this.canBeNextStatus())switch(this.status){case y.SlotGameStageStatus.ServerResultsReceived:this.status=y.SlotGameStageStatus.BoardsReplacing;break;case y.SlotGameStageStatus.BoardsReplacing:this.status=y.SlotGameStageStatus.BoardsPrizeShowing;break;case y.SlotGameStageStatus.BoardsPrizeShowing:this.status=y.SlotGameStageStatus.BoardsSettling;break;case y.SlotGameStageStatus.BoardsSettling:this.status=y.SlotGameStageStatus.PrizeShowing;break;case y.SlotGameStageStatus.PrizeShowing:this.$nextGameMode!==R.SpinResultsGameMode.Normal||this.spinResults.freeTrigger||(this.status=y.SlotGameStageStatus.Ready)}},t.prototype.spinClick=function(){switch(cc.log("===================spinClick status:",this._status),this.spinClickBuffer=null,this._status){case y.SlotGameStageStatus.Ready:this.beforeSpinRequestingInternal(),this.spinRequest(),r.AudioManager.Singleton.stopEffect("spineStart"),r.AudioManager.Singleton.play("","spineStart"),this.bottomBar.setBtnStateFalse(!1),this._freeSpinSettlement.hide(),this.spinResults&&0==this.spinResults.openfree&&(I.GodElephantViewCtr.instance.Model.gameWinAll=0,this.bottomBar.setWinGolod());break;case y.SlotGameStageStatus.BoardsSpinning:this.stopWaitingResults();break;case y.SlotGameStageStatus.BoardsPrizeShowing:this.$nextGameMode===R.SpinResultsGameMode.Normal?this.spinClickBuffer=y.SlotGameStageStatus.BoardsPrizeShowing:this.spinClickBuffer=null;break;case y.SlotGameStageStatus.WaitingServerResults:case y.SlotGameStageStatus.RequestingServer:this.spinClickBuffer=this._status;break;case y.SlotGameStageStatus.ServerResultsReceived:this.stopWaitingResults()}},t.prototype.beforeSpinRequestingInternal=function(){o.spinResults=null;for(var e=0;e<this.symbolBoards.length;e++)this.symbolBoards[e].reset();this.beforeSpinRequesting()},t.prototype.beforeSpinRequesting=function(){this.changeStatus(y.SlotGameStageStatus.RequestingServer)},t.prototype.spinRequest=function(){if(this.status==y.SlotGameStageStatus.RequestingServer){for(var e=0;e<this.symbolBoards.length;e++)this.symbolBoards[e].startWaitingResults();this.schedule(this.spinRequesting,0)}},t.prototype.stopWaitingResults=function(){for(var e=0;e<this.symbolBoards.length;e++)this.symbolBoards[e].stopWaitingResults()},t.prototype.canBeNextStatus=function(){for(var e=!0,t=0;t<this.symbolBoards.length&&(e=this.symbolBoards[t].canBeNextStatus(this.status));t++);return e},t.prototype.spinRequesting=function(){this.status==y.SlotGameStageStatus.RequestingServer&&(this.changeStatus(y.SlotGameStageStatus.WaitingServerResults),this.unschedule(this.spinRequesting),I.GodElephantViewCtr.instance.cs_gambleone_slotnl())},t.prototype.showGamePanel=function(){var e=new P.default;e.startIntervalEachColumn=[0,0,0,0,0],e.stopIntervalEachColumn=[0,50,50,50,50],e.manualStopIntervalEachColumn=[0,0,0,0,0],e.autoStopTimeout=800,e.step=80,e.stopStep=80,e.manualStopStep=80,e.holdWinStep=120,e.holdWinStopTimeout=2e3,e.respinType=M.SymbolSpinType.Column,e.endDownResilience={duration:.15,xPosition:0,yPosition:-120},e.endUpResilience={duration:.15,xPosition:0,yPosition:-70};var t=new B.default(this._chessboard,[3,3,3,3,3],e);this._chessboard.waitingResultsStrategy=t;var o=new P.default;o.startIntervalEachColumn=[0,0,0,0,0],o.stopIntervalEachColumn=[0,30,30,30,30],o.manualStopIntervalEachColumn=[0,0,0,0,0],o.autoStopTimeout=600,o.step=50,o.stopStep=50,o.manualStopStep=50,o.holdWinStep=200,o.holdWinStopTimeout=1500,o.respinType=M.SymbolSpinType.Column,o.endDownResilience={duration:.08,xPosition:0,yPosition:-170},o.endUpResilience={duration:.08,xPosition:0,yPosition:-70};var n=new B.default(this._chessboard,[3,3,3,3,3],o);this._chessboard.fastWaitingResultsStrategy=n},t.prototype.initSymbolSpineResources=function(){var e=new v.default(s.Symbol_J,["res/Spine/j/j","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),t=new v.default(s.Symbol_Q,["res/Spine/q/q","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),o=new v.default(s.Symbol_K,["res/Spine/k/k","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),n=new v.default(s.Symbol_A,["res/Spine/a/a","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),i=new v.default(s.Symbol_Food,["res/Spine/nitu/nitu","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),a=new v.default(s.Symbol_Yuanbao,["res/Spine/youdeng/youdeng","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),r=new v.default(s.Symbol_Nvshen,["res/Spine/nv/nv","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),l=new v.default(s.Symbol_Nanshen,["res/Spine/nan/nan","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),p=new v.default(s.Wild,["res/Spine/wild/wild","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),u=new v.default(s.Scatter,["res/Spine/free/free","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]),c=new v.default(s.Jackpot,["res/Spine/niu/niu","res/Spine/zhongjiangdonghua/zhongjiangdonghua"]);this._symbolSpineUrls=[e,t,o,n,i,a,r,l,p,u,c]},t.prototype.setGameStageSpine=function(){this._stage.symbolSpineResources=this._symbolSpineUrls,this._stage.addSymbolSpineShowConfigs("prizeShow",[new E.default(s.Symbol_J,"j","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Q,"q","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_K,"k","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_A,"a","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Food,"nitu","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Yuanbao,"youdeng","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Nvshen,"nv","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Nanshen,"nan","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Wild,"wild","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Scatter,"free","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Jackpot,"niu","spine2",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_J,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Q,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_K,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_A,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Food,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Yuanbao,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Nvshen,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Symbol_Nanshen,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Wild,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Scatter,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999),new E.default(s.Jackpot,"zhongjiangdonghua","spine1",[new j.default("animation",!0)],null,9999)]),C.default.setGameStages(this.stageCode,this._stage)},t.prototype.offStatusChanged=function(e,t){this.node.off(b.SlotGameStageEvent.STATUS_CHANGED,e,t)},t.prototype.onStatusChanged=function(e,t){this.node.on(b.SlotGameStageEvent.STATUS_CHANGED,e,t)},t.prototype.onDestroy=function(){clearTimeout(this.timeId),S.MogafaNumberField.destroyInstanceArr(),this.unscheduleAllCallbacks(),r.AudioManager.Singleton.stopBGM(),e.prototype.onDestroy.call(this)},t.prototype.startTimeOutTimer=function(){this.startCallBack=function(){var e=this;this.timeout+=1,this.timeout>10&&(u.CommonCtr.instance.ShowTip(l.BaseCode[f.AppConst.languageType].NETWORK_TIMEOUT,function(){e.ExitGame()},null),this.startCallBack&&this.unschedule(this.startCallBack),this.status=y.SlotGameStageStatus.Ready)},this.timeout=0,this.schedule(this.startCallBack,1)},t.prototype.stopTimeOutTimer=function(){this.startCallBack&&this.unschedule(this.startCallBack)},t.prototype.ClearPrizeShow=function(){for(var e=0;e<this.symbolBoards.length;e++)this.symbolBoards[e].reset();this._board.hideAllLines()},t.prototype.ExitGame=function(){this.isCanExeTexMas=!1,this._freeSpinSettlement.stopRunGold(),this.win.stopRunGold2(),this.jackportSettle.stopRunGold(),cc.audioEngine.stopAll(),I.GodElephantViewCtr.instance.view=null,z.GodQueueMessages.instance.removeAllMes(),I.GodElephantViewCtr.instance.UnRegistNotify(),h.SceneManager.Singleton.loadScene("GameHall","gameHall")},o=a([U],t)}(m.default));o.default=D,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/BaseCode":void 0,"../../../../Common/script/base/BaseFrameNative":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/CommonView":void 0,"../../../../Common/script/base/ReportManager":void 0,"../../../../Common/script/base/SceneManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageEvent":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/GameStage/SlotGameStageStatus":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaNumberField":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/MogafaSlotsGameStage":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SpinType":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardBase":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolBoardStatus":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolSpineResource":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolBoard/SymbolSpineShowConfig":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/SymbolSpinType":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/TurningWaitingResultsConfig":void 0,"../../../../SlotsCommon/script/modules/@mogafa/slots/lib/TurningWaitingResultsStrategy":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsGameMode":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpinResultsWinType":void 0,"../../../../SlotsCommon/script/modules/spin-result/SpineAnimationPlayParameter":void 0,"../GodElephantBotton":"GodElephantBotton","../GodElephantHelpView":"GodElephantHelpView","../GodElephantSymbolBoard":"GodElephantSymbolBoard","../GodElephantTopBar":"GodElephantTopBar","../GodElephantWinNew":"GodElephantWinNew","../Jackpot/GodElephantJackpotSettle":"GodElephantJackpotSettle","../Jackpot/GodElephantPerJackpot":"GodElephantPerJackpot","../PopUp/GodElephantFreeSpinSettlement":"GodElephantFreeSpinSettlement","../PopUp/GodElephantFreeSpinStartNew":"GodElephantFreeSpinStartNew","./GodElephantViewCtr":"GodElephantViewCtr","./GodQueueMessages":"GodQueueMessages"}],GodElephantWildMergeSpine:[function(e,t,o){"use strict";cc._RF.push(t,"08636x7ZIxMiZ2Vv6XCtdjA","GodElephantWildMergeSpine");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantWildMergeSpine=void 0;var a=e("../../../../SlotsCommon/script/modules/spin-result/SpineCommon"),s=function(){function e(){}return e.MERGEROW="dajiang_xiugai",e}(),r={2:"bigwin",3:"megawin",4:"superwin",5:"jackpot"},l=function(e){function t(t){return e.call(this,t,["res/Spine/bigwin/"+s.MERGEROW])||this}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),t.prototype.playMergeAnimation=function(e){this._skeleton.skeletonData=this._resources[s.MERGEROW],this._skeleton.premultipliedAlpha=!0,this._node.active=!0,this.skeleton.setAnimation(0,r[e],!1),this.skeleton.setCompleteListener(this.onSpineCompletedOnce.bind(this))},t.prototype.onSpineCompletedOnce=function(){this._node.active=!1},t}(a.default);o.GodElephantWildMergeSpine=l,cc._RF.pop()},{"../../../../SlotsCommon/script/modules/spin-result/SpineCommon":void 0}],GodElephantWinCode:[function(e,t,o){"use strict";cc._RF.push(t,"a271epr5RtMzqnYd9n8FAyp","GodElephantWinCode");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantWinCode=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxCode=10,t._codeIndex=0,t._codeCount=0,t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"winCode"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"codeName",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winCountName",{get:function(){return"number"},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.updateUI()},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),this._winCount=this.getChild(this.winCountName).asTextField},t.prototype.setWinCode=function(e,t){this._codeIndex=e,this._codeCount=t,this.updateUI()},t.prototype.updateUI=function(){null!=this._winCount&&(this.setControllerProperty(this.codeName,this._codeIndex),this._winCount.text="X"+this._codeCount)},t.prototype.hideOrShow=function(e){this.node.active=e},t.prototype.destroySelf=function(){this.fguiComponent.node.destroy()},t}(e("../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);o.GodElephantWinCode=a,cc._RF.pop()},{"../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],GodElephantWinNew:[function(e,t,o){"use strict";cc._RF.push(t,"fd220qAIK1MtrtzZV9MBYTU","GodElephantWinNew");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GodElephantWinNew=void 0;var a=e("../../../Common/script/base/AudioManager"),s=e("../../../Common/script/base/ViewBase"),r=e("../../../Common/script/modules/@mogafa/utils/lib/Utils"),l=e("./Control/GodElephantViewCtr"),p=e("./Spine/GodElephantWildMergeSpine"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._backButton=null,t._rewardIntegral=0,t._isCoinFly=!1,t._flyCoins=100,t._countdown=-1,t._autoCloseCount=-1,t}return i(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/GodElephant"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"win"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backButtonName",{get:function(){return"backToGame"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coinEndPos",{get:function(){return this._coinEndPos},set:function(e){this._coinEndPos=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCoinFly",{get:function(){return this._isCoinFly},set:function(e){this._isCoinFly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoCloseCount",{get:function(){return this._autoCloseCount},set:function(e){this._autoCloseCount=e,this.autoCloseCount>0&&(this._countdownText.text=this.autoCloseCount+"",this.collectAward())},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.createChildComponents=function(){var t=this;e.prototype.createChildComponents.call(this),this._backButton=this.getChild(this.backButtonName).asButton,this._backButton.onClick(this.onClickCloseView2.bind(this)),this._megaWinSpine=new p.GodElephantWildMergeSpine(this.getChild("spine").node),this.addChild(this._megaWinSpine),this._countdownText=this.getChild("countdown").asTextField,this._coin=this.fguiComponent.getChild("winCoin"),this._integral=this.fguiComponent.getChild("winIntegral"),this._coin.node.zIndex=99,this._integral.node.zIndex=99,this._rippleNode=this.getChild("ripple").node,this.comjinblizi=this.fguiComponent.getChild("jinbiLizi").asCom;var o=this.comjinblizi.getChild("jinbiLiziPos").asLoader,n=this;cc.assetManager.getBundle("GodElephant").load("res/prefabs/WinLizi",cc.Prefab,function(e,i){n.winLizi=cc.instantiate(i),n.comjinblizi.node.addChild(n.winLizi),n.winLizi.position=n.winLizi.parent.convertToNodeSpaceAR(o.node.parent.convertToWorldSpaceAR(o.node.position)),t.comjinblizi.visible=!1,n.winLizi.zIndex}),this.fguiComponent.visible=!1},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this)},t.prototype.collectAward=function(){a.AudioManager.Singleton.play("GameCommon","btn_click"),this.isCoinFly||(this.unscheduleAllCallbacks(),this._countdownText.visible=!1,this.isCoinFly=!0)},t.prototype.updateResultData=function(e,t,o){this._hitlines=e,this._linesScore=t,this._count=o},t.prototype.popUpWin=function(e,t,o,n,i){var s,r=this;if(l.GodElephantViewCtr.instance.view&&(null===(s=l.GodElephantViewCtr.instance.view)||void 0===s?void 0:s.isCanExeTexMas)){this._rewardCoins=isNaN(t)?0:t,this.winFinishedCallback=i,this.fguiComponent.visible=!0,this._countdown=o,this.autoCloseCount=this._countdown,this.comjinblizi.visible=!1;var p="sound-win-big-"+Math.floor(2*Math.random()+1);switch(a.AudioManager.Singleton.play("",p),e){case 1:a.AudioManager.Singleton.play("","wingold");break;case 2:case 3:case 4:this.getChild("spine").visible=!0,this._megaWinSpine.playMergeAnimation(e),a.AudioManager.Singleton.play("","slotsnl_bigwin")}this.scheduleOnce(function(){r.showCoin(t)},.2),this.scheduleOnce(function(){r.onClickCloseView()},3)}},t.prototype.onClickCloseView2=function(){if(this._coin.asTextField.text!=this._rewardCoins.toString())return this.stopRunGold(),void(this._coin.asTextField.text=this._rewardCoins.toString());this.onClickCloseView()},t.prototype.onClickCloseView=function(){this.winFinishedCallback(this._rewardCoins,this._rewardIntegral),this.fguiComponent.visible=!1},t.prototype.showCoin=function(e){var t=this._coin.asTextField,o=this._integral.asTextField;t.text=r.Utils.formatNumberToInt("0"),o.text=r.Utils.formatNumberToInt("0"),this._coin.visible=!0,this.comjinblizi.visible=!0,this.RunCoin(t,0,e+1e-4,2)},t.prototype.RunCoin=function(e,t,o,n){var i=this,a=null!=o.toString().split(".")[1],s={num:0};s.num=t,this.runGold=cc.tween(s).to(n,{num:o},{progress:function(t,n,s,r){if(!i._isDestory){var l;if(l=a?(t+(n-t)*r).toFixed(2):Math.ceil(t+(n-t)*r),e)try{e.text=l>o?o+"":l+""}catch(p){i.stopRunGold()}return t+(n-t)*r}}}).start()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.stopRunGold=function(){this.runGold&&this.runGold.stop()},t.prototype.stopRunGold2=function(){this.unscheduleAllCallbacks(),this.runGold&&this.runGold.stop(),cc.log("============",this._rewardCoins),this._coin.asTextField.text=this._rewardCoins+"",this.fguiComponent.visible=!1},t}(s.default);o.GodElephantWinNew=u,cc._RF.pop()},{"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/modules/@mogafa/utils/lib/Utils":void 0,"./Control/GodElephantViewCtr":"GodElephantViewCtr","./Spine/GodElephantWildMergeSpine":"GodElephantWildMergeSpine"}],GodQueueMessages:[function(e,t,o){"use strict";cc._RF.push(t,"378c7a0KzpDsaKq25yq274G","GodQueueMessages"),Object.defineProperty(o,"__esModule",{value:!0}),o.GodQueueMessages=void 0;var n=function(){function e(){this.listMessages=[],this.oldMsgid=0}return Object.defineProperty(e,"instance",{get:function(){return null==this._texms&&(this._texms=new e),this._texms},enumerable:!1,configurable:!0}),e.prototype.AddTexMes=function(e,t,o){var n=new i;n.name=e,n.status=!1,n.data=t,n.fun=o,this.listMessages.push(n)},e.prototype.isCanExeNext=function(){return 0!=this.listMessages.length&&0==this.listMessages[0].status},e.prototype.ExeNextMes=function(){this.listMessages.length>0&&(this.oldMsgid,this.listMessages[0].data._msgid,this.oldMsgid=this.listMessages[0].data._msgid,this.listMessages[0].status=!0,this.listMessages[0].fun(this.listMessages[0].data),this.listMessages.shift())},e.prototype.RemoveFirstMes=function(){this.listMessages.length>0&&1==this.listMessages[0].status&&this.listMessages.shift()},e.prototype.removeAllMes=function(){this.listMessages=[]},e}();o.GodQueueMessages=n;var i=function(){};cc._RF.pop()},{}]},{},["GodElephantNetDataStruct","GodElephantView","GodElephantViewCtr","GodQueueMessages","GodElephantBotton","GodElephantCell","GodElephantHelpView","GodElephantHoldWin","GodElephantButtonLongTouch","GodElephantNotification","GodElephantPregame","GodElephantReel","GodElephantSymbol","GodElephantSymbolBoard","GodElephantTopBar","GodElephantWinNew","GodElephantJackpotRoll","GodElephantJackpotSettle","GodElephantPerJackpot","GodElephantCoin","GodElephantFreeSpinSettlement","GodElephantFreeSpinStartNew","GodElephantWinCode","GodElephantWildMergeSpine"]);
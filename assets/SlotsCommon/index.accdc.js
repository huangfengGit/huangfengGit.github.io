window.__require=function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l=r.split("/");if(l=l[l.length-1],!e[l]){var u="function"==typeof __require&&__require;if(!a&&u)return u(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){return o(e[r][1][t]||t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({BetChangedMessage:[function(t,e,i){"use strict";cc._RF.push(e,"26eaa4My/JGO79UwmmQiVGy","BetChangedMessage");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(e,i,n){var o=t.call(this,"betChanged",!0)||this;return o._bet=0,o._isMin=!0,o._isMax=!0,o._bet=e,o._isMax=n,o._isMin=i,o}return o(e,t),Object.defineProperty(e.prototype,"bet",{get:function(){return this._bet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMin",{get:function(){return this._isMin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMax",{get:function(){return this._isMax},enumerable:!1,configurable:!0}),e}(cc.Event.EventCustom);i.default=s,cc._RF.pop()},{}],BigWinSpread:[function(t,e,i){"use strict";cc._RF.push(e,"7aa1dSofglA0oMucxdmcdQY","BigWinSpread");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.BigWinSpread=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"UI/Common"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"BigWinCoin"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._windowWidth=fairygui.GRoot.inst.width,this._windowHeight=fairygui.GRoot.inst.height,this._coin=this.fguiComponent.node,this._coin.anchorX=.5,this._coin.anchorY=.5,this._coin.x=fairygui.GRoot.inst.width/2,this._coin.y=-fairygui.GRoot.inst.height/2,this._coin.scale=Math.random()+.4,this._coin.angle=360*Math.random(),this._radius=this._windowWidth/4,this._startPosition=cc.v2(this._coin.x,this._coin.y),this._bezierTime=2},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this)},e.prototype.coinFlyByCurve=function(t,e,i){var n=this;void 0===i&&(i=30),this._coin.position=cc.v3(t.x,t.y,0),this._coin.scale=.4,this._coin.angle=360*Math.random();var o=Math.abs(e.y)/Math.cos(2*Math.PI/360)*i/2*Math.sin(2*Math.PI/360)*i,s=cc.v2(t.x+o,t.y-t.y/2),r=(cc.v2(t.x-2*o,t.y-t.y/2),[s,cc.v2(e.x-2*o,e.y+t.y/2),e]);this._coin.runAction(cc.sequence(cc.bezierTo(.5,r),cc.callFunc(function(){n._coin.isValid&&n._coin.destroy()})).easing(cc.easeInOut(1.2)))},e.prototype.degree30CoinsLeft=function(){var t=this._radius,e=this._radius*Math.tan(2*Math.PI/360*(60+10*Math.random())),i=cc.v2(t,e),n=300*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.degree30CoinsRight=function(){var t=this._windowWidth/2+this._radius,e=this._radius*Math.tan(2*Math.PI/360*(60+10*Math.random())),i=cc.v2(t,e),n=this._windowWidth+100*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.degree50CoinsLeft=function(){var t=this._radius,e=this._radius*Math.tan(2*Math.PI/360*(50+10*Math.random())),i=cc.v2(t,e),n=300*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.degree50CoinsRight=function(){var t=this._windowWidth/2+this._radius,e=this._radius*Math.tan(2*Math.PI/360*(50+10*Math.random())),i=cc.v2(t,e),n=this._windowWidth+100*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.degree70CoinsLeft=function(){var t=this._radius,e=this._radius*Math.tan(2*Math.PI/360*(60+5*Math.random())),i=cc.v2(t,e),n=this._coin.x-600*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.degree70CoinsRight=function(){var t=this._windowWidth/2+this._radius,e=this._radius*Math.tan(2*Math.PI/360*(60+5*Math.random())),i=cc.v2(t,e),n=this._coin.x+600*Math.random(),o=-fairygui.GRoot.inst.height,s=cc.v2(n,o);this.bezierArr=[this._startPosition,i,s],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.verticalCoinsLeft=function(){var t=this._windowWidth/2-(80+100*Math.random()),e=cc.v2(t,this._windowHeight+(50+100*Math.random())),i=this._windowWidth/2-(80+100*Math.random()),n=-fairygui.GRoot.inst.height;this.bezierArr=[this._startPosition,e,cc.v2(i,n)],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.verticalCoinsRight=function(){var t=this._windowWidth/2+80+100*Math.random(),e=cc.v2(t,this._windowHeight+(50+100*Math.random())),i=this._windowWidth/2+80+100*Math.random(),n=-fairygui.GRoot.inst.height;this.bezierArr=[this._startPosition,e,cc.v2(i,n)],this.bezier(this._bezierTime,this.bezierArr)},e.prototype.bezier=function(t,e){var i=this;this.fguiComponent.node.runAction(cc.sequence(cc.bezierTo(t,e),cc.callFunc(function(){i.fguiComponent&&i.fguiComponent.node.isValid&&i.fguiComponent.node.destroy()})))},e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.BigWinSpread=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],BottomBarBase:[function(t,e,i){"use strict";cc._RF.push(e,"3813a+/JFJI3I77AkOFc8Fs","BottomBarBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./BetChangedMessage"),r=t("../SpinType"),a=t("../GameStage/SlotGameStageStatus"),l=t("./BottomBarSpinStaus"),u=t("../SpinStatusStrategyNormal"),c=t("../GameStage/SlotGameStageBase"),p=t("../../../../spin-result/SpinResultsGameMode"),h=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/ButtonLongTouch"),d=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase"),f=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),m=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/Utils"),g=t("../../../../../../../Boot/scirpt/AppConst"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spinType=r.SpinType.Spin,e._nextGameMode=p.SpinResultsGameMode.Normal,e._isFast=!1,e._bets=[],e._bet=0,e._prevWinCoins=0,e._coinsChangeTime=1,e._gameStatus=a.SlotGameStageStatus.Ready,e._spinStatusStrategy=new u.default,e._buttonLongTouch=null,e._totalAutoSpinTimes=0,e._originTimes=0,e._totalLineCount=0,e._freeModeFinished=!1,e._isAutoSpin=!1,e.isJackpot=!1,e._coinIncreaseTime=1.5,e._autoTimes=1,e}return o(e,t),Object.defineProperty(e.prototype,"challengeButtonName",{get:function(){return"challenge"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cardButtonName",{get:function(){return"card"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxBetButtonName",{get:function(){return"maxBet"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fastButtonName",{get:function(){return"fast"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinButtonName",{get:function(){return"spin"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoSpinComponent",{get:function(){return"autoSpin"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoSpinButtonName",{get:function(){return"spin.autoSpin.auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spin100ButtonName",{get:function(){return"spin.autoSpin.spin100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spin50ButtonName",{get:function(){return"spin.autoSpin.spin50"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spin15ButtonName",{get:function(){return"spin.autoSpin.spin15"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"freeSpinCountName",{get:function(){return"spin.freeSpinsCount"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoSpinCountName",{get:function(){return"spin.autoStopCount"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinityName",{get:function(){return"spin.infinity"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"winCoinsName",{get:function(){return"winCoins"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coinsName",{get:function(){return"winCoins.coins"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"twinkleName",{get:function(){return"winCoins.twinkle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBetName",{get:function(){return"totalBet"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"betName",{get:function(){return"totalBet.bet"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"increaseBetName",{get:function(){return"totalBet.increaseBet"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decreaseBetName",{get:function(){return"totalBet.decreaseBet"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinStatusControllerName",{get:function(){return"spin.spinStatus"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinUserGold",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exitButtonName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helpButtonName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SoundButtonName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAutoSpin",{get:function(){return this._isAutoSpin},set:function(t){this._isAutoSpin=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinType",{get:function(){return this._spinType},set:function(t){switch(this._spinType=t,t){case r.SpinType.AutoSpin:this.setControllerProperty(this.spinStatusControllerName,2);break;case r.SpinType.FreeSpin:this.setControllerProperty(this.spinStatusControllerName,3);break;case r.SpinType.Respin:this.setControllerProperty(this.spinStatusControllerName,1);break;case r.SpinType.Spin:this.setControllerProperty(this.spinStatusControllerName,0)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalLineCount",{get:function(){return this._totalLineCount},set:function(t){this._totalLineCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coinsChangeTime",{get:function(){return this._coinsChangeTime},set:function(t){this._coinsChangeTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"winCoins",{get:function(){return this._winCoins},set:function(t){this._winCoins=t,c.default.spinResults&&c.default.spinResults.gameMode===p.SpinResultsGameMode.Respin||(t>0?(this.winCoin.play(this._prevWinCoins,t,this.coinsChangeTime,this.coinPlayCallback.bind(this)),this.emitCoinChanged()):this.getChild(this.coinsName).asTextField.text=m.Utils.formatNumberToInt(0,0),this.currentGameMode!==p.SpinResultsGameMode.Normal?this._prevWinCoins=t:this._prevWinCoins=0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coins",{get:function(){return this._coins},set:function(t){null!=t&&this._coins!=t&&(this._coins=t,this._coinsChangeTime?this.coinIncreaseAnime(t.toString()):this._coinLabel.text=m.Utils.formatNumberToInt(t,0))},enumerable:!1,configurable:!0}),e.prototype.coinPlayCallback=function(){this.offCoinChanged()},Object.defineProperty(e.prototype,"freeSpinCount",{get:function(){return this._freeSpinCount},set:function(t){this._freeSpinCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoSpinCount",{get:function(){return this._autoSpinCount},set:function(t){this._autoSpinCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"game",{get:function(){return this._game},set:function(t){this._game&&this._game.offStatusChanged(this.statusChanged,this),this._game=t,this._game&&this._game.onStatusChanged(this.statusChanged,this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFast",{get:function(){return this._isFast},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFastInternal",{set:function(t){this._isFast=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMinBet",{get:function(){return!this._bets||0==this._bets.length||this._bet==this._bets[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMaxBet",{get:function(){return!this._bets||0==this._bets.length||this._bet==this._bets[this._bets.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameStatus",{get:function(){return this._gameStatus},set:function(t){this._gameStatus=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bet",{get:function(){return this._bet},set:function(t){this._bet=t,this.betNumber.text=m.Utils.numToCountingNnit(this.bet),this._totalLineCount&&(this.betNumber.text=m.Utils.numToCountingNnit(this.bet*this._totalLineCount))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bets",{get:function(){return this._bets||(this._bets=[]),this._bets},set:function(t){var e=this;if(this._bets=t,g.AppConst.enterRoomData&&g.AppConst.enterRoomData.betScores&&(this._bets=g.AppConst.enterRoomData.betScores,this._totalLineCount=g.AppConst.enterRoomData.totalLineCount>50?50:g.AppConst.enterRoomData.totalLineCount),!this._bets)return this._bets=[],this._bet=0,void this.node.dispatchEvent(new s.default(this._bet,this.isMinBet,this.isMaxBet));this._bets=this._bets.sort(function(t,e){return t-e}),this._bets.find(function(t){return e._bet==t})||(this.bet=this._bets[0],this.changeBetButtonsEnable(!0,!1),this.node.dispatchEvent(new s.default(this._bet,this.isMinBet,this.isMaxBet)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextGameMode",{get:function(){return this._nextGameMode},set:function(t){this._nextGameMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentGameMode",{get:function(){return this._currentGameType},set:function(t){this._currentGameType=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"freeGameTrigger",{get:function(){return this._freeGameTrigger},set:function(t){this._freeGameTrigger=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinStatusStrategy",{get:function(){return this._spinStatusStrategy},set:function(t){this._spinStatusStrategy=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"holdUpTime",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"freeModeFinished",{get:function(){return this._freeModeFinished},set:function(t){this._freeModeFinished=t},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){var e;t.prototype.createChildComponents.call(this),this.bottomBar=this.fguiComponent,this.cardButtonName&&((e=this.getChild(this.cardButtonName))?(this.cardButton=e.asButton,this.cardButton.onClick(this.onCardClick.bind(this))):cc.error("\u5361\u7ec4\u6309\u94ae\u7ec4\u4ef6"+this.cardButtonName+"\u4e0d\u5b58\u5728")),this.maxBetButtonName&&((e=this.getChild(this.maxBetButtonName))?(this.maxBetButton=e.asButton,this.maxBetButton.onClick(this.onMaxBetClick.bind(this))):cc.error("\u6700\u5927\u4e0b\u6ce8\u6309\u94ae\u7ec4\u4ef6"+this.maxBetButtonName+"\u4e0d\u5b58\u5728")),this.fastButtonName&&(this.fastButton=this.getChild(this.fastButtonName).asButton,this.fastButton.onClick(this.onFastClickInternal.bind(this))),this.spinButtonName&&(this.spinButton=this.getChild(this.spinButtonName).asButton,this.spinButton.node.on("touch-long",this.onSpinLongTouchInternal.bind(this)),this.spinButton.node.on("touch-short",this.onSpinClickInternal.bind(this)),this.spinButton.node.on("touch-double",this.onSpinDoubleTouchInternal.bind(this)),this._buttonLongTouch=this.addFguiComponent(h.ButtonLongTouch)),this.autoSpinButtonName&&(this.autoSpinButton=this.getChild(this.autoSpinButtonName).asButton,this.autoSpinButton.onClick(this.onAutoSpinClickInternal.bind(this))),this.spin100ButtonName&&(this.spin100Button=this.getChild(this.spin100ButtonName).asButton,this.spin100Button.onClick(this.onSpin100ClickInternal.bind(this))),this.spin50ButtonName&&(this.spin50Button=this.getChild(this.spin50ButtonName).asButton,this.spin50Button.onClick(this.onSpin50ClickInternal.bind(this))),this.spin15ButtonName&&(this.spin15Button=this.getChild(this.spin15ButtonName).asButton,this.spin15Button.onClick(this.onSpin15ClickInternal.bind(this))),this.betName&&(this.betNumber=this.getChild(this.betName).asTextField),this.increaseBetName&&(this.increaseBetButton=this.getChild(this.increaseBetName).asButton,this.increaseBetButton.onClick(this.onIncreaseBetClick.bind(this))),this.decreaseBetName&&(this.decreaseBetButton=this.getChild(this.decreaseBetName).asButton,this.decreaseBetButton.onClick(this.onDecreaseBetClick.bind(this))),this.twinkleName&&(this.twinkle=this.getChild(this.twinkleName).asLoader,this.twinkle.visible=!1),this.coinsName&&(this.winCoin=this.getChild(this.coinsName).asMogafaNumberField()),this.autoSpinCountName&&((e=this.getChild(this.autoSpinCountName))?this.autoSpinCountField=e.asTextField:cc.error("auto spin \u8ba1\u6570\u7ec4\u4ef6"+this.autoSpinCountName+"\u4e0d\u5b58\u5728")),this.infinityName&&((e=this.getChild(this.infinityName))?this.infinity=e.asGraph:cc.error("auto spin \u8ba1\u6570\u7ec4\u4ef6"+this.infinityName+"\u4e0d\u5b58\u5728")),this.freeSpinCountName&&((e=this.getChild(this.freeSpinCountName))?this.freeSpinCountField=e.asTextField:cc.error("free spin \u8ba1\u6570\u7ec4\u4ef6"+this.freeSpinCountName+"\u4e0d\u5b58\u5728")),this.spinUserGold&&((e=this.getChild(this.spinUserGold))?(this._coinLabel=e.asTextField,this._coinField=this._coinLabel.asMogafaNumberField()):cc.error("free spin \u8ba1\u6570\u7ec4\u4ef6"+this.spinUserGold+"\u4e0d\u5b58\u5728")),this.exitButtonName&&((e=this.getChild(this.exitButtonName))?(this.ExitButton=e.asButton,this.ExitButton.onClick(this.onExitClick.bind(this))):cc.error("free spin \u8ba1\u6570\u7ec4\u4ef6"+this.spinUserGold+"\u4e0d\u5b58\u5728")),this.helpButtonName&&((e=this.getChild(this.helpButtonName))?(this.HelpButton=e.asButton,this.HelpButton.onClick(this.onHelpClick.bind(this))):cc.error("free spin \u8ba1\u6570\u7ec4\u4ef6"+this.spinUserGold+"\u4e0d\u5b58\u5728")),this.SoundButtonName&&((e=this.getChild(this.SoundButtonName))?(this.SoundButton=e.asButton,this.SoundButton.onClick(this.onSoundClick.bind(this))):cc.error("free spin \u8ba1\u6570\u7ec4\u4ef6"+this.spinUserGold+"\u4e0d\u5b58\u5728"))},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this),this.spinButtonName&&this._buttonLongTouch.registerTouchLong(this.spinButton.node),this.addAllButtonMusic(this.fguiComponent)},e.prototype.addAllButtonMusic=function(t){var e=this;t._children.map(function(t){"GComponent"===t.node.name&&e.addAllButtonMusic(t.asCom),"GButton"===t.node.name&&t.node.on("touchstart",e.onButtonClickMusic.bind(e))})},e.prototype.setUserCoins=function(t,e){void 0===e&&(e=1),this.spinUserGold&&(console.log("setUserCoins"),this.coinsChangeTime=e,this.coins=t)},e.prototype.addMaxBet=function(t){var e=this._bets.concat(),i=!1;if(t.length>0){for(var n=0;n<t.length;n++)for(var o=0;o<e.length;o++){if(t[n]==e[o]){cc.error("\u7b49\u7ea7\u589e\u52a0\u7684\u62b5\u6ce8\u8ddf\u5347\u7ea7\u524d\u5b58\u5728\u76f8\u540c\u62b5\u6ce8::",t[n]);break}o==e.length-1&&t[n]>e[o]&&(this._bets.push(t[n]),i=!0)}i&&this.changeBetButtonsEnable(this.isMinBet,this.isMaxBet),console.log("addMaxBetaddMaxBetaddMaxBet::",this._bets)}},e.prototype.increaseBet=function(){var t=this;console.log("increaseBet");var e=this._bets.findIndex(function(e){return e==t._bet});return++e>=this._bets.length&&(e=this._bets.length-1),this.bet=this._bets[e],this.betChangedInternal(),this._bet},e.prototype.decreaseBet=function(){var t=this;console.log("decreaseBet");var e=this._bets.findIndex(function(e){return e==t._bet});return--e<0&&(e=0),this.bet=this._bets[e],this.betChangedInternal(),this._bet},e.prototype.maxBet=function(){var t=this._bet,e=!1;return(t=this._bets&&0!=this._bets.length?this._bets[this._bets.length-1]:0)!=this._bet&&(e=!0),this.bet=t,e&&this.betChangedInternal(),this._bet},e.prototype.coinIncreaseAnime=function(t){var e;e=""==this._coinLabel.text?0:m.Utils.strToNumber(this._coinLabel.text),this._coinLabel.text=m.Utils.formatNumberToInt(t),this._coinField.play(e,parseInt(t),this._coinIncreaseTime)},e.prototype.cancelCoinIncreaseAnime=function(){this._coinField.cancelPlay()},e.prototype.enableAllButtons=function(){this.cardButton&&(this.cardButton.enabled=!0,this.cardButton.touchable=!0),this.fastButton&&(this.fastButton.enabled=!0,this.fastButton.touchable=!0),this.autoSpinButton&&(this.autoSpinButton.enabled=!0,this.autoSpinButton.touchable=!0),this.changeBetButtonsEnable(this.isMinBet,this.isMaxBet)},e.prototype.disableAllButtonsButSpin=function(){this.cardButton&&(this.cardButton.enabled=!1,this.cardButton.touchable=!1),this.fastButton&&(this.fastButton.enabled=!1,this.fastButton.touchable=!1),this.decreaseBetButton&&(this.decreaseBetButton.enabled=!1,this.decreaseBetButton.touchable=!1),this.increaseBetButton&&(this.increaseBetButton.enabled=!1,this.increaseBetButton.touchable=!1),this.maxBetButton&&(this.maxBetButton.enabled=!1,this.maxBetButton.touchable=!1),this.autoSpinButton&&(this.autoSpinButton.enabled=!1,this.autoSpinButton.touchable=!1)},e.prototype.stopSpinClick=function(){},e.prototype.statusChanged=function(t){var e=this;console.log("BottomBarBase statusChanged======="+t),this.gameStatus=t;var i=this._spinStatusStrategy.getSpinStatus(t,this._spinType,this._freeGameTrigger,this._nextGameMode);this.spinStatus=i.spinStatus,this.spinButton.enabled=i.enable,this.changeBetButtonsEnable(this.isMinBet,this.isMaxBet),this._spinType!=r.SpinType.Spin&&this.disableAllButtonsButSpin(),this._nextGameMode==p.SpinResultsGameMode.Normal&&t==a.SlotGameStageStatus.Ready?this.enableAllButtons():this.disableAllButtonsButSpin(),this._autoTimes>=0&&this.spinStatus===l.BottomBarSpinStaus.StopAutoSpin&&t===a.SlotGameStageStatus.Ready&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.onSpinClickInternal(e._autoTimes,!0,e._originTimes)},this.holdUpTime)),this.setControllerProperty(this.spinStatusControllerName,i.spinStatus)},e.prototype.changeBetButtonsEnable=function(t,e){this.decreaseBetButton&&this.increaseBetButton&&(this.decreaseBetButton.enabled=!t,this.decreaseBetButton.touchable=!t,this.increaseBetButton.enabled=!e,this.increaseBetButton.touchable=!e),this.maxBetButton&&(this.maxBetButton.enabled=!e,this.maxBetButton.touchable=!e)},e.prototype.betChangedInternal=function(){this.changeBetButtonsEnable(this.isMinBet,this.isMaxBet),this.node.emit("BottomBarBetChanged",{bet:this.bet,isMin:this.isMinBet,isMax:this.isMaxBet}),this.node.emit("BET_CHANGE",this.bet)},e.prototype.changeFreeSpinCount=function(t,e){this.freeSpinCountField&&(this._originTimes=e,this.freeSpinCountField.text=e-t+"/"+e)},e.prototype.changeAutoSpinCount=function(t){this.autoSpinCountField&&(this.autoSpinCountField.text=t.toString())},e.prototype.onDecreaseBetClick=function(){this.decreaseBet()},e.prototype.onIncreaseBetClick=function(){this.increaseBet()},e.prototype.onMaxBetClick=function(){this.maxBet()},e.prototype.onExitClick=function(){console.log("\u8fd4\u56de\u5927\u5385\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a\uff1a"),cc.sys.isBrowser?window.close():cc.director.loadScene("Login")},e.prototype.onHelpClick=function(){this.node.emit("showPayTable")},e.prototype.onSoundClick=function(){console.log("onSoundClick"),f.default.getInstance().getSoundStatus()?f.default.getInstance().setSoundStatus("close"):f.default.getInstance().setSoundStatus("open"),f.default.getInstance().getEffectStatus()?f.default.getInstance().setEffectStatus("close"):f.default.getInstance().setEffectStatus("open")},e.prototype.onFastClickInternal=function(){this.isFastInternal=!this.isFast,this.fastButton.controllers[1].selectedIndex=this.isFast?1:0,this.node.emit("BottomBarFastClick",this.isFast)},e.prototype.onAutoSpinClickInternal=function(){this.autoSpinCountField&&(this.autoSpinCountField.text=""),this.spinType=r.SpinType.AutoSpin,this.spinStatus=l.BottomBarSpinStaus.StopAutoSpin,this.onSpinClickInternal(9999999,!0,-1)},e.prototype.onSpin100ClickInternal=function(){this.autoSpinCountField.text="100",this.spinType=r.SpinType.AutoSpin,this.spinStatus=l.BottomBarSpinStaus.StopAutoSpin,this.onSpinClickInternal(100,!0)},e.prototype.onSpin50ClickInternal=function(){this.autoSpinCountField.text="50",this.spinType=r.SpinType.AutoSpin,this.spinStatus=l.BottomBarSpinStaus.StopAutoSpin,this.onSpinClickInternal(50,!0)},e.prototype.onSpin15ClickInternal=function(){this.autoSpinCountField.text="15",this.spinType=r.SpinType.AutoSpin,this.spinStatus=l.BottomBarSpinStaus.StopAutoSpin,this.onSpinClickInternal(15,!0)},e.prototype.onSpinLongTouchInternal=function(){console.log("onSpinLongTouchInternal"),this.spinType===r.SpinType.Spin&&this.spinStatus===l.BottomBarSpinStaus.Ready&&this.setControllerProperty(this.spinStatusControllerName,l.BottomBarSpinStaus.AutoSpinMenu)},e.prototype.onSpinDoubleTouchInternal=function(){console.log("onSpinDoubleTouchInternal")},e.prototype.onSpinClickInternal=function(t,e,i){if(void 0===t&&(t=1),void 0===e&&(e=!1),console.log("onSpinClickInternal"),this.isAutoSpin=e,this.spinButton.enabled&&(this._freeModeFinished||this._nextGameMode!=p.SpinResultsGameMode.Normal||this._currentGameType!=p.SpinResultsGameMode.FreeSpin&&this._currentGameType!=p.SpinResultsGameMode.Respin)&&(this._freeModeFinished&&(this._freeModeFinished=!1),this.game.checkCoinEnough())){if(this._originTimes=i||t,this.infinity&&(this._originTimes<0?this.infinity.node.active=!0:this.infinity.node.active=!1),this._autoTimes=t,this._totalAutoSpinTimes){if(this._totalAutoSpinTimes!==t&&!e)return this.spinType=r.SpinType.Spin,this.spinStatus=l.BottomBarSpinStaus.Ready,this.game.spinClick(t),this.node.emit("BottomBarSpinClick"),void(this._totalAutoSpinTimes=0)}else this._totalAutoSpinTimes=t;if(this.gameStatus==a.SlotGameStageStatus.Ready?this.disableAllButtonsButSpin():this.stopSpinClick(),this.spinStatus===l.BottomBarSpinStaus.StopAutoSpin)return 0===this._autoTimes?(this.spinType=r.SpinType.Spin,this.spinStatus=l.BottomBarSpinStaus.Ready,this.node.emit("BottomBarSpinClick"),this._totalAutoSpinTimes=0,void this.enableAllButtons()):(this._autoTimes--,this._totalAutoSpinTimes>=0&&this._originTimes>-1&&this.changeAutoSpinCount(this._autoTimes),void this.game.spinClick(t));this.game.spinClick(t),this.node.emit("BottomBarSpinClick")}},e.prototype.continueAutoSpin=function(){this.onSpinClickInternal(this._autoTimes,!0,this._originTimes)},e.prototype.setWinCoins=function(t,e){void 0===e&&(e=1),this.coinsChangeTime=e,this.winCoins=t},e.prototype.onSpinClick=function(t,e){this.node.on("BottomBarSpinClick",t,e)},e.prototype.offSpinClick=function(t,e){this.node.off("BottomBarSpinClick",t,e)},e.prototype.clearSpinClick=function(){this.node.off("BottomBarSpinClick")},e.prototype.onChallengeClick=function(t,e){this.node.on("BottomBarChallengeClick",t,e)},e.prototype.offChallengeClick=function(t,e){this.node.off("BottomBarChallengeClick",t,e)},e.prototype.clearChallengeClick=function(){this.node.off("BottomBarChallengeClick")},e.prototype.onCardClick=function(){this.node.emit("BottomBarCardClick")},e.prototype.onCardClickEvent=function(t,e){this.node.on("BottomBarCardClick",t,e)},e.prototype.onAutoSpin=function(t,e){this.node.on("BottomBarAutoSpin",t,e)},e.prototype.offAutoSpin=function(t,e){this.node.off("BottomBarAutoSpin",t,e)},e.prototype.clearAutoSpin=function(){this.node.off("BottomBarAutoSpin")},e.prototype.onFastClick=function(t,e){this.node.on("BottomBarFastClick",t,e)},e.prototype.offFastClick=function(t,e){this.node.off("BottomBarFastClick",t,e)},e.prototype.clearFastClick=function(){this.node.off("BottomBarFastClick")},e.prototype.onBetChanged=function(t,e){this.node.on("BottomBarBetChanged",t,e)},e.prototype.offBetChanged=function(t,e){this.node.off("BottomBarBetChanged",t,e)},e.prototype.clearBetChanged=function(){this.node.off("BottomBarBetChanged")},e.prototype.onCoinChanged=function(t,e){this.node.on("BottombarCoinChanged",t,e)},e.prototype.emitCoinChanged=function(t){this.node.emit("BottombarCoinChanged",t)},e.prototype.offCoinChanged=function(){this.node.off("BottombarCoinChanged")},e.prototype.onButtonClickMusic=function(){},e}(d.default);i.default=S,cc._RF.pop()},{"../../../../../../../Boot/scirpt/AppConst":void 0,"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/ButtonLongTouch":void 0,"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0,"../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0,"../../../../../../../Common/script/modules/@mogafa/utils/lib/Utils":void 0,"../../../../spin-result/SpinResultsGameMode":"SpinResultsGameMode","../GameStage/SlotGameStageBase":"SlotGameStageBase","../GameStage/SlotGameStageStatus":"SlotGameStageStatus","../SpinStatusStrategyNormal":"SpinStatusStrategyNormal","../SpinType":"SpinType","./BetChangedMessage":"BetChangedMessage","./BottomBarSpinStaus":"BottomBarSpinStaus"}],BottomBarSpinStaus:[function(t,e,i){"use strict";cc._RF.push(e,"20d58nTkHdA0rm1B/S67axk","BottomBarSpinStaus"),Object.defineProperty(i,"__esModule",{value:!0}),i.BottomBarSpinStaus=void 0,function(t){t[t.Ready=0]="Ready",t[t.StopSpin=1]="StopSpin",t[t.StopAutoSpin=2]="StopAutoSpin",t[t.StopFreeSpin=3]="StopFreeSpin",t[t.AutoSpinMenu=4]="AutoSpinMenu"}(i.BottomBarSpinStaus||(i.BottomBarSpinStaus={})),cc._RF.pop()},{}],ButtomBarStatus:[function(t,e,i){"use strict";cc._RF.push(e,"4b41fKevmxEMoCYEiMgdk9t","ButtomBarStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.ButtomBarStatus=void 0,function(t){t[t.Ready=0]="Ready",t[t.Requesting=1]="Requesting",t[t.ResultsReceived=2]="ResultsReceived"}(i.ButtomBarStatus||(i.ButtomBarStatus={})),cc._RF.pop()},{}],CellBase:[function(t,e,i){"use strict";cc._RF.push(e,"ec98dTyNEpBsI2RYUBsF0wp","CellBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./SymbolBase"),r=t("./SymbolBoardConst"),a=t("./SymbolBoardStatus"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._chesses=[],e._mockCodeReplaced=!0,e._stopped=!0,e._moveEnd=!1,e.isFirstMove=!0,e._isHoldWin=!1,e.holdWinShowing=!1,e.fixed=!1,e.nextFixed=!1,e.specialEffectShowing=!1,e}return o(e,t),Object.defineProperty(e.prototype,"stageCode",{get:function(){return this._stageCode},set:function(t){this._stageCode=t;for(var e=0;e<this._chesses.length;e++)this._chesses[e].stageCode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reel",{get:function(){return this._reel},set:function(t){this._reel=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boardStatus",{get:function(){return this._boardStatus},set:function(t){this._boardStatus=t;for(var e=0;e<this._chesses.length;e++)this._chesses[e].boardStatus=t;this.status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){this._status=t;for(var e=0;e<this._chesses.length;e++)this._chesses[e].status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assetsComponentName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.resultChess.code},set:function(t){null!=t&&(t>=r.SymbolBoardConst.FINAL_CODE_OFFSET?(this._isFinal=!0,t-=r.SymbolBoardConst.FINAL_CODE_OFFSET):this._isFinal=!1,this.resultChess.code=t,this.finalCode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinal",{get:function(){return this._isFinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalCode",{get:function(){return this._finalCode},set:function(t){this._finalCode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalAssets",{get:function(){return this._finalAssets},set:function(t){this._finalAssets=t,this.resultChess.assets=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mockCodes",{get:function(){return this._mockCodes},set:function(t){this._mockCodes=t,this._mockCodes||(this._mockCodes=[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHoldWin",{get:function(){return this._isHoldWin},set:function(t){this._isHoldWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mogafaId",{get:function(){return this._mogafaId},set:function(t){this._mogafaId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinResult",{set:function(t){this.finalCode=t.code,this.assets=t.assets,this.nextFixed=t.fixed,this.isHoldWin=t.isHoldWin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mustBeFixed",{get:function(){return this._mustBeFixed},set:function(t){this._mustBeFixed=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"theFinalBottomSymbolY",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveEnd",{get:function(){return this._moveEnd},enumerable:!1,configurable:!0}),e.prototype.stopShow=function(){this.resultChess.stopShow()},e.prototype.startMove=function(){this.resultChess.startMove()},e.prototype.replaceMockCodeInternal=function(t){if(null==t)if(this.mockCodes&&0!==this.mockCodes.length&&this.isFinal){var e=this.mockCodes.pop();this.replaceMockCode(e)}else cc.warn("\u6ca1\u6709\u53ef\u66ff\u6362\u7684\u68cb\u5b50\u6216\u8005\u73b0\u5728\u4e0d\u80fd\u6362\u68cb\u5b50");else this.replaceMockCode(t)},e.prototype.replaceMockCode=function(t){this.replaceMockCodeSimple(t)},e.prototype.replaceMockCodeSimple=function(t){cc.log("\u8fd9\u662f\u9ed8\u8ba4\u7684\u68cb\u5b50\u66ff\u6362\u65b9\u6cd5"),this.resultChess.code=t,this.notifyMockCodeReplaced()},e.prototype.notifyMockCodeReplaced=function(){this._mockCodeReplaced=!0;var t=this.parent;t&&t.receiveMockCodeReplaced(t.index,this.index)},Object.defineProperty(e.prototype,"mockCodeReplaced",{get:function(){return this._mockCodeReplaced},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waitingResultsStrategy",{get:function(){return this._waitingResultsStrategy},set:function(t){this._waitingResultsStrategy=t},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._mask=this.fguiComponent.mask,this.fguiComponent.setMask(null,!1),this.assetsComponentName&&(this.assetsComponent=this.getChild(this.assetsComponentName).asTextField)},e.prototype.addFguiComponent=function(e,i){void 0===i&&(i=!1);var n=t.prototype.addFguiComponent.call(this,e,i);if(n instanceof s.default){var o=n;o.stageCode=this.stageCode,o.cell=this,o.assets=this.assets,this._chesses.push(o),o.index=this._chesses.length-1}return n},e.prototype.firstMove=function(){for(var t=0;t<this._chesses.length;t++)this._chesses[t].fguiComponent.visible||(this._chesses[t].fguiComponent.visible=!0);this.fguiComponent.setMask(this._mask,!1)},e.prototype.moveY=function(t,e){if(this._moveEnd)return!1;e>=r.SymbolBoardConst.FINAL_CODE_OFFSET&&(this.code=e),this._chesses=this._chesses.sort(function(t,e){return t.fguiY-e.fguiY});var i=this._chesses[0],n=this._chesses[this._chesses.length-1];this.fixed?e>=r.SymbolBoardConst.FINAL_CODE_OFFSET&&(n.code=e):(this.isFirstMove&&(this.firstMove(),this.isFirstMove=!1),this.specialEffectShowing||(this.specialEffectShowing=this.specialEffectShowInSpin())),this.isFinal&&n.fguiY+t>=this.theFinalBottomSymbolY&&(t=this.theFinalBottomSymbolY-n.fguiY,this._moveEnd=!0,n.code=this.finalCode),this.fixed&&(t=0);for(var o=0;o<this._chesses.length;o++)this._chesses[o].fguiY+=t;if(this._moveEnd)return i.fguiComponent.visible=!1,this.specialEffectOffInSpin(),this.specialEffectShowing=!1,this.status=a.SymbolBoardStatus.Stopped,this.fguiComponent.setMask(null,!1),this.assetsComponent&&-1!==this.finalAssets&&(this.assetsComponent.text=this.assetsDisplay(),this.assetsComponent.visible=!0),n.assets=this.finalAssets,this.isFirstMove=!0,this.fixed=this.nextFixed,this.nextFixed=!1,this.holdWinOff(),this.notifyCellStopped(),!1;if(this.fixed)return!0;var s=!1;return t>0&&n.fguiY>=this.fguiHeight&&(n.fguiY=i.fguiY-i.fguiHeight,(e||0==e)&&(s=!0,n.code=e)),t<0&&i.fguiY<=0&&(i.fguiY=n.fguiY+n.fguiHeight,(e||0==e)&&(s=!0,i.code=e)),s&&(this._chesses=this._chesses.sort(function(t,e){return t.fguiY-e.fguiY})),s},e.prototype.assetsDisplay=function(){return-1===this.assets?"":this.assets.toString()},e.prototype.prizeShow=function(t){this.resultChess.startPrizeShow(t)},e.prototype.receivePrizeShowCompleted=function(t){var e=this.parent;e&&e.receivePrizeShowCompleted(t)},e.prototype.notifyCellStopped=function(){this.stopShow();var t=this.parent;t&&t.receiveCellStopped(this._index)},e.prototype.reset=function(){this.unscheduleAllCallbacks();for(var t=0;t<this._chesses.length;t++)this._chesses[t].reset();this.specialEffectShowing=!1,this._isFinal=!1,this._mockCodes=[],this._mockCodeReplaced=!0,this._moveEnd=!1,this.isFirstMove=!0,this.holdWinShowing=!1,this.assetsComponent&&(this.assetsComponent.text=this.assetsDisplay())},e.prototype.setSymbolControllerProperty=function(t,e){this.resultChess.setControllerProperty(t,e)},e.prototype.playSpineByConfig=function(t,e){this.resultChess.playSpineByConfig(t,e)},e.prototype.specialEffectShowInSpin=function(){return!1},e.prototype.specialEffectOffInSpin=function(){},e.prototype.holdWin=function(){this.holdWinShowing||(this.holdWinShowing=!0,this.holdWinShow())},e.prototype.unholdWin=function(){this.holdWinOff(),this.holdWinShowing=!1},e.prototype.holdWinShow=function(){},e.prototype.holdWinOff=function(){},e.prototype.prizeChipCellSettle=function(t,e,i,n){n&&n()},e.prototype.notifyShowDoubleAssets=function(){},e.prototype.doubleChessShow=function(){for(var t=0;t<this._chesses.length;t++)this._chesses[t].doubleChessShow()},e.prototype.initAssetShow=function(){this.assetsComponent&&-1!==this.finalAssets&&(this.assetsComponent.visible=!0,this.assetsComponent.text=this.finalAssets.toString())},e.prototype.fixedCellShow=function(){this.resultChess.fixedCellShow()},e.prototype.fixedCellHide=function(){this.resultChess.fixedCellHide()},e.prototype.setAssetAfterChessboardStopped=function(){},e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=l,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"./SymbolBase":"SymbolBase","./SymbolBoardConst":"SymbolBoardConst","./SymbolBoardStatus":"SymbolBoardStatus"}],CoinSpread:[function(t,e,i){"use strict";cc._RF.push(e,"1ce1eHMe5tLOKAfJbh7poft","CoinSpread"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this.Y_ACCELERATE_THRESHOLD=30,this.xSpeed=0,this.ySpeed=0,this.xAcceleration=0,this.yAcceleration=0,this.xStartPos=0,this.yStartPos=0,this.moveTotalTime=0,this.parabolaSpeed=1.5,this.coinSpreadCallback=null,this.node=t}return t.prototype.update=function(t){this.isMovingForTouch&&this.moveTotalTime>0?(this.moveTotalTime-=t,this.xStartPos-=this.xSpeed*t,this.yStartPos-=this.ySpeed*t,this.node.setPosition(this.xStartPos,this.yStartPos),this.xSpeed-=this.xAcceleration*t,this.ySpeed-=this.yAcceleration*t,this.ySpeed>=0&&(this.yAcceleration=-2800)):this.isMovingForTouch&&this.moveTotalTime<=0&&this.node.isValid&&(this.node.stopAllActions(),this.node.destroy(),this.coinSpreadCallback())},t.prototype.coinSpread=function(t,e,i,n){this.node.position=cc.v3(t.x,t.y,0),this.node.x=250,this.isMovingForTouch=!0,this.speed=i,this.coinSpreadCallback=n,this.node.scale=.6,this.calcParabolaEfficient(this.node.position,e)},t.prototype.calcParabolaEfficient=function(t,e){this.xStartPos=960,this.yStartPos=-1080;var i=this.speed;if(t.y-e.y>this.Y_ACCELERATE_THRESHOLD){var n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);this.moveTotalTime=Math.sqrt(n*n+o*o)/i;var s=n/this.moveTotalTime;this.ySpeed=o/this.moveTotalTime,this.yAcceleration=0,e.x>t.x?(this.xSpeed=-s*this.parabolaSpeed,this.xAcceleration=-s/this.moveTotalTime):(this.xSpeed=s*this.parabolaSpeed,this.xAcceleration=s/this.moveTotalTime)}else{n=t.x-e.x,o=Math.abs(t.y-e.y),this.moveTotalTime=2,this.xSpeed=n/this.moveTotalTime,this.xAcceleration=0;var r=Math.max(t.y,e.y)+o,a=r-t.y,l=r-e.y,u=this.moveTotalTime/(1+Math.sqrt(a/l));this.moveTotalTime,this.yAcceleration=-2*a/(u*u),this.ySpeed=this.yAcceleration*u}},t}();i.default=n,cc._RF.pop()},{}],Coin:[function(t,e,i){"use strict";cc._RF.push(e,"ff421AXfglPlLAyKQ1D4AIR","Coin");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Coin=void 0;var s=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),r=t("./CoinSpread"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNodeMinY=-300,e.targetNodeMaxY=0,e.minspeed=120,e.maxspeed=200,e._isCoinSpred=!1,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"UI/Common"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"Coin"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._coinSpread=new r.default(this.fguiComponent.node),this._coinNode=this.fguiComponent.node},e.prototype.update=function(t){this._isCoinSpred&&this._coinSpread.update(t)},e.prototype.onDestroy=function(){},e.prototype.coinFly=function(t,e){var i=this;this._isCoinSpred=!1,this._coinNode.zIndex=2e3,this._coinNode.scale=.4,this._coinNode.position=cc.v3(t.x,t.y,0);var n=e.x-t.x,o=t.x-e.x,s=e.y-t.y,r=t.y-e.y,a=cc.v2(0,0),l=cc.v2(0,0),u=cc.misc.lerp(-100,100,Math.random()),c=cc.misc.lerp(-100,100,Math.random());a.x=u>0?t.x+u+100:t.x+u-100,a.y=c>0?t.y+c+100:t.y+c-100,e.x>t.x?l.x=a.x+n*Math.random():l.x=a.x-o*Math.random(),e.y>t.y?l.y=a.y-s*Math.random():l.y=a.y+r*Math.random(),this._coinNode.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(1/30))),this._coinNode.runAction(cc.sequence(cc.bezierTo(1,[a,l,e]),cc.callFunc(function(){i.fguiComponent.node.isValid&&i.fguiComponent.node.destroy()})))},e.prototype.coinFlyByCurve=function(t,e,i){var n=this;if(t%2==0){this._coinNode.position=cc.v3(e.x,e.y,0);var o=(i.y-e.y)/2,s=Math.abs(i.y-e.y),r=cc.v2(e.x+o*Math.tan(2*Math.PI/360*30),.25*s+e.y),a=cc.v2(e.x,e.y+s/2),l=[e,r,a],u=[a,cc.v2(e.x-o*Math.tan(2*Math.PI/360*30),.75*s+e.y),i];this._coinNode.runAction(cc.sequence(cc.bezierTo(.5,l),cc.bezierTo(.5,u),cc.callFunc(function(){n.fguiComponent.node.isValid&&n.fguiComponent.node.destroy()})))}else this.fguiComponent.node.isValid&&this.fguiComponent.node.destroy()},e.prototype.coinSpread=function(){var t;this._isCoinSpred=!0,100*Math.random()>65?this._coinNode.zIndex=100:this._coinNode.zIndex=10,Math.floor(10*Math.random())%2==0?(this.leftTargetNode=cc.v2(cc.misc.lerp(-800,-100,Math.random()),cc.misc.lerp(this.targetNodeMinY,this.targetNodeMaxY,Math.random())),t=cc.v2(cc.misc.lerp(300,0,Math.random()),-600)):(this.leftTargetNode=cc.v2(cc.misc.lerp(100,800,Math.random()),cc.misc.lerp(this.targetNodeMaxY,this.targetNodeMinY,Math.random())),t=cc.v2(cc.misc.lerp(0,-300,Math.random()),-600));var e=cc.misc.lerp(this.minspeed,this.maxspeed,Math.random());this._coinSpread.coinSpread(t,this.leftTargetNode,e,this.coinSpreadCallback.bind(this))},e.prototype.coinSpreadCallback=function(){this.fguiComponent.node.isValid&&(this.fguiComponent.node.destroy(),this._isCoinSpred=!1)},e.prototype.getCoinCollect=function(t,e,i){var n=this;void 0===i&&(i=1),this._coinNode.scale=.4,this._coinNode.position=cc.v3(t.x,t.y,0);var o=e.x-t.x,s=t.x-e.x,r=e.y-t.y,a=t.y-e.y,l=cc.v2(0,0),u=cc.v2(0,0),c=cc.misc.lerp(-100,100,Math.random()),p=cc.misc.lerp(-100,100,Math.random());l.x=c>0?t.x+c+160:t.x+c-100,l.y=p>0?t.y+p+400:t.y+p+300,e.x>t.x?u.x=l.x+o*Math.random():u.x=l.x-s*Math.random(),e.y>t.y?u.y=l.y-r*Math.random():u.y=l.y+a*Math.random(),this._coinNode.runAction(cc.sequence(cc.delayTime(i),cc.fadeOut(1/30))),this._coinNode.runAction(cc.sequence(cc.bezierTo(i,[l,u,e]),cc.callFunc(function(){n.fguiComponent.node.isValid&&n.fguiComponent.node.destroy()})).easing(cc.easeOut(1)))},e}(s.default);i.Coin=a,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"./CoinSpread":"CoinSpread"}],FifoQueue:[function(t,e,i){"use strict";cc._RF.push(e,"fe787w9Ag1GB62ARJomzFqd","FifoQueue"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._queue=t||[]}return t.prototype.enqueue=function(t){this._queue.push(t)},t.prototype.dequeue=function(){return this._queue.shift()},t.prototype.clear=function(){this._queue=[]},Object.defineProperty(t.prototype,"count",{get:function(){return this._queue.length},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],HoldWinBase:[function(t,e,i){"use strict";cc._RF.push(e,"91d8cXgH71P7J26RG9d2wbV","HoldWinBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHoldWin=!1,e}return o(e,t),Object.defineProperty(e.prototype,"stageCode",{get:function(){return this._stageCode},set:function(t){this._stageCode=t,this._column&&(this._column.stageCode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"symbolBoard",{get:function(){return this._symbolBoard},set:function(t){this._symbolBoard=t,this._column&&(this._column.symbolBoard=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boardStatus",{get:function(){return this._boardStatus},set:function(t){this._boardStatus=t,this.column&&(this.column.boardStatus=t),this.status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){this._status=t,this.column&&(this.column.status=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t,this._column&&(this._column.index=t)},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._mask=this.getChild("mask"),this._column=this.addColumn(),this._column.fguiX=0,this._column.fguiY=0,this._column.index=this.index,this._column.stageCode=this.stageCode,this._column.holdWin=this,this._column.symbolBoard=this.symbolBoard},e.prototype.beforeStartWaitingResults=function(){this._column&&this._column.beforeStartWaitingResults()},e.prototype.beforeStopWaitingResults=function(){this._column&&this._column.beforeStopWaitingResults()},e.prototype.onColumnStopped=function(t,e){this._column&&this._column.onColumnStopped(t,e)},e.prototype.holdWin=function(){if(this._column){this.setControllerProperty(this.holdWinControllerName,1);var t=this.fguiComponent.getChild(this.holdWinComponentName);t&&(this.holdWinShow(),this.isHoldWin=!0,this.fguiComponent.addChild(t))}},e.prototype.holdWinShow=function(){},e.prototype.unholdWin=function(t){this.isHoldWin&&t===this._index&&(this.setControllerProperty(this.holdWinControllerName,0),this.isHoldWin=!1,this.holdWinEnd())},e.prototype.holdWinEnd=function(){},e.prototype.receivePrizeShowCompleted=function(t){var e=this.parent;e&&e.receivePrizeShowCompleted(t)},e.prototype.receiveMockCodeReplaced=function(t,e){var i=this.parent;i&&i.receiveMockCodesReplaced(t,e)},e.prototype.receiveReelStopped=function(t){var e=this.parent;e&&e.receiveReelStopped(t)},e.prototype.reset=function(){this.isHoldWin=!1},e.prototype.showMask=function(){this.fguiComponent.setMask(this._mask,!1)},e.prototype.hideMask=function(){this.fguiComponent.setMask(null,!1)},e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],IPrizeShowStrategy:[function(t,e,i){"use strict";cc._RF.push(e,"18eabLw+RhNo7QncM2lwFrJ","IPrizeShowStrategy"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IPrizeShowSymbolBoard:[function(t,e,i){"use strict";cc._RF.push(e,"331b1hPOmZJfoyYJE3Q10PU","IPrizeShowSymbolBoard"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IResilienceMove:[function(t,e,i){"use strict";cc._RF.push(e,"97ebajpbm9HFLdQa7JTWgbY","IResilienceMove"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],IWaitingResultsStrategy:[function(t,e,i){"use strict";cc._RF.push(e,"dc1f6uVFIBMU5Vi8qdYvbRd","IWaitingResultsStrategy"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],Integral:[function(t,e,i){"use strict";cc._RF.push(e,"a2c2dioaMFKtYpIYRBviOWq","Integral");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Integral=void 0;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isCoinSpred=!1,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"Common"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"Integral"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._coinNode=this.fguiComponent.node},e.prototype.coinFly=function(t,e){var i=this;this._isCoinSpred=!1,this._coinNode.zIndex=2e3,this._coinNode.scale=.4,this._coinNode.position=cc.v3(t.x,t.y,0);var n=e.x-t.x,o=t.x-e.x,s=e.y-t.y,r=t.y-e.y,a=cc.v2(0,0),l=cc.v2(0,0),u=cc.misc.lerp(-100,100,Math.random()),c=cc.misc.lerp(-100,100,Math.random());a.x=u>0?t.x+u+100:t.x+u-100,a.y=c>0?t.y+c+100:t.y+c-100,e.x>t.x?l.x=a.x+n*Math.random():l.x=a.x-o*Math.random(),e.y>t.y?l.y=a.y-s*Math.random():l.y=a.y+r*Math.random(),this._coinNode.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(1/30))),this._coinNode.runAction(cc.sequence(cc.bezierTo(1,[a,l,e]),cc.callFunc(function(){i.fguiComponent.node.isValid&&i.fguiComponent.node.destroy()})))},e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.Integral=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],IntervalEachColumn:[function(t,e,i){"use strict";cc._RF.push(e,"9f4cdQvUwBHtIF7bMLsMFyD","IntervalEachColumn"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._timer=null,this._interval=t}return Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(t){this._interval=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timer",{get:function(){return this._timer},set:function(t){this._timer=t},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],LevelUpBase:[function(t,e,i){"use strict";cc._RF.push(e,"15b34AvLFtIkpvP2RJVAiA/","LevelUpBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],MaskBase:[function(t,e,i){"use strict";cc._RF.push(e,"0be3cTZZPZMcLl7F7QLWecJ","MaskBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!1,configurable:!0}),e}(t("../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=s,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],MogafaExtensions:[function(t,e,i){"use strict";cc._RF.push(e,"b0edcPjyUFOopUylg3bxWUI","MogafaExtensions"),Object.defineProperty(i,"__esModule",{value:!0}),i.MogafaExtensions=void 0;var n=t("./MogafaNumberField"),o=function(){function t(){}return t.init=function(){fgui.GObject.prototype.asMogafaNumberField=function(){return new n.MogafaNumberField(this.asTextField)}},t}();i.MogafaExtensions=o,cc._RF.pop()},{"./MogafaNumberField":"MogafaNumberField"}],MogafaNumberField:[function(t,e,i){"use strict";cc._RF.push(e,"f7556aXP/JEsaU87xjdY+Zc","MogafaNumberField");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.MogafaNumberField=void 0;var s=t("../../../../../../Common/script/modules/@mogafa/utils/lib/Utils"),r=function(t){function e(i){var n=t.call(this)||this;return n.runTime=0,n.maxTime=0,n.running=!1,n._min=null,n._max=null,n._gtextField=null,n.unschedule(n.scheduleNumber),n._gtextField=i,n.schedule(n.scheduleNumber,0),e.instanceArr.push(n),n}return o(e,t),e.clearInstanceArr=function(){e.instanceArr=[]},e.destroyInstanceArr=function(t){e.instanceArr.map(function(t){t.clear()}),t&&t(),e.instanceArr=[]},e.prototype.clear=function(){this._min=null,this._max=null,this.unschedule(this.scheduleNumber)},Object.defineProperty(e.prototype,"gtextField",{get:function(){return this._gtextField},enumerable:!1,configurable:!0}),e.prototype.play=function(t,e,i,n){this.schedule(this.scheduleNumber,0),this._min=t,this._max=e,this.maxTime=i,this.runTime=0,this.running=!0,this._callback=n},e.prototype.scheduleNumber=function(){if(this.running)if(this.runTime+=.015,this.maxTime||this.setValue(this._max),-1==this.maxTime)this._min+=100,this._min>=this._max&&(this._min=this._max),this.setValue(this._min);else{var t=this.runTime/this.maxTime;t=Math.max(0,Math.min(1,t));var e=cc.misc.lerp(this._min,this._max,t);e&&this.setValue(e),-1!=this.maxTime&&this.runTime>=this.maxTime&&(this.running=!1,this.finish())}},e.prototype.cancelPlay=function(){this.unschedule(this.scheduleNumber)},e.prototype.finish=function(){this._callback&&this._callback()},e.prototype.setValue=function(t){this._gtextField.text=s.Utils.formatNumberToInt(t,0)},Object.defineProperty(e.prototype,"min",{set:function(t){this._min=t,null!=this._max&&(this._gtextField.text=this._max+"-"+this._min)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{set:function(t){this._max=t,null!=this._min&&(this._gtextField.text=this._min+"-"+this._max)},enumerable:!1,configurable:!0}),e.instanceArr=[],e}(cc.Component);i.MogafaNumberField=r,fgui.GObject.prototype.asMogafaNumberField=function(){return new r(this.asTextField)},cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/utils/lib/Utils":void 0}],MogafaSlotsGameStage:[function(t,e,i){"use strict";cc._RF.push(e,"3d81aReYARBmbbM5dCwiZjg","MogafaSlotsGameStage"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../../../Boot/scirpt/AppConst"),o=function(){function t(){this.BundlePath="",this._symbolSpineResources=[],this._symbolSpineShowConfigs={},this._shareComponents={},this._extra={},this.symbolSpineResourceLoadedIndex=0}return Object.defineProperty(t,"gameStages",{get:function(){return t._gameStages},enumerable:!1,configurable:!0}),t.setGameStages=function(e,i){e&&i&&(t.gameStages[e]=i)},Object.defineProperty(t.prototype,"symbolSpineResources",{get:function(){return this._symbolSpineResources},set:function(t){this._symbolSpineResources=t,this._symbolSpineResources||(this._symbolSpineResources=[]),this.symbolSpineResourceLoadedIndex=0,this.loadSymbolSpineResources()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"symbolSpineShowConfigs",{get:function(){return this._symbolSpineShowConfigs},enumerable:!1,configurable:!0}),t.prototype.addSymbolSpineShowConfigs=function(t,e){this._symbolSpineShowConfigs[t]=e,this._symbolSpineShowConfigs[t]||(this._symbolSpineShowConfigs[t]=[])},Object.defineProperty(t.prototype,"shareComponents",{get:function(){return this._shareComponents},enumerable:!1,configurable:!0}),t.prototype.addShareComponents=function(t,e){this._shareComponents[t]=e},t.prototype.loadSymbolSpineResources=function(){var t=this;if(this._symbolSpineResources&&this._symbolSpineResources.length>=0&&this.symbolSpineResourceLoadedIndex<this._symbolSpineResources.length){var e=this._symbolSpineResources[this.symbolSpineResourceLoadedIndex].urls;if(e&&e.length>0){var i=cc.assetManager.getBundle(this.BundlePath);i?i.load(e,sp.SkeletonData,this.symbolSpineResourcesLoaded.bind(this)):cc.assetManager.loadBundle(n.AppConst.resUrl+this.BundlePath,function(i,n){n.load(e,sp.SkeletonData,t.symbolSpineResourcesLoaded.bind(t))})}else this.symbolSpineResourceLoadedIndex++,this.loadSymbolSpineResources()}},t.prototype.symbolSpineResourcesLoaded=function(t,e){if(t)cc.error("\u68cb\u5b50spine\u52a8\u753b\u8f7d\u5165\u9519\u8bef");else{this._symbolSpineResources[this.symbolSpineResourceLoadedIndex];for(var i=0;i<e.length;i++){var n=e[i];this._symbolSpineResources[this.symbolSpineResourceLoadedIndex].addResource(n.name,n)}this.symbolSpineResourceLoadedIndex++,this.loadSymbolSpineResources()}},Object.defineProperty(t.prototype,"extra",{get:function(){return this._extra},enumerable:!1,configurable:!0}),t._gameStages={},t}();i.default=o,cc._RF.pop()},{"../../../../../../Boot/scirpt/AppConst":void 0}],MogafaSlots:[function(t,e,i){"use strict";cc._RF.push(e,"6c2e0CmmYlNjL88tqYSLgmi","MogafaSlots"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],NumberOfKindBase:[function(t,e,i){"use strict";cc._RF.push(e,"bc1e0sQO/VKa64BwmGSoOX8","NumberOfKindBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],NumberOfKindSpine:[function(t,e,i){"use strict";cc._RF.push(e,"f8d9bv/WEVL0LiNZZSphbyz","NumberOfKindSpine");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),r=t("../../../../spin-result/SpineCommon"),a=function(){function t(){}return t.PATH="Games/Common/UI/NumberOfKind/Spine/",t.KINDUP="spine_ui_function_5kind_up",t.KINDDOWN="spine_ui_function_5kind_down",t}(),l=function(t){function e(e){return t.call(this,e,[a.PATH+a.KINDUP,a.PATH+a.KINDDOWN])||this}return o(e,t),e.prototype.kindCycle=function(t,e){var i=this;void 0===e&&(e=1.5),this._skeleton.skeletonData=this._resources[a.KINDUP],s.default.getInstance().playEffect("vo_"+t+"_of_kind"),this.skeleton.setAnimation(0,t+"_finish",!1),this.skeleton.addAnimation(0,t+"_breath",!1),this.skeleton.setCompleteListener(function(e){e&&e.animation.name===t+"_breath"&&i.skeleton.addAnimation(0,t+"_over",!1)})},e.prototype.kindCycleBg=function(t,e){var i=this;void 0===e&&(e=1.5),this._skeleton.skeletonData=this._resources[a.KINDDOWN],this.skeleton.setAnimation(0,t+"_finish",!1),this.skeleton.addAnimation(0,t+"_breath",!1),this.skeleton.setCompleteListener(function(e){e&&e.animation.name===t+"_breath"&&i.skeleton.addAnimation(0,t+"_over",!1)})},e.prototype.numberOfKind=function(t,e){var i=this;void 0===e&&(e=1.5),this.skeleton.setAnimation(0,t+"_finish",!1),this.skeleton.addAnimation(0,t+"_breath",!0),this.scheduleOnce(function(){i.skeleton.setCompleteListener(function(e){e&&e.animation.name===t+"_breath"&&i.skeleton.addAnimation(0,t+"_over",!1)})},e)},e}(r.default);i.default=l,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0,"../../../../spin-result/SpineCommon":"SpineCommon"}],NumberOfKind:[function(t,e,i){"use strict";cc._RF.push(e,"233276gyYdIQZaFcPg36pID","NumberOfKind");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.NumberOfKind=void 0;var s=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),r=t("./NumberOfKindSpine"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"UI/Common"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"NumberOfKind"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.fguiComponent.makeFullScreen(),this._numberOfKindNode=this.fguiComponent.getChild("numberOfKind").node,this._numberOfKindBgNode=this.fguiComponent.getChild("numberOfKindBg").node,this._numberOfKindSpine=new r.default(this._numberOfKindNode),this._numberOfKindBgSpine=new r.default(this._numberOfKindBgNode),this.addChild(this._numberOfKindSpine),this.addChild(this._numberOfKindBgSpine)},e.prototype.executeNumberOfKind=function(t){5!==t&&6!==t||(this._numberOfKindBgSpine.kindCycleBg(t),this._numberOfKindSpine.kindCycle(t))},e}(s.default);i.NumberOfKind=a,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"./NumberOfKindSpine":"NumberOfKindSpine"}],PayTable:[function(t,e,i){"use strict";cc._RF.push(e,"f4cedASyxJPRZ2pMVjrikCU","PayTable");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),r=t("../../../../../../Common/script/modules/@mogafa/utils/lib/Utils"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._curBet=0,e}return o(e,t),Object.defineProperty(e.prototype,"curBet",{set:function(t){this._curBet=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animNode",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonOKName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"goldGrowName",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalNumName",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"payTableListName",{get:function(){return"list"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backToGameButtonName",{get:function(){return"backToGame"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openRightPageButtonName",{get:function(){return"openRightPage"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openLeftPageButtonName",{get:function(){return"openLeftPage"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showPayTableEvent",{get:function(){return"showPayTable"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeTime",{get:function(){return-1},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._view=this.fguiComponent,this.node.on(this.showPayTableEvent,this.show,this),this.payTableListName&&(this.payTableList=this.getChild(this.payTableListName).asList,this._curIndex=this.payTableList.getFirstChildInView()),this.backToGameButtonName&&(this.backToGameButton=this.getChild(this.backToGameButtonName).asButton,this.backToGameButton.onClick(this.onBackToGameClick.bind(this))),this.openRightPageButtonName&&(this.openRightPageButton=this.getChild(this.openRightPageButtonName).asButton,this.openRightPageButton.onClick(this.onOpenLeftPageClick.bind(this))),this.openLeftPageButtonName&&(this.openLeftPageButton=this.getChild(this.openLeftPageButtonName).asButton,this.openLeftPageButton.onClick(this.onOpenRightPageClick.bind(this)))},e.prototype.onBackToGameClick=function(){s.default.getInstance().playEffect("button"),this.payTableList.scrollToView(0),this._curIndex=0,t.prototype.hide.call(this)},e.prototype.onOpenRightPageClick=function(){s.default.getInstance().playEffect("button"),this._curIndex=this.payTableList.scrollPane.currentPageX,this._curIndex--,this._curIndex>=0&&this.jumpPointItem()},e.prototype.onOpenLeftPageClick=function(){s.default.getInstance().playEffect("button"),this._curIndex=this.payTableList.scrollPane.currentPageX,this._curIndex++,this._curIndex<=this.payTableList.numChildren&&this.jumpPointItem()},e.prototype.jumpPointItem=function(){this.payTableList.scrollToView(this._curIndex,!0),this.payTableList.itemIndexToChildIndex(this._curIndex)},e.prototype.setData=function(t,e){if(t){this._json=t,this._curBet=e;for(var i=t.config,n=0;n<this.payTableList.numItems;n++){var o=this.payTableList._children[n].asCom;if("payTable"==o.name)for(var s=i.payTable,a=o.getChild("payTableData").asCom,l=0;l<a.numChildren;l++){for(var u=parseInt(a._children[l].name),c=Object.keys(s[u]).reverse(),p="",h=0;h<c.length;h++)p=p+c[h]+"="+r.Utils.numToCountingNnit(s[u][c[h]]*e/i.linecount)+"\n";a._children[l].text=p}if("scatterMap"==o.name){var d=i.scatterMap;if(d)for(var f=o.getChild("scatterMapData").asCom,m=0;m<f.numChildren;m++){var g=d[u=parseInt(f._children[m].name)];f._children[m].text=g}}if("jpMultipleMap"==o.name){var S=i.jpMultipleMap;if(S){var y=o.getChild("jpMultipleMapData").asCom;for(m=0;m<y.numChildren;m++)g=S[u=parseInt(y._children[m].name)],y._children[m].text=g}}if("zuesFeature"==o.name){var _=i.zuesFeature;if(_)for(y=o.getChild("zuesFeatureData").asCom,m=0;m<y.numChildren;m++)g=_[u=parseInt(y._children[m].name)],y._children[m].text=g}if("jackpot"==o.name){var b=i.jackpotData;if(b)for(y=o.getChild("jackpotData").asCom,m=0;m<y.numChildren;m++)u=parseInt(y._children[m].name),g=b[m],y._children[m].text=g}}}},e.prototype.setPayTable=function(){},e.prototype.show=function(){this.setData(this._json,this._curBet),t.prototype.show.call(this)},e}(t("./Popup").Popup);i.default=a,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0,"../../../../../../Common/script/modules/@mogafa/utils/lib/Utils":void 0,"./Popup":"Popup"}],Popup:[function(t,e,i){"use strict";cc._RF.push(e,"38140CuWJFFrKE/0hhxuDPI","Popup");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Popup=void 0;var s=t("../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),r=t("../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._closeTime=3,e._isHideComplete=!1,e._isRegisterNodeEvent=!0,e}return o(e,t),Object.defineProperty(e.prototype,"normalNum",{get:function(){return this._normalNum},set:function(t){t.length!=this.normalNumName.length&&cc.warn("other\u6570\u636e\u9519\u8bef"),this._normalNum=t,this.normalValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"goldNum",{get:function(){return this._goldNum},set:function(t){t.length!=this.goldGrowName.length&&cc.warn("gold\u6570\u636e\u9519\u8bef"),this._goldNum=t,this.goldValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeTime",{get:function(){return this._closeTime},set:function(t){this._closeTime=t,this.openSchedule()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRegisterNodeEvent",{get:function(){return this._isRegisterNodeEvent},set:function(t){this._isRegisterNodeEvent=t},enumerable:!1,configurable:!0}),e.prototype.addAllButtonMusic=function(t){var e=this;t._children.map(function(t){"GButton"===t.node.name&&t.on(fairygui.Event.TOUCH_END,e.onButtonClickMusic.bind(e))})},e.prototype.onButtonClickMusic=function(){r.default.getInstance().playEffect("button")},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),""!=this.basePanel&&this.basePanel&&(this._base=this.fguiComponent.getChild("base").asCom,this._base.node.setAnchorPoint(.5,.5)),this.window.hide()},e.prototype.allChildCreated=function(){""!=this.basePanel&&this.basePanel?this.addAllButtonMusic(this._base):""!=this.basePanel&&this.basePanel||this.addAllButtonMusic(this.fguiComponent),t.prototype.allChildCreated.call(this),""!=this.buttonOKName&&this.buttonOKName&&(""!=this.basePanel&&this.basePanel?this._base.getChild(this.buttonOKName).onClick(this.hide.bind(this)):""!=this.basePanel&&this.basePanel||this.fguiComponent.getChild(this.buttonOKName).onClick(this.hide.bind(this)))},e.prototype.setIndex=function(){this.window.bringToFront()},e.prototype.show=function(){this.resetBase(),this.isRegisterNodeEvent&&this.fguiComponent.node.on("touchstart",function(){}),this.window.show(),this.window.bringToFront(),this.onPlayShowAni(),this.openSchedule()},e.prototype.hide=function(){this.unschedule(this.callback),this.onPlayHideAni(),this._isHideComplete?this._isHideComplete=!1:this.window.hide(),this.isRegisterNodeEvent&&this.fguiComponent.node.off("touchstart")},e.prototype.onPlayShowAni=function(){""!=this.basePanel&&this.basePanel&&this._base.node.runAction(cc.scaleTo(.2,1,1).easing(cc.easeIn(.2)))},e.prototype.onPlayHideAni=function(){if(""!=this.basePanel&&this.basePanel){var t=this,e=cc.callFunc(function(){t._isHideComplete=!0,t.window.hide()});this._base.node.runAction(cc.sequence(cc.scaleTo(.2,0,0),e))}},e.prototype.resetBase=function(){""!=this.basePanel&&this.basePanel&&this._base.node.setScale(.1,.1)},e.prototype.goldValue=function(){if(!(this.goldNum.length<1||this.goldGrowName.length<1)&&(this.goldNum.length!=this.goldGrowName.length&&cc.warn("\u91d1\u5e01\u6570\u636e\u9519\u8bef"),this.goldNum))for(var t=0;t<this.goldNum.length;t++)0===this.goldNum[t]?this.fguiComponent.getChild(this.goldGrowName[t]).asTextField.text="0":this.RunCoin(this.fguiComponent.getChild(this.goldGrowName[t]).asTextField,0,this.goldNum[t],2)},e.prototype.RunCoin=function(t,e,i,n){var o=this,s=null!=i.toString().split(".")[1],r={num:0};r.num=e,this.runGold=cc.tween(r).to(n,{num:i},{progress:function(e,n,r,a){var l;if(l=s?(e+(n-e)*a).toFixed(2):Math.ceil(e+(n-e)*a),t)try{t.text=l>i?i+"":l+""}catch(u){o.stopRunGold()}return e+(n-e)*a}}).start()},e.prototype.stopRunGold=function(){this.runGold&&this.runGold.stop()},e.prototype.normalValue=function(){if(this.normalNumName.length!=this.normalNum.length&&cc.warn("other\u6570\u636e\u9519\u8bef"),this.normalNum)for(var t=0;t<this.normalNum.length;t++)this.fguiComponent.getChild(this.normalNumName[t]).asTextField.text=String(this.normalNum[t])},e.prototype.openSchedule=function(){this.unschedule(this.callback),-1!=this.closeTime&&(this.callback=function(){this.hide()},this.scheduleOnce(this.callback,this._closeTime))},e}(s.FguiWindow);i.Popup=a,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0}],PrizeShowSlotGame:[function(t,e,i){"use strict";cc._RF.push(e,"4869eO2heND9JhrY/GNgAy2","PrizeShowSlotGame"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],PrizeShowStatus:[function(t,e,i){"use strict";cc._RF.push(e,"bf7d4L+P5lH15yRYD4PeQxV","PrizeShowStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.PrizeShowStatus=void 0,function(t){t[t.Ready=0]="Ready",t[t.BeforeShowing=1]="BeforeShowing",t[t.Showing=2]="Showing",t[t.BeforeSettling=3]="BeforeSettling",t[t.Settling=4]="Settling",t[t.Settled=5]="Settled"}(i.PrizeShowStatus||(i.PrizeShowStatus={})),cc._RF.pop()},{}],PrizeShowStrategy:[function(t,e,i){"use strict";cc._RF.push(e,"fd243FQiz1GQ5/8iH+NCc7Q","PrizeShowStrategy"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./PrizeShowStatus"),o=function(){function t(){this._allLinesShow=!0,this._lineIndex=0,this._canBeShowNextLine=!0,this._matchedLines=[],this._cellRewards=[],this._cellIndex=0,this._cellSettleCompleted=!0,this._canBeSettleNextCell=!0,this._canBeSpinTimeout=500}return Object.defineProperty(t.prototype,"symbolBoard",{get:function(){return this._symbolBoard},set:function(t){this._symbolBoard&&(this._symbolBoard.offPrizeLineShowCompletedOnce(this.lineShowCompletedOnce,this),this._symbolBoard.offCellRewardSettledOnce(this.cellShowCompletedOnce,this)),this._symbolBoard=t,this._symbolBoard&&(this._symbolBoard.onPrizeLineShowCompletedOnce(this.lineShowCompletedOnce,this),this._symbolBoard.onCellRewardSettledOnce(this.cellShowCompletedOnce,this))},enumerable:!1,configurable:!0}),t.prototype.startSettle=function(){this.processCellRewards(),this._cellRewards&&this._cellRewards.length>0?(this._cellIndex=0,this._cellSettleCompleted=!1,this.symbolBoard.schedule(this.settling.bind(this),0)):this.notifyAllCellRewardSettleCompleted()},t.prototype.startShow=function(){console.log("startShow"),this._matchedLines=[],this._matchedLines=this.symbolBoard.matchedLines,this._matchedLines||(this._matchedLines=[]),this._matchedLines&&this._matchedLines.length>0?this.symbolBoard.schedule(this.showing.bind(this),0):this.notifyAllCellRewardSettleCompleted()},t.prototype.notifyAllCellRewardSettleCompleted=function(){this._cellSettleCompleted=!0,this._canBeSettleNextCell=!1,this.symbolBoard.receiveAllCellRewardsSettled()},t.prototype.processCellRewards=function(){for(var t=[],e=0;e<this.symbolBoard.chipCellRewards.length;e++){var i=Object.assign({isJackpot:!1},this.symbolBoard.chipCellRewards[e]);t.push(i)}for(e=0;e<this.symbolBoard.jackpotCellRewards.length;e++)i=Object.assign({isJackpot:!0},this.symbolBoard.jackpotCellRewards[e]),t.push(i);t=t.sort(function(t,e){return t.position-e.position}),this._cellRewards=t},t.prototype.lineShow=function(){if(this._allLinesShow&&this._canBeShowNextLine)return this._canBeShowNextLine=!1,this.symbolBoard.lineIndex>=0&&(this.symbolBoard.lineIndex=this._lineIndex),void this.symbolBoard.prizeLineShow(this.symbolBoard.matchedLines,1);this._canBeShowNextLine&&(this._canBeShowNextLine=!1,this._lineIndex>=this.symbolBoard.matchedLines.length&&(this._lineIndex=0),this.symbolBoard.matchedLines[this._lineIndex]&&(this.symbolBoard.lineIndex>=0&&(this.symbolBoard.lineIndex=this._lineIndex),this.symbolBoard.prizeLineShow([this.symbolBoard.matchedLines[this._lineIndex]],1)))},t.prototype.showing=function(){this.lineShow()},t.prototype.settling=function(){this.symbolBoard.prizeShowStatus==n.PrizeShowStatus.Showing?this.cellSettle():cc.warn("\u53ea\u6709\u6b63\u5728\u5c55\u793a\u72b6\u6001\u624d\u80fd\u5f00\u59cb\u5c55\u793a")},t.prototype.lineShowCompletedOnce=function(){this._allLinesShow?this._allLinesShow=!1:this._lineIndex++,this._lineIndex>=this.symbolBoard.matchedLines.length&&(this._lineIndex=0,this._allLinesShow=!0),this._canBeShowNextLine=!0},t.prototype.cellSettle=function(){if(!this._cellSettleCompleted&&this._canBeSettleNextCell){this._canBeSettleNextCell=!1;var t=this._cellRewards[this._cellIndex];if(t.isJackpot)return void this.symbolBoard.prizeJackpotCellSettle(t.position,t.symbolCode,t.rewards);this.symbolBoard.prizeChipCellSettle(t.position,t.symbolCode,t.rewards)}},t.prototype.cellShowCompletedOnce=function(){if(this._cellIndex++,this._cellIndex>=this._cellRewards.length)return this._cellSettleCompleted=!0,this.symbolBoard.unschedule(this.settling.bind(this)),void this.notifyAllCellRewardSettleCompleted();this._canBeSettleNextCell=!0},t.prototype.reset=function(){this._lineIndex=0,this._cellIndex=0,this._matchedLines=[],this._cellRewards=[],this._allLinesShow=!0,this._canBeShowNextLine=!0,this._canBeSettleNextCell=!0,this.symbolBoard.unschedule(this.showing.bind(this)),this.symbolBoard.unschedule(this.settling.bind(this))},t}();i.default=o,cc._RF.pop()},{"./PrizeShowStatus":"PrizeShowStatus"}],ReelBase:[function(t,e,i){"use strict";cc._RF.push(e,"bad97unaStJy7bIJjn72V+E","ReelBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./CellBase"),r=t("./SymbolBoardEvent"),a=t("./HoldWinBase"),l=t("./SymbolBoardStatus"),u=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),c=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startUpResilience=null,e._startDownResilience=null,e._endDownResilience=null,e._endUpResilience=null,e._canEndResilience=!0,e._cells=[],e._finalCodes=[],e._finalFixeds=[],e._finalFixedsReseted=!1,e._nextFixeds=[],e._fixedUuids=[],e._fixedPositions=[],e._mustBeFixedCells=[],e._mockCodes=[],e.startResilienced=!0,e.stopResilienced=!1,e}return o(e,t),Object.defineProperty(e.prototype,"stageCode",{get:function(){return this._stageCode},set:function(t){this._stageCode=t;for(var e=0;e<this._cells.length;e++)this._cells[e].stageCode=t;for(e=0;e<this._mustBeFixedCells.length;e++)this._mustBeFixedCells[e].stageCode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"holdWin",{get:function(){return this._holdWin},set:function(t){this._holdWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"symbolBoard",{get:function(){return this._symbolBoard},set:function(t){this._symbolBoard=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boardStatus",{get:function(){return this._boardStatus},set:function(t){this._boardStatus=t;for(var e=0;e<this._cells.length;e++)this._cells[e].boardStatus=t;this.status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){this._status=t;for(var e=0;e<this._cells.length;e++)this._cells[e].status=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEndResilience",{get:function(){return this._canEndResilience},set:function(t){this._canEndResilience=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mustBeFixedCells",{get:function(){return this._mustBeFixedCells},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finalCodes",{get:function(){return this._finalCodes},set:function(t){this._finalCodes=t,this._finalCodes||(this._finalCodes=[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mockCodes",{get:function(){return this._mockCodes},set:function(t){this._mockCodes=t,this._mockCodes||(this._mockCodes=[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topExtraCells",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomExtraCells",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinResults",{set:function(t){this.reelResults=t,this._nextFixeds=[];for(var e=0;e<t.cells.length;e++)this.cells[e+this.topExtraCells].spinResult=t.cells[e],this._nextFixeds.push(t.cells[e].fixed),this.mustBeFixedCells&&this.mustBeFixedCells.length>0&&(this.mustBeFixedCells[e].spinResult=t.cells[e])},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this._mask=this.fguiComponent.mask,this.fguiComponent.setMask(null,!1)},e.prototype.addFguiComponent=function(e,i){void 0===i&&(i=!1);var n=t.prototype.addFguiComponent.call(this,e,i);if(n instanceof s.default){var o=n;o.stageCode=this.stageCode,o.reel=this,this._cells.push(o),o.index=this._cells.length-1,o.mogafaId=o.index.toString()}return n},e.prototype.beforeStartWaitingResults=function(){this._moveEnd=!1},e.prototype.beforeStopWaitingResults=function(){},e.prototype.afterStopWaitingResults=function(){var t=this.parent;t&&t instanceof a.default&&t.unholdWin(this.index)},e.prototype.replaceMockCodes=function(t,e){if(null==t||null==e)for(var i=0;i<this.finalCodes.length;i++){var n;if(n=this.getFinalCell(i)){n.index=0;var o=this._finalCodes[i];n.finalCode=o,n.mockCodes=this.mockCodes[i],n.mockCodes&&n.mockCodes.length>0&&n.replaceMockCodeInternal()}}else(n=this.getCell(t)).replaceMockCodeInternal(e)},e.prototype.setReelStartResilience=function(t,e){this._startUpResilience=t,this._startDownResilience=e},e.prototype.setReelEndResilience=function(t,e){this._endDownResilience=t,this._endUpResilience=e},e.prototype.reelStartResilience=function(){var t=this;this.startResilienced=!1,this.sortCell(),this.cells[0].code=c.default.random(0,11),this.cells[0].fguiY=this.cells[this.cells.length-1].fguiY+this.cells[0].fguiHeight;var e=cc.sequence(cc.moveTo(this._startUpResilience.duration,this._startUpResilience.xPosition,this._startUpResilience.yPosition),cc.moveTo(this._startDownResilience.duration,this._startDownResilience.xPosition,this._startDownResilience.yPosition),cc.callFunc(function(){t.startResilienced=!0,t.stopResilienced=!1,t.fguiComponent.setMask(t._mask,!1)}));this.holdWin.showMask(),this.fguiComponent.node.runAction(e)},e.prototype.reelStopResilience=function(){var t=this;if(this.sortCell(),this.cells[0].fguiComponent.visible=!0,this.canEndResilience){var e=cc.sequence(cc.moveTo(this._endDownResilience.duration,this._endDownResilience.xPosition,this._endDownResilience.yPosition),cc.moveTo(this._endUpResilience.duration,this._endUpResilience.xPosition,this._endUpResilience.yPosition),cc.callFunc(function(){t._startUpResilience&&t._startDownResilience?(t.startResilienced=!1,t.stopResilienced=!0,t.holdWin.hideMask()):t.holdWin.showMask()}));this.fguiComponent.node.runAction(e)}else this.canEndResilience=!0},e.prototype.firstMove=function(){this._fixedUuids=[],this._fixedPositions=[],this._startUpResilience&&this._startDownResilience&&this.reelStartResilience();for(var t=!0,e=0;e<this._cells.length;e++){var i=this._cells[e];if(i.startMove(),i.fguiComponent.visible||(i.fguiComponent.visible=!0),this.mustBeFixedCells&&this.mustBeFixedCells.length>0&&e>=this.topExtraCells){var n=this.mustBeFixedCells[e-this.topExtraCells];this._finalFixeds[e-this.topExtraCells]?(n.code=i.code,t&&n.fixedCellShow(),t=!1,n.fguiComponent.visible=!0):(n.fixedCellHide(),n.fguiComponent.visible=!1)}}},e.prototype.moveY=function(t,e){if(this._moveEnd)return!1;if(this.isFirstMove&&(this.firstMove(),this.isFirstMove=!1),!this.startResilienced)return!1;this.holdWin.showMask(),this.sortCell();var i=this._cells[0],n=this._cells[this._cells.length-1];n.isFinal&&n.fguiY+t>=this.theFinalBottomCellY&&(t=this.theFinalBottomCellY-n.fguiY,this._moveEnd=!0);for(var o=0;o<this._cells.length;o++)this._cells[o].fguiY+=t;if(this._moveEnd){if(i.fguiComponent.visible=!1,this.status=l.SymbolBoardStatus.Stopped,this._endDownResilience&&this._endUpResilience&&this.reelStopResilience(),this._endDownResilience&&this._endUpResilience&&this.stopResilienced)return!1;for(this.notifyReelStopped(this._index),this.status=l.SymbolBoardStatus.Stopped,this.isFirstMove=!0,this.fguiComponent.setMask(null,!1),this._finalFixeds=this._finalFixeds||[],o=0;o<this._nextFixeds.length;o++)!0!==this._finalFixeds[o]&&(this._finalFixeds[o]=this._nextFixeds[o]);return this._finalFixedsReseted=!1,this.afterStopWaitingResults(),!1}var s=!1;return t>0&&n.fguiY>=this.fguiHeight&&(n.fguiY=i.fguiY-i.fguiHeight,(e||0==e)&&(s=!0,n.code=e)),t<0&&i.fguiY<=0&&(i.fguiY=n.fguiY+n.fguiHeight,(e||0==e)&&(s=!0,i.code=e)),s&&this.sortCell(),s},e.prototype.sortCell=function(){this._cells=this._cells.sort(function(t,e){return t.fguiY-e.fguiY});for(var t=0;t<this._cells.length;t++)this._cells[t].index=t},e.prototype.getCell=function(t){if(t<0||t>=this._cells.length)return cc.error("\u7d22\u5f15"+t+"\u8d85\u51fa\u8303\u56f4"),null;var e=this._cells[t],i=t-this.topExtraCells;if(i>=0&&this._finalFixeds[i]){var n=e.code;this.notFixedCodes.find(function(t){return t==n})||(e.fguiComponent.visible=!1,(e=this.mustBeFixedCells[i]).code=n,e.fguiComponent.visible=!0)}return i>=0&&this.reelResults&&(e.finalAssets=this.reelResults.cells[i].assets),e},Object.defineProperty(e.prototype,"notFixedCodes",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.getFinalCell=function(t){return this.getCell(t)},e.prototype.cellMoveY=function(t,e,i){var n=this.getCell(t);return!!n&&n.moveY(e,i)},e.prototype.getExtraCellCount=function(){return{top:1,bottom:0}},e.prototype.setFinalResultsImmediately=function(t,e){if(t&&0!=t.length)for(var i=t.length,n=0;n<this._cells.length&&!(n>=i);n++)this._cells[n].code=t[n],this._cells[n].finalAssets=e[n],this._cells[n].initAssetShow();else cc.warn("\u6700\u7ec8\u7ed3\u679c\u4e3a\u7a7a")},e.prototype.setFinalResultImmediately=function(t,e){var i=this.getCell(t);i&&(i.code=e)},e.prototype.onColumnStopped=function(t,e){this.node.on(r.SymbolBoardEvent.COLUMN_STOPPED,t,e)},e.prototype.onBeforeColumnStopped=function(){},e.prototype.reset=function(){this.unscheduleAllCallbacks();for(var t=0;t<this._cells.length;t++)this._cells[t].reset();if(!this._finalFixedsReseted){for(this._finalFixeds=[],t=0;t<this._nextFixeds.length;t++)this._finalFixeds.push(this._nextFixeds[t]);this._finalFixedsReseted=!0}this._nextFixeds=[],this._mockCodes=[],this._moveEnd=!1,this.isFirstMove=!0},e.prototype.prizeShow=function(t,e){this.getCell(e).prizeShow(t)},e.prototype.receivePrizeShowCompleted=function(t){var e=this.parent;if(e)e.receivePrizeShowCompleted(t);else{var i=this.parent;i&&i.receivePrizeShowCompleted(t)}},e.prototype.receiveMockCodeReplaced=function(t,e){var i=this.parent;if(i)i.receiveMockCodeReplaced(t,e);else{var n=this.parent;n&&n.receiveMockCodesReplaced(t,e)}},e.prototype.notifyReelStopped=function(t){for(var e=this.parent,i=0;i<this.cells.length;i++)this.getCell(i).stopShow();if(e)e.receiveReelStopped(t);else{var n=this.parent;n&&n.receiveReelStopped(t)}},e.prototype.receiveCellStopped=function(t){var e=!0;this.symbolBoard.receiveCellStopped(this.index,t);for(var i=0;i<this._cells.length;i++)if(!this.getCell(i).moveEnd){e=!1;break}if(e){this.status=l.SymbolBoardStatus.Stopped;var n=this.parent;n&&n.receiveReelStopped(this.index)}},e.prototype.cellHoldWin=function(t){this.getCell(t).holdWin()},e.prototype.unCellHoldWin=function(t){this.getCell(t).unholdWin()},e.prototype.setCellControllerProperty=function(t,e,i){this.getCell(t).setControllerProperty(e,i)},e.prototype.setSymbolControllerProperty=function(t,e,i){this.getCell(t).setSymbolControllerProperty(e,i)},e.prototype.playSpineByConfig=function(t,e,i){this.getCell(t).playSpineByConfig(e,i)},e.prototype.checkAllChildCreated=function(){for(t.prototype.checkAllChildCreated.call(this);this.cells.find(function(t){return t.mustBeFixed});){var e=this.cells.findIndex(function(t){return t.mustBeFixed});-1!==e&&this.cells.splice(e,1)}},e.prototype.notifyPrizeCellSettleCompletedOnceCallback=function(){},e.prototype.prizeChipCellSettle=function(t,e,i,n){this.getCell(t%this.cells.length).prizeChipCellSettle(t,e,i,n)},e.prototype.notifyShowDoubleAssets=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].notifyShowDoubleAssets()},e.prototype.doubleChessShow=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].doubleChessShow()},e.prototype.setAssetsAfterChessboardStopped=function(){this.cells.map(function(t){t.setAssetAfterChessboardStopped()})},e}(u.default);i.default=p,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"../../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils":void 0,"./CellBase":"CellBase","./HoldWinBase":"HoldWinBase","./SymbolBoardEvent":"SymbolBoardEvent","./SymbolBoardStatus":"SymbolBoardStatus"}],ReplaceSymbol:[function(t,e,i){"use strict";cc._RF.push(e,"6a4c1b0RMdKBq9PCi8d8XLD","ReplaceSymbol"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.$replaced=!1,this.$reel=t,this.$cell=e,this.$count=i,this.$replaced=!1}return Object.defineProperty(t.prototype,"reel",{get:function(){return this.$reel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cell",{get:function(){return this.$cell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.$count},enumerable:!1,configurable:!0}),t.prototype.replaceOnce=function(){this.$count--,this.$count<0&&this.$count,this.$replaced=0===this.$count},Object.defineProperty(t.prototype,"replaced",{get:function(){return this.$replaced},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],RippleSpine:[function(t,e,i){"use strict";cc._RF.push(e,"fed02PsVPRKUopnTMtbVyN9","RippleSpine");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../spin-result/SpineCommon"),r=function(){function t(){}return t.PATH="UI/Ripple/",t.RIPPLE="spine_ui_guanghuan",t}(),a=function(t){function e(e){return t.call(this,e,[r.PATH+r.RIPPLE])||this}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),e.prototype.ripple=function(){this._skeleton.skeletonData=this._resources[r.RIPPLE],this.skeleton.setAnimation(1,"finish",!0)},e.prototype.closeRipple=function(){this._skeleton.skeletonData=this._resources[r.RIPPLE],this.skeleton.clearTrack(1)},e}(s.default);i.default=a,cc._RF.pop()},{"../../../../spin-result/SpineCommon":"SpineCommon"}],SlotGameStageBase:[function(t,e,i){"use strict";cc._RF.push(e,"c23a59IaZ1MTpUK2ZaVPMFZ","SlotGameStageBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./SlotGameStageEvent"),r=t("../SymbolBoard/SymbolBoardBase"),a=t("../BottomBar/BottomBarBase"),l=t("./SlotGameStageStatus"),u=t("../SymbolBoard/SymbolBoardStatus"),c=t("../SpinType"),p=t("../TopBar/TopBarBase"),h=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase"),d=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),f=t("../../../../../../../Boot/scirpt/AppConst"),m=t("../../../../spin-result/SpinResults"),g=t("../../../../spin-result/SpinResultsEventCode"),S=t("../../../../spin-result/SpinResultsFreeTrigger"),y=t("../../../../spin-result/SpinResultsGameMode"),_=t("../../../../spin-result/SpinResultsWheeItem"),b=t("../../../../spin-result/SpinResultsWheel"),C=t("../../../../spin-result/SpinResultsWinType"),v=t("../MogafaExtensions"),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._status=l.SlotGameStageStatus.Ready,e.hasBigWin=!1,e.bigWinShowEnded=!0,e.hasJackpot=!1,e.jackpotShowEnded=!0,e.symbolSpineResourceLoadedIndex=0,e.$gameMode=y.SpinResultsGameMode.Normal,e.$nextGameMode=y.SpinResultsGameMode.Normal,e.$symbolBoards=[],e.spinClickBuffer=null,e._hasMatchedLines=!1,e._hasUpgrade=!1,e._coinAward=0,e._integralAward=0,e.maxline=1,e.enterFreeModeShowCompletedOnce=!1,e}return o(e,t),Object.defineProperty(e.prototype,"spinRoute",{get:function(){return this.$spinRoute},set:function(t){this.$spinRoute=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinParams",{get:function(){return this.$spinParams},set:function(t){this.$spinParams=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"symbolBoards",{get:function(){return this.$symbolBoards},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){var i=this;this._status=t,console.log("gameStagestatus ===="+this._status),t==l.SlotGameStageStatus.ServerResultsReceived&&(!this.spinClickBuffer||this.spinClickBuffer!=l.SlotGameStageStatus.WaitingServerResults&&this.spinClickBuffer!=l.SlotGameStageStatus.RequestingServer||this.stopWaitingResults(),this.spinClickBuffer=null);var n=null;if(t==l.SlotGameStageStatus.Ready&&(n=u.SymbolBoardStatus.Ready,this.spinResults&&this.spinResults.nextGameMode!=y.SpinResultsGameMode.Normal&&setTimeout(function(){i.spinClick()},500)),t!=l.SlotGameStageStatus.RequestingServer&&t!=l.SlotGameStageStatus.WaitingServerResults&&t!=l.SlotGameStageStatus.ServerResultsReceived||(n=u.SymbolBoardStatus.Spinning),null!=n){for(var o=0;o<this.$symbolBoards.length;o++)this.$symbolBoards[o].status=n;t==l.SlotGameStageStatus.Ready&&this.spinResults&&this.spinResults.gameMode!=y.SpinResultsGameMode.Normal&&(this.spinResults.finishedCount,this.spinResults.totalCount)}if(t==l.SlotGameStageStatus.BoardsReplacing&&this.canBeNextStatus()&&(this.status=l.SlotGameStageStatus.BoardsPrizeShowing),t==l.SlotGameStageStatus.BoardsPrizeShowing&&this.canBeNextStatus()&&(this.status=l.SlotGameStageStatus.BoardsSettling),t==l.SlotGameStageStatus.BoardsSettling&&this.canBeNextStatus()&&(this.status=l.SlotGameStageStatus.PrizeShowing),t==l.SlotGameStageStatus.PrizeShowing){var r=!1;if(this.hasJackpot&&!this.jackpotShowEnded)return r=!0,void this.jackpotShow(e.spinResults.jackpot);if(!this.hasJackpot&&this.hasBigWin&&!this.bigWinShowEnded)return r=!0,void this.bigWinShow();if(!r&&this.spinResults.freeTrigger)return void setTimeout(this.beforeEnterFreeMode.bind(this),500,this.spinResults.freeTrigger);r||this.spinResults.finishedCount!=this.spinResults.totalCount||this.spinResults.gameMode==y.SpinResultsGameMode.Normal||(this.freeModeFinished(this.spinResults.winCoins,this.spinResults.totalCount),this.bottomBar.spinType=c.SpinType.Spin,this.$gameMode!==y.SpinResultsGameMode.FreeSpin&&this.$gameMode!==y.SpinResultsGameMode.Respin&&this.$gameMode!==y.SpinResultsGameMode.OneMore||(this.$gameMode=y.SpinResultsGameMode.Normal),setTimeout(function(){i.bottomBar.freeModeFinished=!0},1e3)),this.status=l.SlotGameStageStatus.Ready}this.node.emit(s.SlotGameStageEvent.STATUS_CHANGED,this.status)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentGameMode",{get:function(){return this._currentGameMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"freeModeTrigger",{get:function(){return this._freeModeTrigger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinResults",{get:function(){return this.$spinResults},set:function(t){this.$spinResults=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cleans",{get:function(){return this.$cleans},set:function(t){this.$cleans=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),this._status=l.SlotGameStageStatus.Ready,this.loadCommonSoundsResources(),v.MogafaExtensions.init(),this.CallbackData=null,this.webSocket.setActorMessageCallback(function(t){var i=null,n=!1;t.Info&&t.Info.length>0&&(-1!=(i=JSON.parse(t.Info[0].Message)).fn.indexOf("sc_showdown_slot")&&(e.CallbackData=t.Info[0],i.openmarry&&i.openmarry>0&&(n=!0)),(-1!=i.fn.indexOf("sc_tablestart_slot")&&e.CallbackData||1==n)&&e.onSpinResultsReceivedInternal(e.CallbackData)),console.log("ActorMessageCallback=======",i)})},e.prototype.addFguiComponent=function(e){var i=t.prototype.addFguiComponent.call(this,e);if(i instanceof r.default){var n=i;this.symbolBoards.push(n),n.index=this.symbolBoards.length-1,n.stageCode=this.stageCode,n.onResultsSet(this.chessboardResultsSet,this)}return i instanceof a.default&&(this.bottomBar=i,this.bottomBar.game=this,this.bottomBar.onFastClick(this.fast,this)),i instanceof p.default&&(this.topBar=i),i},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.loadSymbolSpineResources()},e.prototype.loadCommonSoundsResources=function(){},e.prototype.loadSymbolSpineResources=function(){if(this.symbolSpineUrls&&this.symbolSpineUrls.length>=0&&this.symbolSpineResourceLoadedIndex<this.symbolSpineUrls.length){var t=this.symbolSpineUrls[this.symbolSpineResourceLoadedIndex].urls;t&&t.length>0?cc.loader.loadResArray(t,sp.SkeletonData,this.symbolSpineResourcesLoaded.bind(this)):(this.symbolSpineResourceLoadedIndex++,this.loadSymbolSpineResources())}},e.prototype.symbolBoardSetWinCoins=function(){var t=this;this.symbolBoards.map(function(e){e.node.on("BOTTOM_BAR_SET_WIN_COINS",t.setWinCoins.bind(t))})},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this),this.symbolBoardSetWinCoins(),this.topBar?this.topBar.coins=f.AppConst.hallData.gold:this.bottomBar.setUserCoins(f.AppConst.hallData.gold)},e.prototype.betChange=function(){},e.prototype.symbolSpineResourcesLoaded=function(t,e){if(t)cc.error("\u68cb\u5b50spine\u52a8\u753b\u8f7d\u5165\u9519\u8bef");else{this.symbolSpineUrls[this.symbolSpineResourceLoadedIndex];for(var i=0;i<e.length;i++){var n=e[i];this.symbolSpineUrls[this.symbolSpineResourceLoadedIndex].addResource(n.name,n)}this.symbolSpineResourceLoadedIndex++,this.loadSymbolSpineResources()}},e.prototype.loadInitGameData=function(){this.spinRoute&&this.spinParams?this.webSocket.request(this.spinRoute,this.spinParams,this.loadInitGameDataCallback.bind(this)):cc.error("\u521d\u59cb\u5316\u8bf7\u6c42\u53c2\u6570\u9519\u8bef\uff0c\u65e0\u6cd5\u83b7\u53d6\u521d\u59cb\u6570\u636e")},e.prototype.loadInitGameDataCallback=function(t){if(200===t.code&&t.isSuccessful){if(t.data){this._bets=t.data.config.bet.list.map(function(t){return t.value});var e=t.data.config.bet.max;this.setBottomBarBets(e),this.bottomBar.bet=this.bottomBar.bets[0]}this.getInitGameData(t);var i=t.data.game.defaultSlots;this.symbolBoards.map(function(t,e){t.defaultSlot=i[e]});var n=t.data.user;n&&(this.topBar.setUserCoins(n.coins),this.topBar.setInitLevel(n.level.level,n.level.currentValue,n.level.totalValue)),this.status=l.SlotGameStageStatus.Ready}else cc.error("\u9519\u8bef\u7801\uff1a"+t.code+", \u9519\u8bef\u4fe1\u606f\uff1a"+t.message)},e.prototype.setBottomBarBets=function(t){var e=this._bets.indexOf(t);if(e>-1){var i=this._bets.slice(0,e+1);this.bottomBar.bets=i}else{var n=this.getNearestIndex(t);i=this._bets.slice(0,n+1),this.bottomBar.bets=i}},e.prototype.getNearestIndex=function(t){for(var e=0,i=0,n=0;n<this._bets.length;n++){var o=Math.abs(this._bets[n]-t);0===e&&(e=o,i=n),e>o&&(i=n)}return i},e.prototype.getSymbolSpineResourcesByCode=function(t){return this.symbolSpineUrls.find(function(e){return e.code===t})},e.prototype.checkCoinEnough=function(){var t;return t=this.topBar?this.topBar.coins:this.bottomBar.coins,(t-=this.bottomBar.bet*this.maxline)<0&&this.node.emit(s.SlotGameStageEvent.SPIN_CHECK_COIN),t>=0},e.prototype.spinClick=function(){switch(this.spinClickBuffer=null,this._status){case l.SlotGameStageStatus.Ready:this.beforeSpinRequestingInternal(),this.spinRequest();break;case l.SlotGameStageStatus.BoardsSpinning:this.stopWaitingResults();break;case l.SlotGameStageStatus.BoardsPrizeShowing:this.$nextGameMode===y.SpinResultsGameMode.Normal?this.spinClickBuffer=l.SlotGameStageStatus.BoardsPrizeShowing:this.spinClickBuffer=null;break;case l.SlotGameStageStatus.WaitingServerResults:case l.SlotGameStageStatus.RequestingServer:this.spinClickBuffer=this._status;break;case l.SlotGameStageStatus.ServerResultsReceived:this.stopWaitingResults()}},e.prototype.changeStatus=function(t){this.status=t},e.prototype.setWinCoins=function(){var t=this;this._hasMatchedLines&&(this.bottomBar.setWinCoins(this.spinResults.winCoins,1),this.scheduleOnce(function(){t.topBar?t.topBar.setUserCoins(t.spinResults.userCoins,1):t.bottomBar.setUserCoins(t.spinResults.userCoins,1)},1.5))},e.prototype.setUserCoins=function(t){this.topBar?this.topBar.coins=t:this.bottomBar.coins=t},e.prototype.beforeSpinRequestingInternal=function(){e.spinResults=null;for(var t=0;t<this.symbolBoards.length;t++)this.symbolBoards[t].reset();this.beforeSpinRequesting()},e.prototype.beforeSpinRequesting=function(){this.$gameMode===y.SpinResultsGameMode.Normal&&this.bottomBar.setWinCoins(0,0),this.changeStatus(l.SlotGameStageStatus.RequestingServer)},e.prototype.spinRequest=function(){var t=this;if(this.status==l.SlotGameStageStatus.RequestingServer){if(this.topBar){this.topBar.cancelCoinIncreaseAnime();var e=this.topBar.coins;if((e-=this.bottomBar.bet*this.bottomBar.totalLineCount)<0)return this.$message.showTips("Oops. Not enough coins to SPIN...",2),void(this.status=l.SlotGameStageStatus.Ready);this.$nextGameMode!=y.SpinResultsGameMode.FreeSpin&&this.$nextGameMode!=y.SpinResultsGameMode.Respin&&this.$nextGameMode!=y.SpinResultsGameMode.OneMore&&this.scheduleOnce(function(){t.topBar.setUserCoins(e,0)},.5)}else{this.bottomBar.cancelCoinIncreaseAnime();var i=this.bottomBar.coins;if((i-=this.bottomBar.bet*this.bottomBar.totalLineCount)<0)return this.$message.showTips("Oops. Not enough coins to SPIN...",2),void(this.status=l.SlotGameStageStatus.Ready);this.$nextGameMode!=y.SpinResultsGameMode.FreeSpin&&this.$nextGameMode!=y.SpinResultsGameMode.Respin&&this.$nextGameMode!=y.SpinResultsGameMode.OneMore&&this.bottomBar.setUserCoins(i,0)}for(var n=0;n<this.symbolBoards.length;n++)this.symbolBoards[n].startWaitingResults();this.schedule(this.spinRequesting,0)}else cc.error("\u53ea\u6709\u5728\u8bf7\u6c42\u670d\u52a1\u5668\u7684\u72b6\u6001\u4e0b\u624d\u80fd\u8bf7\u6c42\u670d\u52a1\u5668")},e.prototype.spinRequesting=function(){this.status==l.SlotGameStageStatus.RequestingServer?(this.changeStatus(l.SlotGameStageStatus.WaitingServerResults),this.unschedule(this.spinRequesting),this.webSocket.request(this.spinRoute,this.spinParams,this.onXiaZhuResultsReceivedInternal.bind(this),this.onSpinResultsFailReceived.bind(this))):cc.error("\u53ea\u6709\u5728\u8bf7\u6c42\u670d\u52a1\u5668\u7684\u72b6\u6001\u4e0b\u624d\u80fd\u8bf7\u6c42\u670d\u52a1\u5668")},e.prototype.onSpinResultsFailReceived=function(){this.status=l.SlotGameStageStatus.Ready,this.bottomBar.isAutoSpin||(this.bottomBar.spinType=c.SpinType.Respin),this.symbolBoards.map(function(t){t.status=u.SymbolBoardStatus.Spinning,t.stopWaitingResults()})},e.prototype.onXiaZhuResultsReceivedInternal=function(t){console.log("onXiaZhuResultsReceivedInternal"),t.Message?(this.CallbackChangeData=t.Message,"slotfruit"!=this.gameName&&"zues"!=this.gameName&&"shz"!=this.gameName&&this.onSpinResultsReceivedInternal(t)):this.stopWaitingResults()},e.prototype.onSpinResultsReceivedInternal=function(t){if(!t.Message||!this.CallbackChangeData)return cc.error("spin\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"),void this.stopWaitingResults();var i=this.parseResult(t.Message);e.spinResults=i,this.spinResults=i,this.node.emit(s.SlotGameStageEvent.SPIN_RESULTS_RECEIVED,i),i.cards&&i.cards.length>0&&this.cardViewShow(i.cards),this.spinResults.winType!=C.SpinResultsWinType.None&&this.spinResults.winType!=C.SpinResultsWinType.Normal&&(this.hasBigWin=!0,this.bigWinShowEnded=!1),-1!==this.spinResults.jackpotLevel&&(this.hasJackpot=!0,this.jackpotShowEnded=!1),this.$gameMode=i.gameMode,this.$nextGameMode=i.nextGameMode,this.bottomBar.currentGameMode=i.gameMode,this.bottomBar.nextGameMode=i.nextGameMode,i.freeTrigger&&(this.$nextGameMode=i.freeTrigger.gameMode,this.bottomBar.freeGameTrigger=i.freeTrigger),this.changeBottomBarSpinType();for(var n=0;n<i.slots.length;n++){if(n>=this.symbolBoards.length){cc.error("\u68cb\u76d8\u6570\u4e0d\u591f");break}this.symbolBoards[n].slotResults=i.slots[n],i.slots[n].matchedLines&&i.slots[n].matchedLines.length>0&&(this._hasMatchedLines=!0)}i.gameMode!=y.SpinResultsGameMode.FreeSpin&&i.gameMode!=y.SpinResultsGameMode.OneMore||this.bottomBar.changeFreeSpinCount(i.finishedCount,i.totalCount),this.changeStatus(l.SlotGameStageStatus.ServerResultsReceived)},e.prototype.updateLevelCallback=function(t){t&&this.levelUp.upgrade(t,this.awardIncreaseCallback.bind(this))},e.prototype.awardIncreaseCallback=function(t,e){var i=this,n=this.topBar.coins+t;this.spinResults.slots[0].matchedLines.length>0&&(n=this.spinResults.userCoins);var o=this.topBar.integral+e;this.topBar.setUserCoins(n,1),this.scheduleOnce(function(){i.topBar.setUserIntegral(o,1)},.6),this._hasUpgrade=!1},e.prototype.changeBottomBarSpinType=function(){switch(this.$gameMode){case y.SpinResultsGameMode.FreeSpin:case y.SpinResultsGameMode.OneMore:this.bottomBar.spinType=c.SpinType.FreeSpin;break;case y.SpinResultsGameMode.Respin:this.bottomBar.spinType=c.SpinType.Respin;break;default:1===this.bottomBar.spinType?this.bottomBar.spinType=c.SpinType.AutoSpin:this.bottomBar.spinType=c.SpinType.Spin}this.bottomBar.nextGameMode=this.spinResults.nextGameMode},e.prototype.parseResult=function(t){console.log("parseResult");var e=JSON.parse(t),i=JSON.parse(this.CallbackChangeData);if(e.slots=[],e.slots[0]={},e.slots[0].columns=[],e.slots[0].events=[],e.slots[0].matchedLines=[],e.jock&&e.jock.jockPotScore?(e.jackpots=e.jock.jockPotScore,e.jackpot=e.jock.lWinScore,e.jackpotLevel=e.jock.lev):(e.jackpots=[500,2e3,6e6],e.jackpot=0,e.jackpotLevel=-1),e.winType=e.winType||0,e.winCoins=e.gold,e.userCoins=e.usermoney||e.usergold,e.previousGameMode,e.gameMode=0,e.nextGameMode=0,e.finishedCount=e.TotalFree-e.openfree,e.totalCount=e.TotalFree,e.timestamp=0,e.totalBetNum=0,e.highScore=0,e.bigWinCoins=e.gold,e.bigWinAdAwards={awardId:"",points:0,coins:0,countdown:4},e.cards=[],e.freeWinGold=e.FreeWinGold,e.totalCount>0&&e.finishedCount>0&&(e.winCoins=e.FreeWinGold),i._turntable[0]&&i._turntable[0].oneline){for(var n=i._turntable.length,o=i._turntable[0].oneline.length,s=0,r=o;s<r;s++)e.slots[0].columns[s]={},e.slots[0].columns[s].cells=[];for(var a=0,l=o;a<l;a++)for(s=0,r=n;s<r;s++)e.slots[0].columns[a].cells[s]={code:i._turntable[s].oneline[a]-1,fixed:!1,mockCodes:[]},e.slots[0].columns[a].cells[s].events=[],this.JackPotCode==i._turntable[s].oneline[a]-1&&e.slots[0].columns[a].cells[s].events.push({code:g.SpinResultsEventCode.Bonus,value:g.SpinResultsEventCode.Bonus}),"ninjaVSsamurai"==this.gameName?i._turntable[s].oneline[a]-1>=this.ScatterCode&&e.slots[0].columns[a].cells[s].events.push({code:g.SpinResultsEventCode.Free,value:g.SpinResultsEventCode.Free}):this.ScatterCode==i._turntable[s].oneline[a]-1&&e.slots[0].columns[a].cells[s].events.push({code:g.SpinResultsEventCode.Free,value:g.SpinResultsEventCode.Free})}if(e.hitline&&e.hitline.length>0)for(s=0,r=e.hitline.length;s<r;s++)for(e.slots[0].matchedLines[s]=[],a=0,l=e.hitline[s].hitcount;a<l;a++){var u=e.hitline[s].hit[a];u=this.BoardIndex[u.x-1][u.y-1],e.slots[0].matchedLines[s][a]=u}if(i.changeinfos)for(s=0,r=i.changeinfos.length;s<r;s++)e.slots[0].columns[i.changeinfos[s].tcol].cells[i.changeinfos[s].trow].events||(e.slots[0].columns[i.changeinfos[s].tcol].cells[i.changeinfos[s].trow].events=[]),e.slots[0].columns[i.changeinfos[s].tcol].cells[i.changeinfos[s].trow].events.push({code:i.changeinfos[s].tcard-1,value:i.changeinfos[s].tcard-1}),e.slots[0].columns[i.changeinfos[s].col].cells[i.changeinfos[s].row].mockCodes.push(i.changeinfos[s].beforcard-1),e.slots[0].columns[i.changeinfos[s].col].cells[i.changeinfos[s].row].code=i.changeinfos[s].card-1,"zues"==this.gameName&&e.totalCount>0&&e.finishedCount>0&&(i.changeinfos[s].beforcard-1==6&&e.slots[0].columns[i.changeinfos[s].tcol].cells[i.changeinfos[s].trow].events.push({code:6001,value:6001}),i.changeinfos[s].beforcard-1==4&&e.slots[0].columns[i.changeinfos[s].tcol].cells[i.changeinfos[s].trow].events.push({code:5001,value:5001}));if(e.bisons)for(s=0,r=e.bisons.length;s<r;s++){for(var c=-1,p=0,h=e.bisons[s].changes.length;p<h;p++)e.slots[0].columns[e.bisons[s].changes[p].col].cells[e.bisons[s].changes[p].row].mockCodes.push(e.bisons[s].changes[p].befor-1),e.slots[0].columns[e.bisons[s].changes[p].col].cells[e.bisons[s].changes[p].row].code=e.bisons[s].changes[p].card-1,0==e.bisons[s].isvertical&&(c=e.bisons[s].changes[p].col);e.bisons[s].origin?e.bisons[s].origin&&e.slots[0].columns[e.bisons[s].origin.col].cells[e.bisons[s].origin.row].events.push({code:s,value:c}):e.slots[0].events.push({code:1,value:c})}if(e.ninjiamodle&&e.ninjiamodle>0&&e.slots[0].events.push({code:2,value:e.ninjiamodle}),e.cleans){e.slots[0].events=[];for(var d=e.cleans,f=0;f<d.length;f++){c=-1;for(var C=d[f].befort,v=d[f].aftert,R=v[0].oneline.length,B=0;B<R;B++)for(var P=0;P<v.length;P++)e.slots[0].columns[B].cells[P].mockCodes.push(C[P].oneline[B]-1),e.slots[0].columns[B].cells[P].code=v[P].oneline[B]-1;var w=d[f].cleans;for(B=0;B<w.length;B++){var O=w[B].points;for(P=0;P<O.length;P++)e.slots[0].columns[O[P].col].cells[O[P].row].events||(e.slots[0].columns[O[P].col].cells[O[P].row].events=[]),e.slots[0].columns[O[P].col].cells[O[P].row].events.push({code:1520,value:f})}}}this.CallbackChangeData=null;var k=[];if(e.specialCard)for(s=0,r=e.specialCard.length;s<r;s++){var M=new _.default(e.specialCard[s].ItemID,e.specialCard[s].ItemValue);k.push(M)}var x=[];return x.push(new b.default(k)),e.openfree>0&&0==e.finishedCount||e.isstartfree?(e.freeTrigger=new S.default(y.SpinResultsGameMode.FreeSpin,e.finishedCount,e.totalCount,x),e.nextGameMode=y.SpinResultsGameMode.FreeSpin):e.openmarry>0&&0==e.finishedCount&&(e.freeTrigger=new S.default(y.SpinResultsGameMode.Bonus,0,e.openmarry),e.nextGameMode=y.SpinResultsGameMode.Bonus),e.totalCount>0&&e.finishedCount>0&&(e.gameMode=y.SpinResultsGameMode.FreeSpin,e.nextGameMode=y.SpinResultsGameMode.FreeSpin),e.finishedCount==e.totalCount&&0!=e.totalCount&&0!=e.finishedCount&&(e.nextGameMode=y.SpinResultsGameMode.Normal),0==e.totalCount&&0==e.openfree&&1==this.bottomBar.nextGameMode&&(e.totalCount=this.bottomBar.freeGameTrigger.total,e.finishedCount=e.totalCount,e.winCoins=e.FreeWinGold,e.gameMode=y.SpinResultsGameMode.FreeSpin,e.nextGameMode=y.SpinResultsGameMode.Normal),console.log("\u603b\u6b21\u6570\uff1a"+e.totalCount+",\u514d\u8d39\uff1a"+e.openfree+",\u739b\u4e3d\uff1a"+e.openmarry),plainToClass(m.default,e)},e.prototype.stopWaitingResults=function(){for(var t=0;t<this.symbolBoards.length;t++)this.symbolBoards[t].stopWaitingResults()},e.prototype.fast=function(){for(var t=0;t<this.symbolBoards.length;t++)this.symbolBoards[t].isFast=this.bottomBar.isFast},e.prototype.beforeReplacingMockSymbols=function(){this.changeStatus(l.SlotGameStageStatus.BoardsReplacing)},e.prototype.beforeStartPrizeShow=function(){this.changeStatus(l.SlotGameStageStatus.BoardsPrizeShowing)},e.prototype.chessboardResultsSet=function(){this.changeStatus(l.SlotGameStageStatus.BoardsPrizeShowing)},e.prototype.onStatusChanged=function(t,e){this.node.on(s.SlotGameStageEvent.STATUS_CHANGED,t,e)},e.prototype.clearStatusChanged=function(){this.node.off(s.SlotGameStageEvent.STATUS_CHANGED)},e.prototype.offStatusChanged=function(t,e){this.node.off(s.SlotGameStageEvent.STATUS_CHANGED,t,e)},e.prototype.onSpinCheckCoin=function(t,e){this.node.on(s.SlotGameStageEvent.SPIN_CHECK_COIN,t,e)},e.prototype.offSpinCheckCoin=function(t,e){this.node.off(s.SlotGameStageEvent.SPIN_CHECK_COIN,t,e)},e.prototype.clearSpinCheckCoin=function(){this.node.off(s.SlotGameStageEvent.SPIN_CHECK_COIN)},e.prototype.onSpinResultsReceived=function(t,e){this.node.on(s.SlotGameStageEvent.SPIN_RESULTS_RECEIVED,t,e)},e.prototype.offSpinResultsReceived=function(t,e){this.node.off(s.SlotGameStageEvent.SPIN_RESULTS_RECEIVED,t,e)},e.prototype.clearSpinResultsReceived=function(){this.node.off(s.SlotGameStageEvent.SPIN_RESULTS_RECEIVED)},e.prototype.getBoard=function(t){return this.symbolBoards[t]||(cc.error("\u68cb\u76d8\u7d22\u5f15"+t+"\u8d85\u754c"),null)},e.prototype.checkAllSymbolBoardStopped=function(){for(var t=!0,e=0;e<this.symbolBoards.length;e++){var i=this.symbolBoards[e];if(i.status==u.SymbolBoardStatus.Ready||i.status==u.SymbolBoardStatus.Spinning){t=!1;break}}return t},e.prototype.canBeNextStatus=function(){for(var t=!0,e=0;e<this.symbolBoards.length&&(t=this.symbolBoards[e].canBeNextStatus(this.status));e++);return t},e.prototype.receivePrizeShowCompleted=function(){this.canBeNextStatus()||(this.hasBigWin&&this.bigWinShow(),this.hasJackpot&&!this.jackpotShowEnded&&this.jackpotShow(e.spinResults.jackpot),this.hasBigWin||this.hasJackpot||(this.spinResults.freeTrigger?this.beforeEnterFreeMode(this.spinResults.freeTrigger):this.spinResults.finishedCount==this.spinResults.totalCount&&this.spinResults.gameMode!=y.SpinResultsGameMode.Normal?(this.freeModeFinished(this.spinResults.winCoins,this.spinResults.totalCount),this.bottomBar.spinType=c.SpinType.Spin):this.changeStatus(l.SlotGameStageStatus.Ready)))},e.prototype.receiveSymbolBoardStatusChanged=function(){if(this.canBeNextStatus())switch(this.status){case l.SlotGameStageStatus.ServerResultsReceived:this.status=l.SlotGameStageStatus.BoardsReplacing;break;case l.SlotGameStageStatus.BoardsReplacing:this.status=l.SlotGameStageStatus.BoardsPrizeShowing;break;case l.SlotGameStageStatus.BoardsPrizeShowing:this.status=l.SlotGameStageStatus.BoardsSettling;break;case l.SlotGameStageStatus.BoardsSettling:this.status=l.SlotGameStageStatus.PrizeShowing;break;case l.SlotGameStageStatus.PrizeShowing:this.$nextGameMode!==y.SpinResultsGameMode.Normal||this.spinResults.freeTrigger||(this.status=l.SlotGameStageStatus.Ready)}},e.prototype.receiveSymbolBoardStopped=function(){this.canBeNextStatus()&&this.changeStatus(l.SlotGameStageStatus.BoardsReplacing)},e.prototype.receiveSymbolMockCodesReplaced=function(){this.canBeNextStatus()&&this.changeStatus(l.SlotGameStageStatus.BoardsPrizeShowing)},e.prototype.bigWinShow=function(){this.win.popUpWin(e.spinResults.winType,e.spinResults.bigWinCoins,e.spinResults.bigWinAdAwards.countdown,this.spinResults.gameWheel,this.bigWinCallback.bind(this)),this._hasMatchedLines||this.bottomBar.setWinCoins(this.spinResults.winCoins,1)},e.prototype.bigWinCallback=function(t,e){var i=this;if(this.bigWinShowEnd(),this.topBar){var n=t+this.topBar.coins;this.spinResults.slots[0].matchedLines.length>0&&(n=this.spinResults.userCoins),this.topBar.setUserCoins(n,.5);var o=e+this.topBar.integral;this.scheduleOnce(function(){i.topBar.setUserIntegral(o,.5)},1)}else n=t+this.bottomBar.coins,this.spinResults.slots[0].matchedLines.length>0&&(n=this.spinResults.userCoins),this.bottomBar.setUserCoins(n,.5)},e.prototype.bigWinShowEnd=function(){this.bigWinShowEnded=!0,this.hasBigWin=!1,this.status=l.SlotGameStageStatus.PrizeShowing},e.prototype.jackpotShow=function(){console.log("jp"),d.default.getInstance().playEffect("vo_jackpot"),this.bottomBar.setWinCoins(this.spinResults.winCoins,1),this.jackpotShowEnd()},e.prototype.jackpotShowEnd=function(){this.jackpotShowEnded=!0,this.hasJackpot=!1,this.status=l.SlotGameStageStatus.PrizeShowing,this.topBar?this.topBar.setUserCoins(this.spinResults.userCoins,1):this.bottomBar.setUserCoins(this.spinResults.userCoins,1)},e.prototype.enterFreeMode=function(){this.spinResults.gameMode===y.SpinResultsGameMode.Normal&&this.bottomBar.setWinCoins(0,0),this.status=l.SlotGameStageStatus.Ready},e.prototype.cardViewShow=function(){},e.prototype.freeModeFinished=function(){},e.prototype.playSpineByConfigAndPositions=function(){},e.prototype.playEnterFreeModeShow=function(t,e){this.enterFreeModeShowCallback=t;var i=!1;this.enterFreeModeShowCompletedOnce=!1;for(var n=0;n<this.symbolBoards.length;n++)this.symbolBoards[n].playEnterFreeModeShow(this.enterFreeModeShowCompleted.bind(this),e)&&(i=!0);!i&&t&&t()},e.prototype.enterFreeModeShowCompleted=function(){this.enterFreeModeShowCallback&&!this.enterFreeModeShowCompletedOnce&&(this.enterFreeModeShowCompletedOnce=!0,this.enterFreeModeShowCallback())},e.prototype.pauseSymbolBoard=function(){this.symbolBoards.map(function(t){t.waitingResultsStrategy.isPause=!0})},e.prototype.continueSymbolBoard=function(){this.symbolBoards.map(function(t){t.waitingResultsStrategy.isPause=!1,t.waitingResultsStrategy.isPauseBuffer=!0})},e.prototype.selectWinType=function(t){var e="";switch(t){case 2:e="big_win";break;case 3:e="super_win";break;case 4:e="mega_win"}return e},e}(h.default);i.default=R,cc._RF.pop()},{"../../../../../../../Boot/scirpt/AppConst":void 0,"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0,"../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0,"../../../../spin-result/SpinResults":"SpinResults","../../../../spin-result/SpinResultsEventCode":"SpinResultsEventCode","../../../../spin-result/SpinResultsFreeTrigger":"SpinResultsFreeTrigger","../../../../spin-result/SpinResultsGameMode":"SpinResultsGameMode","../../../../spin-result/SpinResultsWheeItem":"SpinResultsWheeItem","../../../../spin-result/SpinResultsWheel":"SpinResultsWheel","../../../../spin-result/SpinResultsWinType":"SpinResultsWinType","../BottomBar/BottomBarBase":"BottomBarBase","../MogafaExtensions":"MogafaExtensions","../SpinType":"SpinType","../SymbolBoard/SymbolBoardBase":"SymbolBoardBase","../SymbolBoard/SymbolBoardStatus":"SymbolBoardStatus","../TopBar/TopBarBase":"TopBarBase","./SlotGameStageEvent":"SlotGameStageEvent","./SlotGameStageStatus":"SlotGameStageStatus"}],SlotGameStageEvent:[function(t,e,i){"use strict";cc._RF.push(e,"11310gZedtK9aVSN9Eil/ig","SlotGameStageEvent"),Object.defineProperty(i,"__esModule",{value:!0}),i.SlotGameStageEvent=void 0,i.SlotGameStageEvent={SPIN_CHECK_COIN:"SlotGameCoinCheck",SPIN_RESULTS_RECEIVED:"SlotGameSpinResultsReceived",STATUS_CHANGED:"SlotGameStatusChanged"},cc._RF.pop()},{}],SlotGameStageStatus:[function(t,e,i){"use strict";cc._RF.push(e,"75a63ns/fFNmpAxvIxejFpX","SlotGameStageStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.SlotGameStageStatus=void 0,function(t){t[t.Ready=0]="Ready",t[t.RequestingServer=1]="RequestingServer",t[t.WaitingServerResults=2]="WaitingServerResults",t[t.ServerResultsReceived=3]="ServerResultsReceived",t[t.BoardsSpinning=4]="BoardsSpinning",t[t.BoardsReplacing=5]="BoardsReplacing",t[t.BoardsPrizeShowing=6]="BoardsPrizeShowing",t[t.BoardsSettling=7]="BoardsSettling",t[t.PrizeShowing=8]="PrizeShowing"}(i.SlotGameStageStatus||(i.SlotGameStageStatus={})),cc._RF.pop()},{}],SlotGameStage:[function(t,e,i){"use strict";cc._RF.push(e,"22b16Xg+MtGHIhIDLxz4ssU","SlotGameStage"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],SlotsMasterGameStageBase:[function(t,e,i){"use strict";cc._RF.push(e,"18ff9fbg8pC4rda99AGqTDk","SlotsMasterGameStageBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../@mogafa/slots/lib/GameStage/SlotGameStageBase"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"adName",{get:function(){return this._adName},set:function(t){this._adName=t},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){},e.prototype.allChildCreated=function(){var e=this;t.prototype.allChildCreated.call(this),this.scheduleOnce(function(){e.showPlane()},1)},e.prototype.scheduleShowPlane=function(){this.scheduleOnce(this.showPlane,5)},e.prototype.showPlane=function(){},e.prototype.setTopBarPermission=function(t){this.scheduleShowPlane(),0===t.type?this.setTopBarCoin(t.award):this.setTopBarIntegral(t.award)},e.prototype.setTopBarCoin=function(t){this.topBar.setUserCoins(t)},e.prototype.setTopBarIntegral=function(t){this.topBar.setUserIntegral(t)},e.prototype.bigWinShow=function(){s.default.spinResults.bigWinAdAwards&&this.win.onAdButtonClick(this.watchAdClick.bind(this,this.adComplete.bind(this))),t.prototype.bigWinShow.call(this)},e.prototype.updateLevelCallback=function(e){t.prototype.updateLevelCallback.call(this,e),e&&this.levelUp.onAdButtonClick(this.watchAdClick.bind(this,this.adComplete.bind(this)))},e.prototype.adComplete=function(){cc.log("Ad has been played successfully")},e.prototype.watchAdClick=function(){},e.prototype.cardViewShow=function(){this.pauseSymbolBoard()},e}(s.default);i.default=r,cc._RF.pop()},{"../../../@mogafa/slots/lib/GameStage/SlotGameStageBase":"SlotGameStageBase"}],SpinResultChoice:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"33e33DXXE5BmImEebVBCn+C","SpinResultChoice"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t){this._questions=[],this._answer=0,this.questions=t}var e,i;return e=t,(i=[{key:"questions",get:function(){return this._questions},set:function(t){this._questions=t,this._questions||(this._questions=[])}},{key:"answer",get:function(){return this._answer},set:function(t){this._answer=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultMockChess:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"42df4s7bjZJ0ZjlVN266buU","SpinResultMockChess"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){this._code=t,this._assets=e}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"assets",get:function(){return this._assets},set:function(t){this._assets=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsBigWinAdAwards:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"d8ec6ocYMNNXahplOi9v37u","SpinResultsBigWinAdAwards"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i,n){this._awardId=t,this._points=e,this._coins=i,this._countdown=n}var e,i;return e=t,(i=[{key:"awardId",get:function(){return this._awardId},set:function(t){this._awardId=t}},{key:"points",get:function(){return this._points},set:function(t){this._points=t}},{key:"coins",get:function(){return this._coins},set:function(t){this._coins=t}},{key:"countdown",get:function(){return this._countdown},set:function(t){this._countdown=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsCard:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"38471Zu2jlHF7kV6CEemUNs","SpinResultsCard"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i,n){this._id=t,this._imageUrl=e,this._isNew=i,this._count=n}var e,i;return e=t,(i=[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"imageUrl",get:function(){return this._imageUrl},set:function(t){this._imageUrl=t}},{key:"isNewCard",get:function(){return this._isNew},set:function(t){this._isNew=t}},{key:"cardCount",get:function(){return this._count},set:function(t){this._count=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsCellReward:[function(t,e,i){"use strict";cc._RF.push(e,"2970dNTNO1OFYtA+HM56Zzp","SpinResultsCellReward"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){},cc._RF.pop()},{}],SpinResultsCell:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cc._RF.push(e,"193d300cU1Gp6CVvC07Umb6","SpinResultsCell");var s=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var r=s(t("./SpinResultsSymbol")),a=(s(t("./SpinResultsWheel")),s(t("./SpinResultsEvent")),function(t){var e,i,s,r;function a(e,i,n,o,s,r,a,l,u,c){var p;return(p=t.call(this,e,o)||this)._fixed=i,p._mockCodes=n,p._extraCode=s,p._extraAssets=r,p._extraPosition=a,p._wheel=l,p._events=u,p._isHoldWin=c,p}return i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,o(e,i),s=a,(r=[{key:"fixed",get:function(){return this._fixed},set:function(t){this._fixed=t}},{key:"mockCodes",get:function(){return this._mockCodes},set:function(t){this._mockCodes=t}},{key:"mockCodeCount",get:function(){return this._mockCodes?this._mockCodes.length:0}},{key:"extraCode",get:function(){return this._extraCode},set:function(t){this._extraCode=t}},{key:"extraAssets",get:function(){return this._extraAssets},set:function(t){this._extraAssets=t}},{key:"extraPosition",get:function(){return this._extraPosition},set:function(t){this._extraPosition=t}},{key:"wheel",get:function(){return this._wheel},set:function(t){this._wheel=t}},{key:"events",get:function(){return this._events},set:function(t){this._events=t}},{key:"isHoldWin",get:function(){return this._isHoldWin},set:function(t){this._isHoldWin=t}}])&&n(s.prototype,r),a}(r.default));i.default=a,cc._RF.pop()},{"./SpinResultsEvent":"SpinResultsEvent","./SpinResultsSymbol":"SpinResultsSymbol","./SpinResultsWheel":"SpinResultsWheel"}],SpinResultsChess:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"92f93XllPJHGrCvd0y2anXn","SpinResultsChess"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i){this._code=t,this._assets=e,this._position=i}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"assets",get:function(){return this._assets},set:function(t){this._assets=t}},{key:"position",get:function(){return this._position},set:function(t){this._position=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsCollectible:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"308a0GZNq5G0a3YjXACLV5n","SpinResultsCollectible"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i){this._code=t,this._value=e,this._maxValue=i}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"maxValue",get:function(){return this._maxValue},set:function(t){this._maxValue=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsColumn:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"f7ce5PreyhDyYYvFlXezxh1","SpinResultsColumn");var o=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),o(t("./SpinResultsCell"));var s=o(t("./SpinResultsConst")),r=function(){function t(t,e){this._cells=[],this._codes=[],this._stopCodes=[],this._replaceCodes=[],this._isHoldWin=!1,this._isHoldWin=e,this.cells=t}var e,i;return t.prototype.getReplaceCodes=function(t,e){for(var i=s.default.NO_MOCK_CODE,n=[],o=[],r=0;r<e.length;r++)e[r]===s.default.NO_MOCK_CODE?o.push(r):n.push(e[r]);if(0==n.length)return{stopCode:t,replaceCodes:e};i=n.shift(),n.push(t);for(var a=0;a<o.length;a++)n.splice(o[a],0,s.default.NO_MOCK_CODE);return{stopCode:i,replaceCodes:n}},e=t,(i=[{key:"cells",get:function(){return this._cells},set:function(t){this._cells=t,this._codes=[],this._stopCodes=[],this._replaceCodes=[],this._cells||(this._cells=[]);for(var e=0;e<this._cells.length;e++){var i=this._cells[e];this._codes.push(i.code);var n=this.getReplaceCodes(i.code,i.mockCodes);this._stopCodes.push(n.stopCode),this._replaceCodes.push(n.replaceCodes)}}},{key:"codes",get:function(){return this._codes}},{key:"isHoldWin",get:function(){return this._isHoldWin},set:function(t){this._isHoldWin=t}},{key:"replaceCodes",get:function(){return this._replaceCodes}},{key:"stopCodes",get:function(){return this._stopCodes}}])&&n(e.prototype,i),t}();i.default=r,cc._RF.pop()},{"./SpinResultsCell":"SpinResultsCell","./SpinResultsConst":"SpinResultsConst"}],SpinResultsConst:[function(t,e,i){"use strict";cc._RF.push(e,"2e3036aZ5tH7ZqI7/Az+gvN","SpinResultsConst"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){};i.default=n,n.NO_MOCK_CODE=-1,cc._RF.pop()},{}],SpinResultsEventCode:[function(t,e,i){"use strict";cc._RF.push(e,"10474onqCBPtqKHyTvT3qfX","SpinResultsEventCode"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.Free=1e4]="Free",t[t.Bonus=2e4]="Bonus",t[t.Respin=3e4]="Respin",t[t.Respin=4e4]="OneMore"}(i.SpinResultsEventCode||(i.SpinResultsEventCode={})),cc._RF.pop()},{}],SpinResultsEvent:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"31384DkiDNKZ4WTV7P4Hv42","SpinResultsEvent"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){this._code=t,this._value=e}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsFreeTrigger:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"4fcb33JMqFH5a14MXDRZjGq","SpinResultsFreeTrigger");var o=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),t("./SpinResultsGameMode"),o(t("./SpinResultsWheel")),o(t("./SpinResultChoice"));var s=function(){function t(t,e,i,n,o,s){this._wheels=[],this._choices=[],this._events=[],this._gameMode=t,this._count=e,this._total=i,this._wheels=n,this._choices=o,this._events=s}var e,i;return e=t,(i=[{key:"gameMode",get:function(){return this._gameMode},set:function(t){this._gameMode=t}},{key:"count",get:function(){return this._count},set:function(t){this._count=t}},{key:"total",get:function(){return this._total},set:function(t){this._total=t}},{key:"wheels",get:function(){return this._wheels},set:function(t){this._wheels=t}},{key:"choices",get:function(){return this._choices},set:function(t){this._choices=t,this._choices||(this._choices=[])}},{key:"events",get:function(){return this._events},set:function(t){this._events=t,this._events||(this._events=[])}}])&&n(e.prototype,i),t}();i.default=s,cc._RF.pop()},{"./SpinResultChoice":"SpinResultChoice","./SpinResultsGameMode":"SpinResultsGameMode","./SpinResultsWheel":"SpinResultsWheel"}],SpinResultsGameMode:[function(t,e,i){"use strict";cc._RF.push(e,"dcb25QrUZBKdaQRehRLT6YY","SpinResultsGameMode"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.Normal=0]="Normal",t[t.FreeSpin=1]="FreeSpin",t[t.Respin=2]="Respin",t[t.Bonus=3]="Bonus",t[t.Bonus=4]="OneMore"}(i.SpinResultsGameMode||(i.SpinResultsGameMode={})),cc._RF.pop()},{}],SpinResultsGameStatus:[function(t,e,i){"use strict";cc._RF.push(e,"fb2a7zjQ05DfJQCY5NbLj9k","SpinResultsGameStatus"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.Normal=0]="Normal",t[t.NotOpen=1]="NotOpen",t[t.Disabled=2]="Disabled"}(i.SpinResultsGameStatus||(i.SpinResultsGameStatus={})),cc._RF.pop()},{}],SpinResultsGameType:[function(t,e,i){"use strict";cc._RF.push(e,"b55e4c04b9NoKpbygmXULir","SpinResultsGameType"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.Normal=0]="Normal",t[t.FreeSpin=1]="FreeSpin",t[t.Respin=2]="Respin",t[t.Bonus=3]="Bonus"}(i.SpinResultsGameType||(i.SpinResultsGameType={})),cc._RF.pop()},{}],SpinResultsGameWheel:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"c2589V48flCrbrT/M3i5fxM","SpinResultsGameWheel"),Object.defineProperty(i,"__esModule",{value:!0}),__importDefault(t("./SpinResultsWheel"));var o=function(){function t(t,e,i,n,o,s,r){this._wheel=t,this._winCoins=e,this._totalCoins=i,this._productId=n,this._productCode=o,this._productPrice=s,this._awardCollectId=r}var e,i;return e=t,(i=[{key:"winCoins",get:function(){return this._winCoins},set:function(t){this._winCoins=t}},{key:"totalCoins",get:function(){return this._totalCoins},set:function(t){this._totalCoins=t}},{key:"productId",get:function(){return this._productId},set:function(t){this._productId=t}},{key:"productCode",get:function(){return this._productCode},set:function(t){this._productCode=t}},{key:"productPrice",get:function(){return this._productPrice},set:function(t){this._productPrice=t}},{key:"awardCollectId",get:function(){return this._awardCollectId},set:function(t){this._awardCollectId=t}},{key:"wheel",get:function(){return this._wheel},set:function(t){this._wheel=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{"./SpinResultsWheel":"SpinResultsWheel"}],SpinResultsGame:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"1ed3cCHPFVHEbcdtsHguT09","SpinResultsGame"),Object.defineProperty(i,"__esModule",{value:!0}),t("./SpinResultsGameStatus");var o=function(){function t(t,e,i,n,o,s,r,a,l,u,c){this._id=t,this._code=e,this._isFree=i,this._hasJackpot=n,this._jackpot=o,this._jackpot2=s,this._status=r,this._isTopGame=a,this._isVertical=l,this._orderNumber=u,this._version=c}var e,i;return e=t,(i=[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"jackpot",get:function(){return this._jackpot},set:function(t){this._jackpot=t}},{key:"jackpot2",get:function(){return this._jackpot2},set:function(t){this._jackpot2=t}},{key:"hasJackpot",get:function(){return this._hasJackpot},set:function(t){this._hasJackpot=t}},{key:"isFree",get:function(){return this._isFree},set:function(t){this._isFree=t}},{key:"status",get:function(){return this._status},set:function(t){this._status=t}},{key:"isTopGame",get:function(){return this._isTopGame},set:function(t){this._isTopGame=t}},{key:"isVertical",get:function(){return this._isVertical},set:function(t){this._isVertical=t}},{key:"orderNumber",get:function(){return this._orderNumber},set:function(t){this._orderNumber=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{"./SpinResultsGameStatus":"SpinResultsGameStatus"}],SpinResultsLevel:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"cae88NigjxOEoFY5qgjRiNx","SpinResultsLevel");var o;Object.defineProperty(i,"__esModule",{value:!0}),!(o=t("./SpinResultsUpgrade"))||o.__esModule;var s=function(){function t(t,e,i,n){this._level=t,this._currentValue=e,this._totalValue=i,this._upgrade=n}var e,i;return e=t,(i=[{key:"level",get:function(){return this._level},set:function(t){this._level=t}},{key:"currentValue",get:function(){return this._currentValue},set:function(t){this._currentValue=t}},{key:"totalValue",get:function(){return this._totalValue},set:function(t){this._totalValue=t}},{key:"upgrade",get:function(){return this._upgrade},set:function(t){this._upgrade=t}}])&&n(e.prototype,i),t}();i.default=s,cc._RF.pop()},{"./SpinResultsUpgrade":"SpinResultsUpgrade"}],SpinResultsRankInfo:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"62f1fX7XvpOlLJKa6p/3qJM","SpinResultsRankInfo"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i,n,o,s){this._userId=t,this._name=e,this._headImageUrl=i,this._headFrameImageUrl=n,this._point=o,this._number=s}var e,i;return e=t,(i=[{key:"userId",get:function(){return this._userId},set:function(t){this._userId=t}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"headImageUrl",get:function(){return this._headImageUrl},set:function(t){this._headImageUrl=t}},{key:"headFrameImageUrl",get:function(){return this._headFrameImageUrl},set:function(t){this._headFrameImageUrl=t}},{key:"point",get:function(){return this._point},set:function(t){this._point=t}},{key:"number",get:function(){return this._number},set:function(t){this._number=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsSlot:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"eed69nttlVJDKe0uSgapRmO","SpinResultsSlot");var o=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var s=o(t("./SpinResultsColumn")),r=(o(t("./SpinResultsSymbol")),o(t("./SpinResultsEvent")),t("./SpinResultsGameMode")),a=o(t("./SpinResultsWheel")),l=o(t("./SpinResultsConst")),u=o(t("./SpinResultsCell")),c=function(){function t(t,e,i){this._columns=[],this._matchedLines=[],this._ofAKind=0,this._events=[],this._extraChesses=[],this._replaceCodes=[],this._symbolEvents=[],this.columns=t,this.ofAKind=i,this._gameMode=r.SpinResultsGameMode.Normal,this._nextGameMode=r.SpinResultsGameMode.Normal}var e,i,o=t.prototype;return o.getReplaceCodes=function(){for(var t=1,e=[];;){for(var i=[],n=0,o=0;o<this.columns.length;o++)for(var s=this.columns[o],r=0;r<s.cells.length;r++){var a=l.default.NO_MOCK_CODE,u=s.replaceCodes[r];u&&0!=u.length?null==(a=u[t-1])&&(a=l.default.NO_MOCK_CODE):a=l.default.NO_MOCK_CODE;var c=s.cells[r];c.mockCodes&&n<c.mockCodes.length&&(n=c.mockCodes.length),i.push(a)}if(n<t)break;t++,e.push(i)}return e},o.updateCell=function(t,e,i,n,o,s,r,a,l,c,p){void 0===n&&(n=0),void 0===o&&(o=[]),void 0===s&&(s=!1),void 0===r&&(r=-1),void 0===a&&(a=-1),void 0===l&&(l=-1),void 0===c&&(c=null),void 0===p&&(p=[]),this._columns[t].cells[e]=new u.default(i,s,o,n,r,a,l,c,p)},o.updateCellAssets=function(t,e,i){this._columns[t].cells[e].assets=i},o.updateCellFixed=function(t,e,i){this._columns[t].cells[e].fixed=i},o.updateCellExtraCode=function(t,e,i,n,o){void 0===n&&(n=-1),void 0===o&&(o=-1),this._columns[t].cells[e].extraCode=i,this._columns[t].cells[e].extraAssets=n,this._columns[t].cells[e].extraPosition=o},o.updateCellWheel=function(t,e,i,n){this._columns[t].cells[e].wheel=new a.default(i,n)},o.updateCellEvents=function(t,e,i){this._columns[t].cells[e].events=i},o.updateChangeCodeMockCodes=function(t,e,i){for(var n=0;n<t.length;++n){var o=t[n],s=Math.floor(n/i),r=n%i,a=-1===o?this._columns[s].cells[r].code:o,l=-1===o?o:this._columns[s].cells[r].code;this._columns[s].cells[r].mockCodes.push(l),this._columns[s].cells[r].code=a}},o.updateMockCodes=function(t,e,i,n){if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length)for(var o=0;o<t.length;++o){var s=t[o],r=e[o],a=s!==r?r:-1,l=Math.floor(o/n),u=o%n;this._columns[l].cells[u].mockCodes.push(a),this._columns[l].cells[u].code=s}},o.updateColumnHoldWin=function(t,e){this._columns[t].isHoldWin=e},o.updateCells=function(t,e){for(var i=0;i<t.length;++i){var n=t[i],o=Math.floor(i/e),s=i%e;this._columns[o].cells[s].code=n}},o.init=function(t,e,i){for(var n=[],o=0;o<e;++o){for(var r=[],a=0;a<i;++a){var l=t[o*i+a],c=new u.default(l,!1,[],0,-1,-1,-1,null,[]);r.push(c)}var p=new s.default(r,!1);n.push(p)}this.columns=n},e=t,(i=[{key:"columns",get:function(){return this._columns},set:function(t){t?(this._columns=t,this._replaceCodes=this.getReplaceCodes()):this._columns=[]}},{key:"matchedLines",get:function(){return this._matchedLines},set:function(t){this._matchedLines=t,this._matchedLines||(this._matchedLines=[])}},{key:"ofAKind",get:function(){return this._ofAKind},set:function(t){this._ofAKind=t}},{key:"extraChesses",get:function(){return this._extraChesses},set:function(t){this._extraChesses=t,this._extraChesses||(this._extraChesses=[])}},{key:"events",get:function(){return this._events},set:function(t){this._events=t,this._events||(this._events=[])}},{key:"gameMode",get:function(){return this._gameMode},set:function(t){this._gameMode=t}},{key:"nextGameMode",get:function(){return this._nextGameMode},set:function(t){this._nextGameMode=t}},{key:"wheels",get:function(){return this._wheels},set:function(t){this._wheels=t,this._wheels||(this._wheels=[])}},{key:"replaceCodes",get:function(){return this._replaceCodes}},{key:"hasMatchedLines",get:function(){return this.matchedLines&&this.matchedLines.length>0}},{key:"hasReplaceCodes",get:function(){return this.replaceCodes&&this.replaceCodes.length>0&&this.replaceCodes[0]&&this.replaceCodes[0].length>0}}])&&n(e.prototype,i),t}();i.default=c,cc._RF.pop()},{"./SpinResultsCell":"SpinResultsCell","./SpinResultsColumn":"SpinResultsColumn","./SpinResultsConst":"SpinResultsConst","./SpinResultsEvent":"SpinResultsEvent","./SpinResultsGameMode":"SpinResultsGameMode","./SpinResultsSymbol":"SpinResultsSymbol","./SpinResultsWheel":"SpinResultsWheel"}],SpinResultsSymbolEvent:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"d2f16Enk8RB9IWV3fIGPmr5","SpinResultsSymbolEvent"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i,n){this._events=[],this._code=t,this._assets=e,this._postion=i,this._events=n,this._events||(this._events=[])}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code}},{key:"assets",get:function(){return this._assets}},{key:"position",get:function(){return this._postion}},{key:"events",get:function(){return this._events}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsSymbol:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"fcf6c89Rc1BI4teLS75+mSt","SpinResultsSymbol"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e,i){this._code=t,this._assets=e,this._position=i}var e,i;return e=t,(i=[{key:"code",get:function(){return this._code},set:function(t){this._code=t}},{key:"assets",get:function(){return this._assets},set:function(t){this._assets=t}},{key:"position",get:function(){return this._position},set:function(t){this._position=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsTour:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"1448bksINFHkrKueRh7hjRL","SpinResultsTour");var o;Object.defineProperty(i,"__esModule",{value:!0}),!(o=t("./SpinResultsRankInfo"))||o.__esModule;var s=function(){function t(t,e,i,n,o,s,r){this._status=t,this._countdown=e,this._totalMinutes=i,this._award=n,this._mine=o,this._myPrev=s,this._ranks=r}var e,i;return e=t,(i=[{key:"status",get:function(){return this._status},set:function(t){this._status=t}},{key:"countdown",get:function(){return this._countdown},set:function(t){this._countdown=t}},{key:"totalMinutes",get:function(){return this._totalMinutes},set:function(t){this._totalMinutes=t}},{key:"award",get:function(){return this._award},set:function(t){this._award=t}},{key:"mine",get:function(){return this._mine},set:function(t){this._mine=t}},{key:"myPrev",get:function(){return this._myPrev},set:function(t){this._myPrev=t}},{key:"ranks",get:function(){return this._ranks},set:function(t){this._ranks=t}}])&&n(e.prototype,i),t}();i.default=s,cc._RF.pop()},{"./SpinResultsRankInfo":"SpinResultsRankInfo"}],SpinResultsUpgrade:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"a99340pPehJDY2eRwD5qH3a","SpinResultsUpgrade");Object.defineProperty(i,"__esModule",{value:!0});var o,s=(o=t("./SpinResultsGame"))&&o.__esModule?o:{default:o},r=function(){function t(t,e,i,n){this._level=t,this._award=e,this._vipRatio=i,this._awardCollectId=n,this._unlockedGames=[]}var e,i;return t.prototype.addUnlockedGame=function(t,e,i,n,o,r,a,l,u,c,p){var h=new s.default(t,e,i,n,o,r,a,l,u,c,p);this._unlockedGames.push(h)},e=t,(i=[{key:"level",get:function(){return this._level},set:function(t){this._level=t}},{key:"award",get:function(){return this._award},set:function(t){this._award=t}},{key:"vipRatio",get:function(){return this._vipRatio},set:function(t){this._vipRatio=t}},{key:"awardCollectId",get:function(){return this._awardCollectId},set:function(t){this._awardCollectId=t}},{key:"maxBet",get:function(){return this._maxBet},set:function(t){this._maxBet=t}},{key:"points",get:function(){return this._points},set:function(t){this._points=t}},{key:"countdown",get:function(){return this._countdown},set:function(t){this._countdown=t}},{key:"unlockedGames",get:function(){return this._unlockedGames},set:function(t){this._unlockedGames=t}}])&&n(e.prototype,i),t}();i.default=r,cc._RF.pop()},{"./SpinResultsGame":"SpinResultsGame"}],SpinResultsWheeItem:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"52b5fTnwP5AW4TVH9rfIs1d","SpinResultsWheeItem"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){this._value=t,this._assets=e}var e,i;return e=t,(i=[{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"assets",get:function(){return this._assets},set:function(t){this._assets=t}}])&&n(e.prototype,i),t}();i.default=o,cc._RF.pop()},{}],SpinResultsWheel:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"a8d9a1JGSdFg4mTzfcHqBNk","SpinResultsWheel");var o;Object.defineProperty(i,"__esModule",{value:!0}),!(o=t("./SpinResultsWheeItem"))||o.__esModule;var s=function(){function t(t,e){this._values=[],this._finalValue=null,this._finalPosition=-1,this._values=t,this._finalValue=e}var e,i;return e=t,(i=[{key:"values",get:function(){return this._values},set:function(t){var e=this;this._values=t,this._values||(this._values=[]),this._finalValue&&(this._finalPosition=this._values.findIndex(function(t){return t.value===e._finalValue.value}))}},{key:"finalValue",get:function(){return this._finalValue},set:function(t){this._finalValue=t,this._values&&(this._finalPosition=this._values.findIndex(function(e){return e==t}))}},{key:"finalPosition",get:function(){return this._finalPosition}}])&&n(e.prototype,i),t}();i.default=s,cc._RF.pop()},{"./SpinResultsWheeItem":"SpinResultsWheeItem"}],SpinResultsWinType:[function(t,e,i){"use strict";cc._RF.push(e,"42436KKmt1FXawKjwVDH01A","SpinResultsWinType"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Normal=1]="Normal",t[t.Big=2]="Big",t[t.Super=3]="Super",t[t.Mega=4]="Mega"}(i.SpinResultsWinType||(i.SpinResultsWinType={})),cc._RF.pop()},{}],SpinResults:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}cc._RF.push(e,"7d384sDyqNJt6qM6JwSesa6","SpinResults");var o=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./SpinResultsWinType"),r=t("./SpinResultsGameMode"),a=(o(t("./SpinResultsSlot")),o(t("./SpinResultsFreeTrigger")),o(t("./SpinResultsCollectible")),o(t("./SpinResultsLevel")),o(t("./SpinResultsTour")),o(t("./SpinResultsGameWheel")),o(t("./SpinResultsBigWinAdAwards"))),l=o(t("./SpinResultsCard")),u=o(t("./SpinResultsGame")),c=function(){function t(t,e,i,n,o,a,l,u,c,p,h,d,f,m,g,S,y){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===i&&(i=0),void 0===n&&(n=-1),void 0===o&&(o=s.SpinResultsWinType.None),void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=r.SpinResultsGameMode.Normal),void 0===c&&(c=1),void 0===p&&(p=1),void 0===h&&(h=null),void 0===d&&(d=[]),void 0===f&&(f=0),void 0===m&&(m=0),void 0===g&&(g=null),void 0===S&&(S=null),void 0===y&&(y=null),this._slots=[],this._jackpots=[],this._slots=t,this._jackpots=e,this._jackpot=i,this._jackpotLevel=n,this._winType=o,this._winCoins=a,this._userCoins=l,this._previousGameMode=u,this._gameMode=u,this._nextGameMode=u,this._finishedCount=c,this._totalCount=p,this._timestamp=f,this._totalBetNum=m,this._freeTrigger=h,this._collectibles=d,this._level=g,this._tour=S,this._gameWheel=y,this._cards=[]}var e,i,o=t.prototype;return o.setNextGameMode=function(){if(this._freeTrigger&&this._slots&&this._slots.length>0)for(var t=0;t<this._slots.length;t++)this._slots[t].nextGameMode=this._freeTrigger.gameMode},o.addCard=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=1);var o=new l.default(t,e,i,n);Array.isArray(this._cards)?this._cards.push(o):this._cards=[o]},o.addBinWinAdAwards=function(t,e,i,n){this._bigWinAdAwards=new a.default(t,e,i,n)},o.addUnlockedGame=function(t,e,i,n,o,s,r,a,l,c,p){if(this.level&&this.level.upgrade){var h=new u.default(t,e,i,n,o,s,r,a,l,c,p);Array.isArray(this._level.upgrade.unlockedGames)?this.level.upgrade.unlockedGames.push(h):this.level.upgrade.unlockedGames=[h]}},e=t,(i=[{key:"slots",get:function(){return this._slots},set:function(t){this._slots=t,this._slots||(this._slots=[])}},{key:"jackpots",get:function(){return this._jackpots},set:function(t){this._jackpots=t}},{key:"jackpot",get:function(){return this._jackpot},set:function(t){this._jackpot=t}},{key:"jackpotLevel",get:function(){return this._jackpotLevel},set:function(t){this._jackpotLevel=t}},{key:"winType",get:function(){return this._winType},set:function(t){this._winType=t}},{key:"winCoins",get:function(){return this._winCoins},set:function(t){this._winCoins=t}},{key:"userCoins",get:function(){return this._userCoins},set:function(t){this._userCoins=t}},{key:"previousGameMode",get:function(){return this._previousGameMode},set:function(t){this._previousGameMode=t}},{key:"gameMode",get:function(){return this._gameMode},set:function(t){if(this._gameMode=t,this._slots&&this._slots.length>0)for(var e=0;e<this._slots.length;e++)this._slots[e].gameMode=t}},{key:"nextGameMode",get:function(){return this._nextGameMode},set:function(t){if(this._nextGameMode=t,this._slots&&this._slots.length>0)for(var e=0;e<this._slots.length;e++)this._slots[e].nextGameMode=t}},{key:"finishedCount",get:function(){return this._finishedCount},set:function(t){this._finishedCount=t}},{key:"totalCount",get:function(){return this._totalCount},set:function(t){this._totalCount=t}},{key:"timestamp",get:function(){return this._timestamp},set:function(t){this._timestamp=t}},{key:"totalBetNum",get:function(){return this._totalBetNum},set:function(t){this._totalBetNum=t}},{key:"highScore",get:function(){return this._highScore},set:function(t){this._highScore=t}},{key:"points",get:function(){return this._points},set:function(t){this._points=t}},{key:"userPoints",get:function(){return this._userPoints},set:function(t){this._userPoints=t}},{key:"bigWinCoins",get:function(){return this._bigWinCoins},set:function(t){this._bigWinCoins=t}},{key:"freeTrigger",get:function(){return this._freeTrigger},set:function(t){this._freeTrigger=t,this.setNextGameMode()}},{key:"collectibles",get:function(){return this._collectibles},set:function(t){this._collectibles=t,this._collectibles||(this._collectibles=[])}},{key:"level",get:function(){return this._level},set:function(t){this._level=t}},{key:"tour",get:function(){return this._tour},set:function(t){this._tour=t}},{key:"gameWheel",get:function(){return this._gameWheel},set:function(t){this._gameWheel=t}},{key:"cards",get:function(){return this._cards},set:function(t){this._cards=t}},{key:"bigWinAdAwards",get:function(){return this._bigWinAdAwards},set:function(t){this._bigWinAdAwards=t}}])&&n(e.prototype,i),t}();i.default=c,cc._RF.pop()},{"./SpinResultsBigWinAdAwards":"SpinResultsBigWinAdAwards","./SpinResultsCard":"SpinResultsCard","./SpinResultsCollectible":"SpinResultsCollectible","./SpinResultsFreeTrigger":"SpinResultsFreeTrigger","./SpinResultsGame":"SpinResultsGame","./SpinResultsGameMode":"SpinResultsGameMode","./SpinResultsGameWheel":"SpinResultsGameWheel","./SpinResultsLevel":"SpinResultsLevel","./SpinResultsSlot":"SpinResultsSlot","./SpinResultsTour":"SpinResultsTour","./SpinResultsWinType":"SpinResultsWinType"}],SpinStatusStrategyNormal:[function(t,e,i){"use strict";cc._RF.push(e,"fa1c1MV0glG3ZWTkc8THnDG","SpinStatusStrategyNormal"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./GameStage/SlotGameStageStatus"),o=t("./SpinType"),s=t("./BottomBar/BottomBarSpinStaus"),r=t("../../../spin-result/SpinResultsGameMode"),a=function(){function t(){}return t.prototype.getSpinStatus=function(t,e,i,a){var l={enable:!0,spinStatus:s.BottomBarSpinStaus.Ready};if(e==o.SpinType.Respin&&a==r.SpinResultsGameMode.Normal&&t==n.SlotGameStageStatus.Ready)return l.enable=!0,l;if(e==o.SpinType.Respin)return l.enable=!1,l;switch(t){case n.SlotGameStageStatus.Ready:this.spinButtonStatusChange(e,l,a),l.enable=!0;break;case n.SlotGameStageStatus.WaitingServerResults:case n.SlotGameStageStatus.RequestingServer:case n.SlotGameStageStatus.ServerResultsReceived:l.spinStatus=s.BottomBarSpinStaus.StopSpin;break;case n.SlotGameStageStatus.BoardsPrizeShowing:this.spinButtonStatusChange(e,l,a),l.enable=!0,i&&i.gameMode!=r.SpinResultsGameMode.Normal&&(l.enable=!1);break;case n.SlotGameStageStatus.BoardsSettling:case n.SlotGameStageStatus.BoardsReplacing:case n.SlotGameStageStatus.PrizeShowing:this.spinButtonStatusChange(e,l,a),l.enable=!1}return l.spinStatus==s.BottomBarSpinStaus.StopSpin&&(e==o.SpinType.AutoSpin&&(l.spinStatus=s.BottomBarSpinStaus.StopAutoSpin),e==o.SpinType.FreeSpin&&(l.spinStatus=s.BottomBarSpinStaus.StopFreeSpin),e===o.SpinType.Spin&&(l.spinStatus=s.BottomBarSpinStaus.StopSpin)),l},t.prototype.spinButtonStatusChange=function(t,e,i){t===o.SpinType.AutoSpin?e.spinStatus=s.BottomBarSpinStaus.StopAutoSpin:t!==o.SpinType.FreeSpin||i!==r.SpinResultsGameMode.FreeSpin&&i!==r.SpinResultsGameMode.OneMore?e.spinStatus=s.BottomBarSpinStaus.Ready:e.spinStatus=s.BottomBarSpinStaus.StopFreeSpin},t}();i.default=a,cc._RF.pop()},{"../../../spin-result/SpinResultsGameMode":"SpinResultsGameMode","./BottomBar/BottomBarSpinStaus":"BottomBarSpinStaus","./GameStage/SlotGameStageStatus":"SlotGameStageStatus","./SpinType":"SpinType"}],SpinStatusStrategy:[function(t,e,i){"use strict";cc._RF.push(e,"08a1e+DyblHTKr6Q2lp7b57","SpinStatusStrategy"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],SpinType:[function(t,e,i){"use strict";cc._RF.push(e,"11f80ZtWwRE2LREZU/UUYdP","SpinType"),Object.defineProperty(i,"__esModule",{value:!0}),i.SpinType=void 0,function(t){t[t.Spin=0]="Spin",t[t.AutoSpin=1]="AutoSpin",t[t.FreeSpin=2]="FreeSpin",t[t.Respin=3]="Respin"}(i.SpinType||(i.SpinType={})),cc._RF.pop()},{}],SpineAnimationPlayParameter:[function(t,e,i){"use strict";cc._RF.push(e,"db35051Fs1E1bXAXo3I5YJ8","SpineAnimationPlayParameter"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){this._animationName=t,this._isLoop=e}return Object.defineProperty(t.prototype,"animationName",{get:function(){return this._animationName},set:function(t){this._animationName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoop",{get:function(){return this._isLoop},set:function(t){this._isLoop=t},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],SpineCommon:[function(t,e,i){"use strict";cc._RF.push(e,"fbea1UxTSFCw5RFULXIsMjw","SpineCommon");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),r=t("../../../../Boot/scirpt/AppConst"),a=function(t){function e(e,i,n){var o=t.call(this)||this;if(o._resources={},o._trackIndex=0,o._node=e,o._isReady=!1,o._urls=i,o._animationsAfterLoaded=n,o._skeleton=o._node.addComponent(sp.Skeleton),i){var s=o,a=cc.assetManager.getBundle(s.packageResourceName);if(a)a.load(i,sp.SkeletonData,o.resourceLoaded.bind(o));else{var l=s.packageResourceName;r.AppConst.isEditor||(l=r.AppConst.resUrl+s.packageResourceName),cc.assetManager.loadBundle(l,function(t,e){e.load(i,sp.SkeletonData,o.resourceLoaded.bind(o))})}}else o._created=!0;return o}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.resourceLoaded=function(t,e){if(t)cc.error("spine\u52a8\u753b"+this._urls+"\u8f7d\u5165\u9519\u8bef");else{for(var i=0;i<e.length;i++){var n=e[i];this._resources[n.name]=n}this._isReady=this._urls.length==e.length,this._isReady&&this._animationsAfterLoaded&&this.playInOrder(this._animationsAfterLoaded),this._isReady&&(this._created=!0,this.parent&&this.parent.childCreatedInternal(this)),this.afterResourceLoaded()}},e.prototype.afterResourceLoaded=function(){},Object.defineProperty(e.prototype,"skeleton",{get:function(){return this._skeleton},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._isReady},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackIndex",{get:function(){return this._trackIndex},set:function(t){this._trackIndex=t,this._trackIndex||(this._trackIndex=0)},enumerable:!1,configurable:!0}),e.prototype.getResource=function(t){var e=null;for(var i in this._resources){if(e=this._resources[i],!t)break;if(t==i)break}return e},e.prototype.playInOrder=function(t,e,i){var n=this;if(t&&0!=t.length){this._skeleton.skeletonData=this.getResource(i),e&&this._skeleton.setSkin(e);for(var o=t.length,s=function(e){var i=t[e],s=!(e!=o-1)&&i.isLoop;0==e?r.scheduleOnce(function(){n._skeleton.setAnimation(n._trackIndex,i.animationName,s)},4/60):r.scheduleOnce(function(){n._skeleton.addAnimation(n._trackIndex,i.animationName,s)},4/60)},r=this,a=0;a<t.length;a++)s(a)}},e}(s.default);i.default=a,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],SymbolBase:[function(t,e,i){"use strict";cc._RF.push(e,"42161UvR51PsIRHaXku6Xi8","SymbolBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./SymbolBoardStatus"),r=t("./SymbolBoardConst"),a=t("../GameStage/SlotGameStageBase"),l=t("../MogafaSlotsGameStage"),u=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase"),c=function(){function t(t,e){this._trackEntries=[],this._componentName=t,this._expectedTimes=e,null==this._expectedTimes&&(this._expectedTimes=1)}return Object.defineProperty(t.prototype,"componentName",{get:function(){return this._componentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackEntries",{get:function(){return this._trackEntries},enumerable:!1,configurable:!0}),t.prototype.addTrackEntry=function(t){this._trackEntries.find(function(e){return e.trackEntry==t})||this._trackEntries.push({trackEntry:t,count:0})},t.prototype.completedOnce=function(t){var e=this._trackEntries.find(function(e){return e.trackEntry.animation.name==t.trackEntry.animation.name});return e&&e.count++,this.completed},Object.defineProperty(t.prototype,"completed",{get:function(){var t=this;return!this._trackEntries.find(function(e){return e.count<t.expectedTimes})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedTimes",{get:function(){return this._expectedTimes},set:function(t){this._expectedTimes=t},enumerable:!1,configurable:!0}),t}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spineComponents=new Map,e._isFinal=!1,e.isPlayByConfig=!1,e}return o(e,t),Object.defineProperty(e.prototype,"stageCode",{get:function(){return this._stageCode},set:function(t){this._stageCode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cell",{get:function(){return this._cell},set:function(t){this._cell=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boardStatus",{get:function(){return this._boardStatus},set:function(t){this._boardStatus=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){if(this._status=t,t===s.SymbolBoardStatus.Stopped&&this.playSpineByConfig(this.spineShowAfterStopConfigName),t===s.SymbolBoardStatus.Ready){var e=null;a.default.spinResults&&(e=a.default.spinResults.slots[this.cell.reel.symbolBoard.index].matchedLines),e&&0!=e.length||this.playSpineByConfig(this.spineShowForStationaryBoardConfigName)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"codeControllerName",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inLineControllerName",{get:function(){return"inLine"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inLineControllerCode",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"symbolGroupComponentName",{get:function(){return"symbolGroup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._code},set:function(t){t>=r.SymbolBoardConst.FINAL_CODE_OFFSET?(this._isFinal=!0,t-=r.SymbolBoardConst.FINAL_CODE_OFFSET):this._isFinal=!1,this._code=t,this.setControllerProperty(this.codeControllerName,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinal",{get:function(){return this._isFinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},set:function(t){this._assets=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackEntries",{get:function(){return this._trackEntries},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spineComponents",{get:function(){return this._spineComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spineResources",{get:function(){var t=this,e=null;return null==e&&(e=l.default.gameStages[this.stageCode].symbolSpineResources.find(function(e){return e.code==t.code})),e},enumerable:!1,configurable:!0}),e.prototype.allChildCreated=function(){if(t.prototype.allChildCreated.call(this),this.symbolGroupComponentName){var e=this.getChild(this.symbolGroupComponentName);e&&(this.symbolGroup=e.asGroup)}},e.prototype.findGameStage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t},e.prototype.createChildComponents=function(){if(this.spineComponentNames)for(var t=0;t<this.spineComponentNames.length;t++){var e=this.getChild(this.spineComponentNames[t]).asGraph;if(!e)return void cc.error("\u5305"+this.packageName+"\u6216spine\u5bb9\u5668"+this.spineComponentNames+"\u4e0d\u5b58\u5728");var i=e.node.addComponent(sp.Skeleton);this._spineComponents.set(this.spineComponentNames[t],i),i.setCompleteListener(this.onSpineCompletedOnce.bind(this))}},e.prototype.stopShow=function(){var t=this,e=this.spineShowAfterStop.filter(function(e){return e.code==t.code});if(e)for(var i=0;i<e.length;i++)this.spinePlay(e[i])},e.prototype.startMove=function(){},e.prototype.onSpineCompletedOnce=function(t){if(this.trackEntries){for(var e=!1,i=0;i<this._trackEntries.length;i++){var n=this.trackEntries[i],o=n.trackEntries.filter(function(e){return e.trackEntry.animation.name==t.animation.name});if(o&&o.length>0)for(var s=0;s<o.length;s++){var r=o[s];e=n.completedOnce(r)}}e&&this.checkAllSpineShowForPrizeCompleted()}},e.prototype.checkAllSpineShowForPrizeCompleted=function(){for(var t=!0,e=0,i=this._trackEntries;e<i.length;e++)if(!i[e].completed){t=!1;break}t&&(this.isPlayByConfig?this.playByConfigCallback&&(this.symbolGroup&&(this.symbolGroup.visible=!0),this.playByConfigCallback()):this.prizeShowEnd())},e.prototype.spinePlay=function(t){var e,i=this._spineComponents.get(t.spineComponentName),n=this.spineResources.resources.get(t.spineName);if(i&&n){i.node.active=!0,this.symbolGroup&&(this.symbolGroup.visible=!1),i.skeletonData=n;var o=t.playParameters.length;t.skin&&i.setSkin(t.skin),t.scale&&(n.scale=t.scale,i.node.scale=t.scale),i.premultipliedAlpha=t.premultipliedAlpha;for(var s=0;s<t.playParameters.length;s++){var r=t.playParameters[s],a=!(s!=o-1)&&r.isLoop;e=0==s?i.setAnimation(0,r.animationName,a):i.addAnimation(0,r.animationName,a)}}return e},e.prototype.startPrizeShow=function(t){this.isPlayByConfig=!1,this.playByConfigCallback=null,this._finalPosition=t,this.inLineControllerName&&this.setControllerProperty(this.inLineControllerName,this.inLineControllerCode),this.spineShow(this.spineShowForPrize)||this.playPrizeShow()},e.prototype.spineShow=function(t){var e=this;this._trackEntries=[];var i=!1,n=t.filter(function(t){return t.code==e.code});if(!this.spineComponents||!n||0==n.length)return i;for(var o=function(t){var e=s.spinePlay(n[t]);if(e){var o=s._trackEntries.find(function(e){return e.componentName==n[t].spineComponentName});o||((o=new c(n[t].spineComponentName,n[t].completeCount)).addTrackEntry(e),s._trackEntries.push(o)),i=!0}},s=this,r=0;r<n.length;r++)o(r);return i},e.prototype.playPrizeShow=function(){var t=this;setTimeout(function(){return t.prizeShowEnd()},500)},e.prototype.prizeShowEnd=function(){this.symbolGroup&&(this.symbolGroup.visible=!0);for(var t=0,e=this._spineComponents;t<e.length;t++){var i=e[t];i[1].node.active=!1,i[1].clearTracks(),i[1].skeletonData=null}this.setControllerProperty(this.inLineControllerName,0),this.notifyPrizeShowCompleted()},e.prototype.notifyPrizeShowCompleted=function(){var t=this.parent;t&&t.receivePrizeShowCompleted(this._finalPosition)},e.prototype.playSpineByConfig=function(t,e){if(t){var i=this.spineShowConfigs[t];i?(this.isPlayByConfig=!0,this.playByConfigCallback=e,this.spineShow(i)||e&&(this.symbolGroup&&(this.symbolGroup.visible=!0),e())):e&&(this.symbolGroup&&(this.symbolGroup.visible=!0),e())}else e&&e()},e.prototype.reset=function(){this.symbolGroup&&(this.symbolGroup.visible=!0);for(var t=0,e=this._spineComponents;t<e.length;t++){var i=e[t];i[1].node.active=!1,i[1].clearTracks(),i[1].skeletonData=null}this.setControllerProperty(this.inLineControllerName,0),this._trackEntries=[],this._isFinal=!1,this.unscheduleAllCallbacks()},e.prototype.doubleChessShow=function(){2!=this.assets||1!=this.code&&0!=this.code?this.setControllerProperty("doubleShow",0):this.setControllerProperty("doubleShow",1)},e.prototype.fixedCellShow=function(){},e.prototype.fixedCellHide=function(){},e}(u.default);i.default=p,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0,"../GameStage/SlotGameStageBase":"SlotGameStageBase","../MogafaSlotsGameStage":"MogafaSlotsGameStage","./SymbolBoardConst":"SymbolBoardConst","./SymbolBoardStatus":"SymbolBoardStatus"}],SymbolBoardBase:[function(t,e,i){"use strict";cc._RF.push(e,"8b473LVKdhL1o5MSeVElWD+","SymbolBoardBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.SymbolEvent=void 0;var s=t("./ReelBase"),r=t("./HoldWinBase"),a=t("./SymbolBoardEvent"),l=t("./ReplaceSymbol"),u=t("../GameStage/SlotGameStageBase"),c=t("../PrizeShowStatus"),p=t("./SymbolBoardStatus"),h=t("../GameStage/SlotGameStageStatus"),d=t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase"),f=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils"),m=t("../../../../spin-result/SpinResultsConst"),g=t("../../../../spin-result/SpinResultsEventCode"),S=t("../../../../spin-result/SpinResultsGameMode"),y=function(){function t(t,e){this._position=t,this._expectedTimes=e,this._finishedTimes=0}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedTimes",{get:function(){return this._expectedTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finishedTimes",{get:function(){return this._finishedTimes},enumerable:!1,configurable:!0}),t.prototype.finishedOnce=function(){return this._finishedTimes++,this._finishedTimes>=this._expectedTimes},t}(),_=function(){function t(t,e){this._symbols=[],this._positions=[],this._symbols=t,this._expectedTimes=e,this._finishedTimes=0,this._symbols||(this._symbols=[]),this._positions=[];for(var i=0;i<this._symbols.length;i++){var n=this._symbols[i];this._positions.push(n.position)}}return Object.defineProperty(t.prototype,"symbol",{get:function(){return this._symbols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expectedTimes",{get:function(){return this._expectedTimes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finishedTimes",{get:function(){return this._finishedTimes},enumerable:!1,configurable:!0}),t.prototype.finishedOnce=function(){return this._finishedTimes++,this._finishedTimes>=this._expectedTimes},t}(),b=(function(){function t(t,e){this._finished=!1,this._position=t,this._symbolCode=e}Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"symbolCode",{get:function(){return this._symbolCode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assets",{get:function(){return this._assets},enumerable:!1,configurable:!0}),t.prototype.finish=function(){this._finished=!0}}(),function(){function t(t,e,i){this._lines=[],this._chipAssets=[],this._jackpotAssets=[],this._lines=t,this._lines||(this._lines=[]),this._chipAssets=e,this._chipAssets||(this._chipAssets=[]),this._jackpotAssets=i,this._jackpotAssets||(this._jackpotAssets=[])}return Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chipAssets",{get:function(){return this._chipAssets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jackpotAssets",{get:function(){return this._jackpotAssets},enumerable:!1,configurable:!0}),t.prototype.getAllSymbols=function(){var t=[];if(!this._lines||0==this._lines.length)return t;for(var e=0;e<this._lines.length;e++)for(var i=this._lines[e],n=function(e){var n=i.symbol[e];t.find(function(t){return t.position==n.position})||t.push(n)},o=0;o<i.symbol.length;o++)n(o);return t},t}()),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineIndex=0,e._reels=[],e._holdWins=[],e.$symbolReplaced=[],e.$customSymbolReplaced=[],e.replaceCodesOneByOne=!1,e.oneByOneCodes=[],e.oneByOnePoisition=0,e.$chipCellRewards=[],e.$jackpotCellRewards=[],e.$replaceCodes=[],e._finalCellPosition={},e._prizeShowChesses=[],e._prizeShowStatus=c.PrizeShowStatus.Ready,e._prizeLineShowFirst=!0,e.positionsShowCallback=null,e.positionsShowCompletedOnce=!1,e}return o(e,t),Object.defineProperty(e.prototype,"stageCode",{get:function(){return this.$stageCode},set:function(t){console.log("set stageCode"),this.$stageCode=t;for(var e=0;e<this._reels.length;e++)this._reels[e].stageCode=t;for(e=0;e<this._holdWins.length;e++)this._holdWins[e].stageCode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSlot",{get:function(){return this.$defaultSlot},set:function(t){this.$defaultSlot=t;for(var e=this.$defaultSlot.columns.map(function(t){return t.cells.map(function(t){return t.code}).reverse()}),i=this.$defaultSlot.columns.map(function(t){return t.cells.map(function(t){return t.assets}).reverse()}),n=0;n<e.length;n++)this.setFinalResultsImmediately(n,e[n],i[n])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.$status},set:function(t){this.$status=t;for(var e=0;e<this._reels.length;e++)this._reels[e].boardStatus=t;for(e=0;e<this._holdWins.length;e++)this._holdWins[e].boardStatus=t;t!=p.SymbolBoardStatus.Stopped&&t!=p.SymbolBoardStatus.Replacing||(this.needProcessEvents?(this.$status=p.SymbolBoardStatus.Replacing,this.replaceMockCodesInternal()):this.hasMatchedLines?(this.$status=p.SymbolBoardStatus.PrizeShowing,this.startPrizeShow()):(this.hasChipCellRewards||this.hasJackpotCellRewards)&&u.default.spinResults.gameMode==S.SpinResultsGameMode.Respin&&u.default.spinResults.nextGameMode!=S.SpinResultsGameMode.Respin?(this.$status=p.SymbolBoardStatus.Settling,this.startPrizeSettle()):this.$status=p.SymbolBoardStatus.Ready),t==p.SymbolBoardStatus.PrizeShowing&&(this.hasMatchedLines?(this.$status=p.SymbolBoardStatus.PrizeShowing,this.startPrizeShow()):(this.hasChipCellRewards||this.hasJackpotCellRewards)&&u.default.spinResults.gameMode==S.SpinResultsGameMode.Respin&&u.default.spinResults.nextGameMode!=S.SpinResultsGameMode.Respin?(this.$status=p.SymbolBoardStatus.Settling,this.startPrizeSettle()):this.$status=p.SymbolBoardStatus.Ready),t==p.SymbolBoardStatus.Settling&&(this.hasChipCellRewards||this.hasJackpotCellRewards?u.default.spinResults.gameMode==S.SpinResultsGameMode.Normal?this.$status=p.SymbolBoardStatus.Ready:this.startPrizeSettle():this.$status=p.SymbolBoardStatus.Ready),this.$status,p.SymbolBoardStatus.Ready,this.StatusChanged()},enumerable:!1,configurable:!0}),e.prototype.StatusChanged=function(){},e.prototype.canBeNextStatus=function(t){var e=!0;switch(t){case h.SlotGameStageStatus.Ready:case h.SlotGameStageStatus.RequestingServer:case h.SlotGameStageStatus.WaitingServerResults:e=!1;break;case h.SlotGameStageStatus.ServerResultsReceived:e=this.status>p.SymbolBoardStatus.Spinning||this.status==p.SymbolBoardStatus.Ready;break;case h.SlotGameStageStatus.BoardsSpinning:e=this.status>p.SymbolBoardStatus.Stopped||this.status==p.SymbolBoardStatus.Ready;break;case h.SlotGameStageStatus.BoardsReplacing:e=this.status>p.SymbolBoardStatus.Replacing||this.status==p.SymbolBoardStatus.Ready;break;case h.SlotGameStageStatus.BoardsPrizeShowing:e=this.status>p.SymbolBoardStatus.PrizeShowing||this.status==p.SymbolBoardStatus.Ready;break;case h.SlotGameStageStatus.BoardsSettling:e=this.status==p.SymbolBoardStatus.Ready}return e},Object.defineProperty(e.prototype,"hasCustomReplaceCode",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameStage",{get:function(){return this._gameStage},set:function(t){this._gameStage=t},enumerable:!1,configurable:!0}),e.prototype.addFguiComponent=function(e,i){void 0===i&&(i=!1);var n=t.prototype.addFguiComponent.call(this,e,i);if(n instanceof s.default){var o=n;o.index=this._reels.length,o.stageCode=this.stageCode,o.symbolBoard=this,this._reels.push(o)}if(n instanceof r.default){var a=n;a.index=this._holdWins.length,a.stageCode=this.stageCode,a.symbolBoard=this,this._holdWins.push(a)}return n},Object.defineProperty(e.prototype,"slotResults",{get:function(){return this._slotResults},set:function(t){if(this._slotResults=t,t){this._ofKindNumber=t.ofAKind;for(var e=0;e<t.columns.length;e++){var i=t.columns[e],n=this.getColumn(e);n.finalCodes=Object.assign([],i.codes),n.mockCodes=Object.assign([],i.replaceCodes);for(var o=0;o<i.replaceCodes.length;o++){var s=i.replaceCodes[o];0!==s.length&&this.$symbolReplaced.push(new l.default(e,o,s.length))}this.getColumn(e).spinResults=i}this.$chipCellRewards=this.getChipCellRewards(),this.$jackpotCellRewards=this.getJackpotCellRewards(),this.$replaceCodes=t.replaceCodes,this.nextGameMode=t.nextGameMode,t.extraChesses&&t.extraChesses.length>0&&this.processExtraChesses(t.extraChesses),t.events&&t.events.length>0&&this.processEvents(t.events);var r=this.getSymbolEvents();r&&r.length>0&&this.processSymbolEvents(this.getSymbolEvents()),this.fguiComponent.node.emit(a.SymbolBoardEvent.RESULTS_RECEIVED,t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"matchedLines",{get:function(){return this.slotResults&&(this._matchedLines=this.slotResults.matchedLines),this._matchedLines||(this._matchedLines=[]),this._matchedLines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMatchedLines",{get:function(){return this.matchedLines&&this.matchedLines.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"replaceCodes",{get:function(){return this.$replaceCodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasReplaceCodes",{get:function(){return this.replaceCodes&&this.replaceCodes.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasChipCellRewards",{get:function(){return this.$chipCellRewards&&this.$chipCellRewards.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasJackpotCellRewards",{get:function(){return this.$jackpotCellRewards&&this.$jackpotCellRewards.length>0},enumerable:!1,configurable:!0}),e.prototype.processExtraChesses=function(){},e.prototype.processEvents=function(){},e.prototype.processSymbolEvents=function(){},Object.defineProperty(e.prototype,"needProcessEvents",{get:function(){return this.hasReplaceCodes||this.getSymbolEvents().length>0||this.getWeels()&&this.getWeels().length>0||this.slotResults.extraChesses&&this.slotResults.extraChesses.length>0||this.slotResults.events&&this.slotResults.events.length>0},enumerable:!1,configurable:!0}),e.prototype.getEvents=function(){return this.slotResults.events},e.prototype.getExtraChesses=function(){return this.slotResults.extraChesses},e.prototype.getWeels=function(){return this.slotResults.wheels},e.prototype.getReplaceCodes=function(){return this.slotResults.replaceCodes},e.prototype.getSymbolEvents=function(){for(var t=[],e=0,i=0;i<this.slotResults.columns.length;i++)for(var n=this.slotResults.columns[i],o=0;o<n.cells.length;o++){var s=n.cells[o];s.events&&s.events.length>0&&t.push(new v(s.code,s.assets,e,s.events,s.wheel)),e++}return t},e.prototype.getChipCellRewards=function(){for(var t=[],e=0,i=0;i<this.slotResults.columns.length;i++)for(var n=this.slotResults.columns[i],o=0;o<n.cells.length;o++){var s=n.cells[o];this.isChipCode(s.code)&&t.push({position:e,symbolCode:s.code,rewards:s.assets}),e++}return t},e.prototype.getJackpotCellRewards=function(){for(var t=[],e=0,i=0;i<this.slotResults.columns.length;i++)for(var n=this.slotResults.columns[i],o=0;o<n.cells.length;o++){var s=n.cells[o];this.isJackpotCode(s.code)&&t.push({position:e,symbolCode:s.code,rewards:s.assets}),e++}return t},e.prototype.isChipCode=function(t){return-1!==this.chipSymbolCodes.indexOf(t)},e.prototype.isJackpotCode=function(t){return-1!==this.jackpotSymbolCodes.indexOf(t)},e.prototype.reelStartResilienceConfig=function(t,e,i){var n=this.getColumn(t);n&&n.setReelStartResilience(e,i)},e.prototype.reelEndResilienceConfig=function(t,e,i){var n=this.getColumn(t);n&&n.setReelEndResilience(e,i)},e.prototype.columnMoveY=function(t,e,i){var n=this.getColumn(t);return!!n&&(this.parent,n.moveY(e,i))},e.prototype.cellMoveY=function(t,e,i,n){var o=this.getColumn(t);return!!o&&o.cellMoveY(e,i,n)},e.prototype.receiveCellStopped=function(t,e){this.fguiComponent.node.emit(a.SymbolBoardEvent.CELL_STOPPED,t,e)},e.prototype.receiveReelStopped=function(t){var e=!0,i=this._reels.length;0===i&&(i=this._holdWins.length);for(var n=0;n<i;n++)if(this.getColumn(n).status!=p.SymbolBoardStatus.Stopped){e=!1;break}this.fguiComponent.node.emit(a.SymbolBoardEvent.COLUMN_STOPPED,t),e&&(this.afterChessboardStopped(),this.status=p.SymbolBoardStatus.Stopped)},Object.defineProperty(e.prototype,"symbolReplaced",{get:function(){return this.hasCustomReplaceCode?this.$customSymbolReplaced:this.$symbolReplaced},set:function(t){this.hasCustomReplaceCode?this.$customSymbolReplaced=t:this.$symbolReplaced=t},enumerable:!1,configurable:!0}),e.prototype.replaceMockCodesInternal=function(){if(this.hasCustomReplaceCode)this.needProcessEvents?this.replaceMockCodes(this.replaceCodes):this.notifyMockCodesReplaced();else{this.replaceCodesOneByOne=!1;var t=this._reels.length;0===t&&(t=this._holdWins.length);for(var e=0;e<t;e++)this.getColumn(e).replaceMockCodes()}},e.prototype.replaceMockCodes=function(){},e.prototype.replaceCustomMockeCodes=function(t,e){if(t&&0!=t.length){this.replaceCodesOneByOne=!1,this.customReplacedCallback=e,this.symbolReplaced=[];for(var i=0;i<t.length;i++)if((o=t[i])!==m.default.NO_MOCK_CODE){var n=this.getCellByFinalPosition(i);this.symbolReplaced.push(new l.default(n.x,n.y,1))}for(0==this.symbolReplaced.length&&e&&e(),i=0;i<t.length;i++){var o;(o=t[i])!==m.default.NO_MOCK_CODE&&(n=this.getCellByFinalPosition(i),this.getColumn(n.x).replaceMockCodes(n.y,o))}}else e&&e()},e.prototype.customReplaceCodesOneByOne=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=null),t&&0!=t.length){this.customReplacedCallback=i,this.replaceCodesOneByOne=!0,this.symbolReplaced=[];for(var n=0;n<t.length;n++)if(t[n]!==m.default.NO_MOCK_CODE){var o=this.getCellByFinalPosition(n);this.symbolReplaced.push(new l.default(o.x,o.y,1))}if(0==this.symbolReplaced.length&&i&&i(),this.oneByOnePoisition=0,this.oneByOneCodes=[],e)for(n=0;n<t.length;n++)this.oneByOneCodes.push({position:n,code:t[n]});else{for(var s=[];s.length<t.length;){var r=f.default.random(0,t.length-1);-1===s.indexOf(r)&&s.push(r)}for(n=0;n<s.length;n++){var a=s[n];this.oneByOneCodes.push({position:a,code:t[a]})}}this.replaceNextCode()}else i&&i()},e.prototype.replaceNextCode=function(){if(this.oneByOnePoisition>=this.oneByOneCodes.length)this.checkAllCodesReplaced();else{var t=this.oneByOneCodes[this.oneByOnePoisition];if(this.oneByOnePoisition++,t.code!==m.default.NO_MOCK_CODE){var e=this.getCellByFinalPosition(t.position);this.getColumn(e.x).replaceMockCodes(e.y,t.code)}else this.replaceNextCode()}},e.prototype.checkAllCodesReplaced=function(){this.symbolReplaced.find(function(t){return!1===t.replaced})||(this.hasCustomReplaceCode?this.customReplacedCallback&&this.customReplacedCallback():this.notifyMockCodesReplaced())},e.prototype.receiveMockCodesReplaced=function(t,e){var i=this.symbolReplaced.find(function(i){return i.reel==t&&i.cell==e});i&&i.replaceOnce(),this.replaceCodesOneByOne?this.replaceNextCode():this.checkAllCodesReplaced()},e.prototype.notifyMockCodesReplaced=function(){this.symbolReplaced=[],this.status=p.SymbolBoardStatus.PrizeShowing,this.node.emit(a.SymbolBoardEvent.MOCK_CODE_REPLACED,this._index)},Object.defineProperty(e.prototype,"waitingResultsStrategy",{get:function(){return this.$waitingResultsStrategy},set:function(t){this.$waitingResultsStrategy=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fastWaitingResultsStrategy",{get:function(){return this.$fastWaitingResultsStrategy},set:function(t){this.$fastWaitingResultsStrategy=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFast",{get:function(){return this.$isFast},set:function(t){this.status==p.SymbolBoardStatus.Ready||this._prizeShowStatus==c.PrizeShowStatus.Ready?this.$isFast=t:cc.error("\u53ea\u6709\u5728\u505c\u6b62\u72b6\u6001\u624d\u80fd\u4fee\u6539fast")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prizeShowStatus",{get:function(){return this._prizeShowStatus},set:function(t){this._prizeShowStatus=t},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.unscheduleAllCallbacks();var t=this._reels.length;if(0===t){t=this._holdWins.length;for(var e=0;e<t;e++)this.getHoldWin(e).reset()}for(e=0;e<t;e++)this.getColumn(e).reset();this.$status=p.SymbolBoardStatus.Ready,this.prizeShowStatus=c.PrizeShowStatus.Ready,this.prizeLineShowFirst=!0,this.slotResults=null,this.$waitingResultsStrategy&&this.$waitingResultsStrategy.reset(),this.$fastWaitingResultsStrategy&&this.$fastWaitingResultsStrategy.reset(),this._prizeShowStrategy&&this._prizeShowStrategy.reset()},e.prototype.processOfAKind=function(){},e.prototype.onCellStopped=function(){},e.prototype.afterChessboardStopped=function(){this.parent;var t=this._reels.length;0===t&&(t=this._holdWins.length);for(var e=0;e<t;e++)this.getColumn(e).notifyShowDoubleAssets();this.executeNumberOfKind()},e.prototype.setAssetsAfterChessboardStopped=function(){this._reels.map(function(t){t.setAssetsAfterChessboardStopped()})},e.prototype.executeNumberOfKind=function(){},e.prototype.startWaitingResults=function(){if(this.status==p.SymbolBoardStatus.Ready||this.status==p.SymbolBoardStatus.Spinning)if(this.waitingResultsStrategy){this.reset(),this.status=p.SymbolBoardStatus.Spinning,this.symbolBoardStart(),this.beforeStartWaitingResults();var t=this.excludeChesses[this.nextGameMode];this.isFast?(this.fastWaitingResultsStrategy||(cc.warn("\u672a\u8bbe\u7f6e\u5feb\u901f\u8f6c\u52a8\u7b56\u7565\uff0c\u4f7f\u7528\u666e\u901a\u8f6c\u52a8\u7b56\u7565"),this.fastWaitingResultsStrategy=this.waitingResultsStrategy),this.fastWaitingResultsStrategy.startWaiting(t)):this.waitingResultsStrategy.startWaiting(t)}else cc.error("\u672a\u8bbe\u7f6e\u8f6c\u52a8\u7b56\u7565");else cc.error("\u53ea\u6709\u5728\u505c\u6b62\u72b6\u6001\u624d\u80fd\u5f00\u59cb")},e.prototype.symbolBoardStart=function(){},e.prototype.beforeStartWaitingResults=function(){for(var t=0,e=this._reels;t<e.length;t++)e[t].beforeStartWaitingResults();for(var i=0,n=this._holdWins;i<n.length;i++)n[i].beforeStartWaitingResults();this.status=p.SymbolBoardStatus.Spinning},e.prototype.beforeStopWaitingResults=function(){},e.prototype.canStop=function(){return!0},e.prototype.stopWaitingResults=function(){this.status==p.SymbolBoardStatus.Spinning?this.canStop()&&(this.isFast?this.fastWaitingResultsStrategy.stopWaiting(!0):this.waitingResultsStrategy.stopWaiting(!0)):cc.error("\u53ea\u6709\u5728\u7b49\u5f85\u72b6\u6001\u624d\u80fd\u505c\u6b62")},e.prototype.getHoldWin=function(t){return this._holdWins&&0!=this._holdWins.length?t<0||t>=this._holdWins.length?(cc.error("\u7d22\u5f15"+t+"\u8d85\u51fa\u8303\u56f4\u4e86"),null):this._holdWins[t]:null},e.prototype.getColumn=function(t){var e=this.getHoldWin(t),i=null;if(e&&(i=e.column),!i){if(t<0||t>=this._reels.length)return cc.error("\u7d22\u5f15"+t+"\u8d85\u51fa\u8303\u56f4\u4e86"),null;i=this._reels[t]}return i},e.prototype.getColumnExtraCellCount=function(t){return this.getColumn(t).getExtraCellCount()},e.prototype.columnHoldWin=function(t){var e=this.getHoldWin(t);e&&(this._holdWins.filter(function(e){return e.index<t}).map(function(t,e){t.isHoldWin&&t.unholdWin(e)}),e.holdWin())},e.prototype.cellHoldWin=function(t,e){this.getColumn(t).cellHoldWin(e)},e.prototype.unCellHoldWin=function(t,e){this.getColumn(t).unCellHoldWin(e)},e.prototype.setFinalResultsImmediately=function(t,e,i){var n=this.getColumn(t);n&&n.setFinalResultsImmediately(e,i)},e.prototype.setFinalResultImmediately=function(t,e,i){var n=this.getColumn(t);n&&n.setFinalResultImmediately(e,i)},e.prototype.onResultsReceived=function(t,e){this.fguiComponent.node.on(a.SymbolBoardEvent.RESULTS_RECEIVED,t,e)},e.prototype.offResultsReceived=function(t,e){this.fguiComponent.node.off(a.SymbolBoardEvent.RESULTS_RECEIVED,t,e)},e.prototype.clearResultsReceived=function(){this.fguiComponent.node.off(a.SymbolBoardEvent.RESULTS_RECEIVED)},e.prototype.onCellResultSet=function(t,e){this.fguiComponent.node.on(a.SymbolBoardEvent.CELL_STOPPED,t,e)},e.prototype.offCellResultSet=function(t,e){this.fguiComponent.node.off(a.SymbolBoardEvent.CELL_STOPPED,t,e)},e.prototype.clearCellResultSet=function(){this.fguiComponent.node.off(a.SymbolBoardEvent.CELL_STOPPED)},e.prototype.onColumnResultsSet=function(t,e){this.fguiComponent.node.on(a.SymbolBoardEvent.COLUMN_STOPPED,t,e)},e.prototype.offColumnResultsSet=function(t,e){this.fguiComponent.node.off(a.SymbolBoardEvent.COLUMN_STOPPED,t,e)},e.prototype.clearColumnResultsSet=function(){this.fguiComponent.node.off(a.SymbolBoardEvent.COLUMN_STOPPED)},e.prototype.onResultsSet=function(t,e){this.fguiComponent.node.on(a.SymbolBoardEvent.CHESSBOARD_STOPPED,t,e)},e.prototype.offResultsSet=function(t,e){this.fguiComponent.node.off(a.SymbolBoardEvent.CHESSBOARD_STOPPED,t,e)},e.prototype.clearResultsSet=function(){this.fguiComponent.node.off(a.SymbolBoardEvent.CHESSBOARD_STOPPED)},Object.defineProperty(e.prototype,"chipCellRewards",{get:function(){return this.$chipCellRewards},set:function(t){this.$chipCellRewards=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"jackpotCellRewards",{get:function(){return this.$jackpotCellRewards},enumerable:!1,configurable:!0}),e.prototype.beforePrizeShow=function(){this.prizeShowStatus=c.PrizeShowStatus.Showing},e.prototype.ofAKindShow=function(){},e.prototype.prizeLineShow=function(t,e){var i=this.convert2PrizeLineShow(t,e);this._prizeShowChesses=i.getAllSymbols();for(var n=0;n<this._prizeShowChesses.length;n++){var o=this._prizeShowChesses[n].position,s=this.getCellByFinalPosition(o),r=this.getColumn(s.x);if(!r)return void cc.error("\u5217"+s.x+"\u672a\u627e\u5230");r.prizeShow(o,s.y)}},e.prototype.convert2PrizeLineShow=function(t,e){var i=[];if(null==t)console.log(t);else for(var n=0;n<t.length;n++){var o=[];if(t[n])for(var s=0;s<t[n].length;s++)o.push(new y(t[n][s],e));else console.log(t[n]);i.push(new _(o,e))}return new b(i,[],[])},Object.defineProperty(e.prototype,"prizeLineShowFirst",{get:function(){return this._prizeLineShowFirst},set:function(t){t||this.status==p.SymbolBoardStatus.PrizeShowing||(this._prizeLineShowFirst=!1),this._prizeLineShowFirst=t},enumerable:!1,configurable:!0}),e.prototype.receivePrizeShowCompleted=function(t){var e=this._prizeShowChesses.find(function(e){return e.position==t});if(e&&e.finishedOnce(),this.checkAllChessesPrizeShowCompleted())this.prizeLineShowFirst&&this.status>=p.SymbolBoardStatus.Stopped&&(this.status=p.SymbolBoardStatus.Settling,this.prizeLineShowFirst=!1),this.notifyPrizeLineShowCompletedOnce();else if(e&&e.finishedTimes<e.expectedTimes){var i=this.getCellByFinalPosition(t);this.getColumn(i.x).prizeShow(t,i.y)}},e.prototype.receiveAllCellRewardsSettled=function(){if(this.status=p.SymbolBoardStatus.Ready,this.parent){var t=this.parent;t&&t.receivePrizeShowCompleted(this._index)}},e.prototype.checkAllChessesPrizeShowCompleted=function(){return!this._prizeShowChesses.find(function(t){return t.finishedTimes<t.expectedTimes})},e.prototype.startPrizeShow=function(){this.beforePrizeShow(),this._prizeShowStrategy.startShow(),this.node.emit("BOTTOM_BAR_SET_WIN_COINS")},e.prototype.startPrizeSettle=function(){this.beforePrizeShow(),this._prizeShowStrategy.startSettle()},e.prototype.prizeChipCellSettle=function(t,e,i){console.log("\u7b79\u7801\u7ed3\u7b97\u8fc7\u7a0b");var n=this.getCellByFinalPosition(t);this.getColumn(n.x).prizeChipCellSettle(t,e,i,this.prizeChipCellSettleCallback.bind(this))},e.prototype.prizeChipCellSettleCallback=function(){this.notifyPrizeCellSettleCompletedOnce()},e.prototype.prizeJackpotCellSettle=function(){var t=this;console.log("jackpot\u5f39\u7a97\u5c55\u793a"),setTimeout(function(){t.notifyPrizeCellSettleCompletedOnce()},1e3)},e.prototype.notifyPrizeLineShowCompletedOnce=function(){this.node.emit(a.SymbolBoardEvent.PRIZE_LINE_SHOW_COMPLETED_ONCE)},e.prototype.onPrizeLineShowCompletedOnce=function(t,e){this.node.on(a.SymbolBoardEvent.PRIZE_LINE_SHOW_COMPLETED_ONCE,t,e)},e.prototype.offPrizeLineShowCompletedOnce=function(t,e){this.node.off(a.SymbolBoardEvent.PRIZE_LINE_SHOW_COMPLETED_ONCE,t,e)},e.prototype.clearPrizeLineShowCompletedOnce=function(){this.node.off(a.SymbolBoardEvent.PRIZE_LINE_SHOW_COMPLETED_ONCE)},e.prototype.notifyPrizeCellSettleCompletedOnce=function(){this.node.emit(a.SymbolBoardEvent.PRIZE_CELL_SETTLE_COMPLETED_ONCE)},e.prototype.onCellRewardSettledOnce=function(t,e){this.node.on(a.SymbolBoardEvent.PRIZE_CELL_SETTLE_COMPLETED_ONCE,t,e)},e.prototype.offCellRewardSettledOnce=function(t,e){this.node.off(a.SymbolBoardEvent.PRIZE_CELL_SETTLE_COMPLETED_ONCE,t,e)},e.prototype.clearCellRewardSettledOnce=function(){this.node.off(a.SymbolBoardEvent.PRIZE_CELL_SETTLE_COMPLETED_ONCE)},e.prototype.getCellByFinalPosition=function(t){if(this._finalCellPosition[t])return this._finalCellPosition[t];var e=this._reels.length;0===e&&(e=this._holdWins.length);for(var i=-1,n={x:0,y:0},o=0;o<e;o++){var s=this.getColumn(o),r=s.cells.length-s.topExtraCells-s.bottomExtraCells;if((i+=r)>=t){n.x=o,n.y=r-(i-t)-1+s.topExtraCells,this._finalCellPosition[t]=n;break}}return n},e.prototype.onBeforeStartWaitingResults=function(){return!0},e.prototype.onBeforeStopWaitingResults=function(){return!0},e.prototype.setReelControllerProperty=function(t,e,i){var n=this.getColumn(t);n?n.setControllerProperty(e,i):cc.error("\u672a\u627e\u5230\u5217")},e.prototype.setCellControllerProperty=function(t,e,i,n){if("number"==typeof e){var o=this.getColumn(t);return o?void o.setCellControllerProperty(e,i,n):void cc.error("\u672a\u627e\u5230\u5217")}var s=this.getCellByFinalPosition(t);this.setCellControllerProperty(s.x,s.y,e,i)},e.prototype.setSymbolControllerProperty=function(t,e,i,n){if("number"==typeof e){var o=this.getColumn(t);return o?void o.setSymbolControllerProperty(e,i,n):void cc.error("\u672a\u627e\u5230\u5217")}var s=this.getCellByFinalPosition(t);this.setSymbolControllerProperty(s.x,s.y,e,i)},e.prototype.playSpineByConfig=function(t,e,i,n){this.getColumn(t).playSpineByConfig(e,i,n)},e.prototype.playSpineByConfigAndPosition=function(t,e,i){var n=this.getCellByFinalPosition(t);this.playSpineByConfig(n.x,n.y,e,i)},e.prototype.playSpineByConfigAndPositions=function(t,e,i){this.positionsShowCallback=i,this.positionsShowCompletedOnce=!1;for(var n=0;n<t.length;n++){var o=this.getCellByFinalPosition(t[n]);this.playSpineByConfig(o.x,o.y,e,this.positionShowCompletedOnce.bind(this))}},e.prototype.positionShowCompletedOnce=function(){this.positionsShowCompletedOnce||(this.positionsShowCompletedOnce=!0,this.positionsShowCallback&&this.positionsShowCallback())},Object.defineProperty(e.prototype,"freeModeShowConfigName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playEnterFreeModeShowDelay",{get:function(){return 500},enumerable:!1,configurable:!0}),e.prototype.playEnterFreeModeShow=function(t,e){var i=this,n=this.getSymbolEvents(),o=n.filter(function(t){return t.events.find(function(t){return t.code==g.SpinResultsEventCode.Free||t.code==g.SpinResultsEventCode.OneMore||t.code==g.SpinResultsEventCode.Respin||t.code==g.SpinResultsEventCode.Bonus})});if(e&&(o=n.filter(function(t){return t.events.find(function(t){return t.code==e})})),!this.freeModeShowConfigName||!o||0==o.length)return console.log("playEnterFreeModeShow return false"),!1;for(var s=[],r=0;r<o.length;r++)s.push(o[r].position);return setTimeout(function(){i.playSpineByConfigAndPositions(s,i.freeModeShowConfigName,t)},this.playEnterFreeModeShowDelay),console.log("playEnterFreeModeShow return true"),!0},e.prototype.doubleChessShow=function(){var t=this._reels.length;0===t&&(t=this._holdWins.length);for(var e=0;e<t;e++)this.getColumn(e).doubleChessShow()},e.className="SymbolBoardBase",e}(d.default);i.default=C;var v=function(){function t(t,e,i,n,o){this._events=[],this._code=t,this._assets=e,this._postion=i,this._events=n,this._events||(this._events=[]),this._wheel=o}return Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assets",{get:function(){return this._assets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._postion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheel",{get:function(){return this._wheel},enumerable:!1,configurable:!0}),t}();i.SymbolEvent=v,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0,"../../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils":void 0,"../../../../spin-result/SpinResultsConst":"SpinResultsConst","../../../../spin-result/SpinResultsEventCode":"SpinResultsEventCode","../../../../spin-result/SpinResultsGameMode":"SpinResultsGameMode","../GameStage/SlotGameStageBase":"SlotGameStageBase","../GameStage/SlotGameStageStatus":"SlotGameStageStatus","../PrizeShowStatus":"PrizeShowStatus","./HoldWinBase":"HoldWinBase","./ReelBase":"ReelBase","./ReplaceSymbol":"ReplaceSymbol","./SymbolBoardEvent":"SymbolBoardEvent","./SymbolBoardStatus":"SymbolBoardStatus"}],SymbolBoardConst:[function(t,e,i){"use strict";cc._RF.push(e,"93b06M6bYZEY5QmOa4x6Mp9","SymbolBoardConst"),Object.defineProperty(i,"__esModule",{value:!0}),i.SymbolBoardConst=void 0,i.SymbolBoardConst={FINAL_CODE_OFFSET:100,HOLD_WIN_INTERVAL_OFFSET:1e6},cc._RF.pop()},{}],SymbolBoardEvent:[function(t,e,i){"use strict";cc._RF.push(e,"8119aLQOHNM3YZrXSYz3Ryg","SymbolBoardEvent"),Object.defineProperty(i,"__esModule",{value:!0}),i.SymbolBoardEvent=void 0,i.SymbolBoardEvent={COLUMN_STOPPED:"ChessboardColumnStopped",CELL_STOPPED:"ChessboardCellStopped",CHESSBOARD_STOPPED:"ChessboardStopped",RESULTS_RECEIVED:"ChessboardResultsReceived",MOCK_CODE_REPLACED:"ChessboardMockCodeReplaced",PRIZE_LINE_SHOW_COMPLETED_ONCE:"ChessboardPrizeLineShowCompletedOnce",PRIZE_CELL_SETTLE_COMPLETED_ONCE:"ChessboardPrizeCellSettleCompletedOnce"},cc._RF.pop()},{}],SymbolBoardStatus:[function(t,e,i){"use strict";cc._RF.push(e,"260e8gUP4ZH/LnOwSR4h6DV","SymbolBoardStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.SymbolBoardStatus=void 0,function(t){t[t.Ready=0]="Ready",t[t.Spinning=1]="Spinning",t[t.Stopped=2]="Stopped",t[t.Replacing=3]="Replacing",t[t.PrizeShowing=4]="PrizeShowing",t[t.Settling=5]="Settling"}(i.SymbolBoardStatus||(i.SymbolBoardStatus={})),cc._RF.pop()},{}],SymbolBoard:[function(t,e,i){"use strict";cc._RF.push(e,"ed393zg589O6L3PlhmT9a+A","SymbolBoard"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],SymbolSpinType:[function(t,e,i){"use strict";cc._RF.push(e,"52543pC0JpDhqdF59YLCwWq","SymbolSpinType"),Object.defineProperty(i,"__esModule",{value:!0}),i.SymbolSpinType=void 0,function(t){t[t.Column=0]="Column",t[t.Cell=1]="Cell"}(i.SymbolSpinType||(i.SymbolSpinType={})),cc._RF.pop()},{}],SymbolSpineResource:[function(t,e,i){"use strict";cc._RF.push(e,"0be06SpeRxFq5XbyyrwWPK7","SymbolSpineResource"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){this._code=t,this._urls=e,this._resources=new Map}return Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urls",{get:function(){return this._urls},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resources",{get:function(){return this._resources},enumerable:!1,configurable:!0}),t.prototype.addResource=function(t,e){this._resources.set(t,e)},t}();i.default=n,cc._RF.pop()},{}],SymbolSpineShowConfig:[function(t,e,i){"use strict";cc._RF.push(e,"3219c7vtJ5LhojyU6NuRi/L","SymbolSpineShowConfig"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,o,s,r,a){this._playParameters=[],this._completeCount=1,this._scale=1,this._premultipliedAlpha=!0,this._code=t,this._spineName=e,this._spineComponentName=i,this._playParameters=n,this._completeCount=s,this._scale=r,this._premultipliedAlpha=a,this._playParameters||(this._playParameters=[]),this._skin=o,null==s&&(this._completeCount=1),null==r&&(this._scale=1),null==a&&(this._premultipliedAlpha=!0)}return Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineName",{get:function(){return this._spineName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineComponentName",{get:function(){return this._spineComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playParameters",{get:function(){return this._playParameters},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skin",{get:function(){return this._skin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeCount",{get:function(){return this._completeCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"premultipliedAlpha",{get:function(){return this._premultipliedAlpha},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],TopBarBase:[function(t,e,i){"use strict";cc._RF.push(e,"784ae0gN1VALJo+Sj/p5c0F","TopBarBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase").default);i.default=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiFullScreenBase":void 0}],TurningWaitingResultsConfig:[function(t,e,i){"use strict";cc._RF.push(e,"3a8ba0WxjFPaYDdSc+lp/rD","TurningWaitingResultsConfig"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./SymbolSpinType"),o=function(){function t(){this._spinType=n.SymbolSpinType.Column,this._respinType=n.SymbolSpinType.Cell,this._startUpResilience=null,this._startDownResilience=null,this._endDownResilience=null,this._endUpResilience=null,this._interval=0,this._step=20,this._holdWinStep=40,this._stopStep=30,this._manualStopStep=120,this._autoStopTimeout=3e3,this._holdWinStopTimeout=1e3,this._skipHoldWin=!0,this._cellAmountInColumns=[],this._startIntervalEachColumn=[],this._stopIntervalEachColumn=[],this._manualStopIntervalEachColumn=[],this._stopIntervalEachCell=[]}return Object.defineProperty(t.prototype,"startUpResilience",{get:function(){return this._startUpResilience},set:function(t){this._startUpResilience=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startDownResilience",{get:function(){return this._startDownResilience},set:function(t){this._startDownResilience=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endDownResilience",{get:function(){return this._endDownResilience},set:function(t){this._endDownResilience=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endUpResilience",{get:function(){return this._endUpResilience},set:function(t){this._endUpResilience=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(t){this._interval=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellAmountInColumns",{get:function(){return this._cellAmountInColumns},set:function(t){this._cellAmountInColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinType",{get:function(){return this._spinType},set:function(t){this._spinType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"respinType",{get:function(){return this._respinType},set:function(t){this._respinType=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startIntervalEachColumn",{get:function(){return this._startIntervalEachColumn},set:function(t){this._startIntervalEachColumn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopIntervalEachColumn",{get:function(){return this._stopIntervalEachColumn},set:function(t){this._stopIntervalEachColumn=t,this._stopIntervalEachColumn||(this._stopIntervalEachColumn=[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manualStopIntervalEachColumn",{get:function(){return this._manualStopIntervalEachColumn},set:function(t){this._manualStopIntervalEachColumn=t,this._manualStopIntervalEachColumn||(this._manualStopIntervalEachColumn=[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopIntervalEachCell",{get:function(){return this._stopIntervalEachCell},set:function(t){this._stopIntervalEachCell=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopIntervalInRespinCell",{get:function(){return this._stopIntervalInRespinCell},set:function(t){this._stopIntervalInRespinCell=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdWinStep",{get:function(){return this._holdWinStep},set:function(t){this._holdWinStep=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopStep",{get:function(){return this._stopStep},set:function(t){this._stopStep=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manualStopStep",{get:function(){return this._manualStopStep},set:function(t){this._manualStopStep=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoStopTimeout",{get:function(){return this._autoStopTimeout},set:function(t){this._autoStopTimeout=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdWinStopTimeout",{get:function(){return this._holdWinStopTimeout},set:function(t){this._holdWinStopTimeout=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipHoldWin",{get:function(){return this._skipHoldWin},set:function(t){this._skipHoldWin=t},enumerable:!1,configurable:!0}),t}();i.default=o,cc._RF.pop()},{"./SymbolSpinType":"SymbolSpinType"}],TurningWaitingResultsStrategy:[function(t,e,i){"use strict";cc._RF.push(e,"214bfyl9mhLS5YbMbgIz+Qw","TurningWaitingResultsStrategy"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./WaitingResultsColumn"),o=t("./SymbolSpinType"),s=t("./WaitingResultsCell"),r=t("./IntervalEachColumn"),a=t("./WaitingResultsSpinStatus"),l=t("./WaitingResultsStep"),u=t("./SymbolBoard/SymbolBoardConst"),c=t("./SymbolBoard/SymbolBoardStatus"),p=t("../../../spin-result/SpinResultsGameMode"),h=t("../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils"),d=function(){function t(t,e,i){this._resultsColumns=null,this.reels=[],this._cellAmountInColumns=[],this._startIntervalEachColumn=[],this._stopIntervalEachColumnTemplate=[],this._stopIntervalEachCellTemplate=[],this._stopIntervalEachCell=[],this._manualStopIntervalEachColumnTemplate=[],this._holdWinShowedOnce=!1,this.hasCellHoldWin=!1,this._isPause=!1,this._pauseBuffer=[],this._config=i,this.$chessboard=t,this._cellAmountInColumns=e,this._spinStatus=a.WaitingResultsSpinStatus.Normal,this.initColumns(),this.$chessboard.onColumnResultsSet(this.onSymbolBoardReelStopped,this),this.$chessboard.onCellResultSet(this.onSymbolBoardCellStopped,this),this.$chessboard.onResultsSet(this.onSymbolBoardStopped,this),this.$chessboard.onResultsReceived(this.onSymbolBoardResultsReceived,this)}return Object.defineProperty(t.prototype,"chessboard",{get:function(){return this.$chessboard},enumerable:!1,configurable:!0}),t.prototype.initColumns=function(){for(var t=0,e=0,i=0;i<this._cellAmountInColumns.length;i++){var u=[];u.push(new l.default(a.WaitingResultsSpinStatus.Normal,this._config.step)),u.push(new l.default(a.WaitingResultsSpinStatus.Stopping,this._config.stopStep)),u.push(new l.default(a.WaitingResultsSpinStatus.ManualStopping,this._config.manualStopStep)),u.push(new l.default(a.WaitingResultsSpinStatus.HoldWin,this._config.holdWinStep));var c=new n.default(this.$chessboard.maxCode,u);this.reels.push(c);var p=this._cellAmountInColumns[i];if(this._config.spinType==o.SymbolSpinType.Cell||this._config.respinType==o.SymbolSpinType.Cell)for(var h=0;h<p;h++){c.addCell(new s.default(this.$chessboard.maxCode));var d=0,f=this._stopIntervalEachCellTemplate.length;0!==f&&(d=this._stopIntervalEachCellTemplate[f-1].interval+this._config.stopIntervalInRespinCell),this._stopIntervalEachCellTemplate.push(new r.default(d))}this._config.startIntervalEachColumn?i>=this._config.startIntervalEachColumn.length?this._startIntervalEachColumn.push(new r.default(t)):(t+=this._config.startIntervalEachColumn[i],this._startIntervalEachColumn.push(new r.default(t))):this._startIntervalEachColumn.push(new r.default(0)),this._config.stopIntervalEachColumn?i>=this._config.stopIntervalEachColumn.length?this._stopIntervalEachColumnTemplate.push(new r.default(0)):(e=this._config.stopIntervalEachColumn[i],this._stopIntervalEachColumnTemplate.push(new r.default(e))):this._stopIntervalEachColumnTemplate.push(new r.default(0)),this._config.manualStopIntervalEachColumn?i>=this._config.manualStopIntervalEachColumn.length?this._manualStopIntervalEachColumnTemplate.push(new r.default(0)):(e=this._config.manualStopIntervalEachColumn[i],this._manualStopIntervalEachColumnTemplate.push(new r.default(e))):this._manualStopIntervalEachColumnTemplate.push(new r.default(0))}},t.prototype.startWaiting=function(t){this._excludeCodes=t,this._spinStatus=a.WaitingResultsSpinStatus.Spinning,this.$chessboard.schedule(this.waiting.bind(this),this._config.interval),this._config.spinType==o.SymbolSpinType.Column?this.reelStart():this.cellStart(),this._autoStopTime=(new Date).getTime()+this._config.autoStopTimeout},t.prototype.reelStart=function(){for(var t=function(t){var i=e._startIntervalEachColumn[t];i.timer&&clearTimeout(i.timer);var n=e.reels[t];if(n.excludeCodes=e._excludeCodes,i.interval<=0)n.spinStatus=a.WaitingResultsSpinStatus.Spinning;else{var o=setTimeout(function(){n.spinStatus==a.WaitingResultsSpinStatus.Normal&&(n.spinStatus=a.WaitingResultsSpinStatus.Spinning)},i.interval);i.timer=o}},e=this,i=0;i<this.reels.length;i++)t(i)},t.prototype.cellStart=function(){for(var t=0;t<this.reels.length;t++)for(var e=this._startIntervalEachColumn[t],i=this.reels[t],n=function(t){var n=i.cells[t];if(n.excludeCodes=o._excludeCodes,e.interval<=0)n.spinStatus=a.WaitingResultsSpinStatus.Spinning;else{var s=setTimeout(function(){n.spinStatus==a.WaitingResultsSpinStatus.Normal&&(n.spinStatus=a.WaitingResultsSpinStatus.Spinning)},e.interval);e.timer=s}},o=this,s=0;s<i.cells.length;s++)n(s)},t.prototype.autoStop=function(){var t=(new Date).getTime();this.$chessboard.canStop()&&t>=this._autoStopTime&&this._spinResults&&this._spinStatus==a.WaitingResultsSpinStatus.Spinning&&(this._spinStatus=a.WaitingResultsSpinStatus.Stopping,this._autoStopTime=new Date(2900,1,1).getTime(),this.stopWaiting())},t.prototype.waiting=function(){this.$chessboard.status==c.SymbolBoardStatus.Spinning&&(this.autoStop(),this._config.spinType==o.SymbolSpinType.Column?this.reelMove():this.cellMove())},t.prototype.reelMove=function(){for(var t=0;t<this.reels.length;t++){var e=this.reels[t];if(e.spinStatus!=a.WaitingResultsSpinStatus.Normal){var i=e.currentStep;this._config.startUpResilience&&this._config.startDownResilience&&this.$chessboard.reelStartResilienceConfig(t,this._config.startUpResilience,this._config.startDownResilience),this._config.endDownResilience&&this._config.endUpResilience&&this.$chessboard.reelEndResilienceConfig(t,this._config.endDownResilience,this._config.endUpResilience),this.$chessboard.columnMoveY(t,i,e.theNextCode)&&e.nextCode()}}},t.prototype.cellMove=function(){for(var t=0;t<this.reels.length;t++)for(var e=this.reels[t],i=e.currentStep,n=0;n<e.cells.length;n++){var o=e.cells[n];o.spinStatus!=a.WaitingResultsSpinStatus.Normal&&o.spinStatus!=a.WaitingResultsSpinStatus.Stopped&&this.$chessboard.cellMoveY(t,n,i,o.theNextCode)&&o.nextCode()}},t.prototype.stopWaiting=function(t){this._spinResults&&(this._config.spinType==o.SymbolSpinType.Column?this.reelStop(t):this.cellStop(t))},Object.defineProperty(t.prototype,"isPause",{get:function(){return this._isPause},set:function(t){this._isPause=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPauseBuffer",{get:function(){return this._isPauseBuffer},set:function(t){this._isPauseBuffer=t,this._isPauseBuffer&&this.clearPauseBuffer()},enumerable:!1,configurable:!0}),t.prototype.clearPauseBuffer=function(){var t=this;this._pauseBuffer&&this._pauseBuffer.length>0&&this._pauseBuffer.map(function(e){e.cellSpin?t.pushStopCodesForCell(e.i):e.reel.pushStopCodes(),e.reel.spinStatus=a.WaitingResultsSpinStatus.Stopping,t._spinStatus=a.WaitingResultsSpinStatus.Stopping})},t.prototype.reelStop=function(t,e){for(var i=function(i){var o=!1,s=n.reels[i],r=n._stopIntervalEachColumnTemplate[i].interval,l=n._startIntervalEachColumn[i];switch(l.timer&&clearTimeout(l.timer),t&&(r=0,n._manualStopIntervalEachColumnTemplate[i]&&(r=n._manualStopIntervalEachColumnTemplate[i].interval)),s.spinStatus){case a.WaitingResultsSpinStatus.Stopped:case a.WaitingResultsSpinStatus.Stopping:case a.WaitingResultsSpinStatus.ManualStopping:return"continue";case a.WaitingResultsSpinStatus.Spinning:var u=n._spinStatus==a.WaitingResultsSpinStatus.Stopping||!n._config.skipHoldWin||n._config.skipHoldWin&&!n._holdWinShowedOnce;s.isHoldWin&&u&&(s.spinStatus=a.WaitingResultsSpinStatus.HoldWin,r=n._config.holdWinStopTimeout,n._autoStopTime=(new Date).getTime()+r,n.$chessboard.columnHoldWin(i),n._spinStatus=a.WaitingResultsSpinStatus.Spinning,o=!0,n._holdWinShowedOnce=!0);break;case a.WaitingResultsSpinStatus.HoldWin:t||n._spinStatus!=a.WaitingResultsSpinStatus.Spinning||(o=!0),r=0;break;case a.WaitingResultsSpinStatus.Normal:}if(o)return"break";if(r<=0)n.isPause?n._pauseBuffer.push({cellSpin:e,i:i,reel:s}):(e?n.pushStopCodesForCell(i):s.pushStopCodes(),s.spinStatus=a.WaitingResultsSpinStatus.Stopping,n._spinStatus=a.WaitingResultsSpinStatus.Stopping),t&&(s.spinStatus=a.WaitingResultsSpinStatus.ManualStopping,n._spinStatus=a.WaitingResultsSpinStatus.ManualStopping);else{if(!n.isPause)return s.timer=e?setTimeout(n.pushStopCodesForCell.bind(n),r,i):setTimeout(function(){s.pushStopCodes()},r),"break";n._pauseBuffer.push({cellSpin:e,i:i,reel:s})}},n=this,o=0;o<this.reels.length&&"break"!==i(o);o++);},t.prototype.cellStop=function(t){this._spinResults.gameMode==p.SpinResultsGameMode.Respin||this.hasCellHoldWin?this.cellStopForRespin(t):this.reelStop(t,this._config.spinType==o.SymbolSpinType.Cell)},t.prototype.cellStopForRespin=function(t){if(this._spinResults.gameMode==p.SpinResultsGameMode.Respin){var e=!1;for(n=0;n<this.reels.length;n++){for(o=this.reels[n],s=0;s<o.cells.length;s++){switch((r=o.cells[s]).spinStatus){case a.WaitingResultsSpinStatus.Stopped:continue;case a.WaitingResultsSpinStatus.Stopping:case a.WaitingResultsSpinStatus.ManualStopping:e=!0;break;case a.WaitingResultsSpinStatus.Spinning:if(r.fixed){o.pushStopCodesForCell(s);break}r.isHoldWin?(this.$chessboard.cellHoldWin(n,s),r.spinStatus=a.WaitingResultsSpinStatus.HoldWin,this._autoStopTime=(new Date).getTime()+this._config.stopIntervalInRespinCell,this._spinStatus=a.WaitingResultsSpinStatus.Spinning,e=!0):(r.timer=setTimeout(this.pushStopCodesForCell.bind(this),this._config.stopIntervalInRespinCell,n,s),e=!0);break;case a.WaitingResultsSpinStatus.HoldWin:t?o.pushStopCodesForCell(s):this._spinStatus==a.WaitingResultsSpinStatus.Stopping&&o.pushStopCodesForCell(s);break;case a.WaitingResultsSpinStatus.Normal:}if(e)break}if(e)break}}else for(var i=!1,n=0;n<this.reels.length;n++){for(var o=this.reels[n],s=0;s<o.cells.length;s++){var r;switch((r=o.cells[s]).spinStatus){case a.WaitingResultsSpinStatus.Stopped:case a.WaitingResultsSpinStatus.Stopping:case a.WaitingResultsSpinStatus.ManualStopping:continue;case a.WaitingResultsSpinStatus.Spinning:r.isHoldWin?(this.$chessboard.cellHoldWin(n,s),r.spinStatus=a.WaitingResultsSpinStatus.HoldWin,i=!0):o.pushStopCodesForCell(s);break;case a.WaitingResultsSpinStatus.HoldWin:t?(o.pushStopCodesForCell(s),r.timer&&clearTimeout(r.timer)):this._spinStatus==a.WaitingResultsSpinStatus.Stopping&&o.pushStopCodesForCell(s);break;case a.WaitingResultsSpinStatus.Normal:}}i&&(this._autoStopTime=(new Date).getTime()+this._config.stopIntervalInRespinCell,this._spinStatus=a.WaitingResultsSpinStatus.Spinning)}},t.prototype.pushStopCodesForCell=function(t,e){var i=this.reels[t];if(null!=e)i.pushStopCodesForCell(e);else for(var n=0;n<i.cells.length;n++)i.pushStopCodesForCell(n)},t.prototype.onSymbolBoardReelStopped=function(t){if(this._config.respinType!=o.SymbolSpinType.Cell||this._spinResults.gameMode!=p.SpinResultsGameMode.Respin&&!this.hasCellHoldWin){var e=this.reels[t];if(e){e.spinStatus=a.WaitingResultsSpinStatus.Stopped,e.timer&&clearTimeout(e.timer);var i=this._spinStatus==a.WaitingResultsSpinStatus.ManualStopping;this.reelStop(i,this._config.spinType==o.SymbolSpinType.Cell)}else cc.error("\u5217\u4e0d\u5b58\u5728\uff0c\u7d22\u5f15"+t)}},t.prototype.onSymbolBoardCellStopped=function(t,e){if(this._spinResults.gameMode==p.SpinResultsGameMode.Respin||this.hasCellHoldWin){var i=this.reels[t].cells[e];i.spinStatus=a.WaitingResultsSpinStatus.Stopped,i.timer&&clearTimeout(i.timer);var n=this._spinStatus==a.WaitingResultsSpinStatus.ManualStopping;this.cellStopForRespin(n)}},t.prototype.getNextReelIndex=function(t,e){var i=this.reels[t];return e<i.cells.length-1?t:t>=i.cells.length-1?-1:t+1},t.prototype.getCellPosition=function(t,e){for(var i=-1,n=0;n<this.reels.length&&!(n>t);n++){var o=this.reels[n].cells.length-1;n==t&&(o=e);for(var s=0;s<=o;s++)i++}return i},t.prototype.onSymbolBoardStopped=function(){for(var t=0;t<this._stopIntervalEachCell.length;t++){var e=this._stopIntervalEachCell[t];e.timer&&clearTimeout(e.timer)}this._stopIntervalEachCell=[],this.$chessboard.unschedule(this.waiting.bind(this))},t.prototype.onSymbolBoardResultsReceived=function(t){this.reelResults(t),this.cellResults(t),this._spinResults=t},t.prototype.reelResults=function(t){this._resultsColumns=t.columns;for(var e=0;e<this.reels.length;e++){var i=this._resultsColumns[e],n=this.reels[e];n.stopCodes=[];for(var o=this.$chessboard.getColumnExtraCellCount(e),s=0;s<o.bottom;s++)n.stopCodes.push(h.default.random(0,this.$chessboard.maxCode,this._excludeCodes));for(s=i.stopCodes.length-1;s>=0;s--)n.stopCodes.push(i.stopCodes[s]);for(s=0;s<o.top;s++)n.stopCodes.push(h.default.random(0,this.$chessboard.maxCode,this._excludeCodes));n.isHoldWin=i.isHoldWin}},t.prototype.cellResults=function(){this.hasCellHoldWin=!1;for(var t=0,e=0,i=(this._config.stopIntervalInRespinCell,0);i<this._stopIntervalEachCell.length;i++)(a=this._stopIntervalEachCell[i]).timer&&clearTimeout(a.timer);for(this._stopIntervalEachCell=[],i=0;i<this.reels.length;i++)for(var n=this.reels[i],o=this._resultsColumns[i],s=0;s<n.cells.length;s++){var a=this._stopIntervalEachCellTemplate[t];a=new r.default(a.interval),this._stopIntervalEachCell.push(a);var l=n.cells[s],c=o.cells[s];l.fixed=c.fixed,l.isHoldWin=c.isHoldWin,l.fixed&&(e+=this._config.stopIntervalInRespinCell),a.interval-=e,l.isHoldWin&&(this.hasCellHoldWin=!0,l.holdWinShowing=!1,a.interval=u.SymbolBoardConst.HOLD_WIN_INTERVAL_OFFSET),t++}},t.prototype.reset=function(){this._resultsColumns=[],this._spinResults=null,this._holdWinShowedOnce=!1,this.hasCellHoldWin=!1,this._pauseBuffer=[],this.isPauseBuffer=!1;for(var t=0;t<this.reels.length;t++)this.reels[t].reset();for(t=0;t<this._stopIntervalEachCell.length;t++){var e=this._stopIntervalEachCell[t];e.timer&&clearTimeout(e.timer)}this._stopIntervalEachCell=[],this._spinStatus=a.WaitingResultsSpinStatus.Normal},t}();i.default=d,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils":void 0,"../../../spin-result/SpinResultsGameMode":"SpinResultsGameMode","./IntervalEachColumn":"IntervalEachColumn","./SymbolBoard/SymbolBoardConst":"SymbolBoardConst","./SymbolBoard/SymbolBoardStatus":"SymbolBoardStatus","./SymbolSpinType":"SymbolSpinType","./WaitingResultsCell":"WaitingResultsCell","./WaitingResultsColumn":"WaitingResultsColumn","./WaitingResultsSpinStatus":"WaitingResultsSpinStatus","./WaitingResultsStep":"WaitingResultsStep"}],WaitingResultsCell:[function(t,e,i){"use strict";cc._RF.push(e,"174ffv/sz5A7YJ7KkVaWe1z","WaitingResultsCell"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./FifoQueue"),o=t("./WaitingResultsSpinStatus"),s=t("./SymbolBoard/SymbolBoardConst"),r=t("../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils"),a=function(){function t(t){this._excludeCodes=[],this._maxCode=t,this._randomCodes=new n.default,this._randomCodes.enqueue(r.default.random(0,t)),this._theNextCode=this.randomCode,this._isHoldWin=!1,this._holdWinShowing=!1,this._spinStatus=o.WaitingResultsSpinStatus.Normal}return Object.defineProperty(t.prototype,"maxCode",{get:function(){return this._maxCode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spinStatus",{get:function(){return this._spinStatus},set:function(t){this._spinStatus=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"theNextCode",{get:function(){return this._theNextCode},enumerable:!1,configurable:!0}),t.prototype.nextCode=function(){this._theNextCode=this.randomCode},Object.defineProperty(t.prototype,"randomCode",{get:function(){var t=this._randomCodes.dequeue();return this._spinStatus!=o.WaitingResultsSpinStatus.Stopping&&this._randomCodes.enqueue(r.default.random(0,this._maxCode,this._excludeCodes)),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excludeCodes",{get:function(){return this._excludeCodes},set:function(t){var e=this;this._excludeCodes=t,this._excludeCodes||(this._excludeCodes=[]),null!=this._excludeCodes.find(function(t){return t==e._theNextCode})&&(this._theNextCode=this.randomCode)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHoldWin",{get:function(){return this._isHoldWin},set:function(t){this._isHoldWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holdWinShowing",{get:function(){return this._holdWinShowing},set:function(t){this._holdWinShowing=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timer",{get:function(){return this._timer},set:function(t){this._timer=t},enumerable:!1,configurable:!0}),t.prototype.pushStopCode=function(t){this._randomCodes.clear(),this._randomCodes.enqueue(t+s.SymbolBoardConst.FINAL_CODE_OFFSET),this._randomCodes.enqueue(r.default.random(0,this._maxCode,this._excludeCodes)),this._spinStatus=o.WaitingResultsSpinStatus.Stopping},t.prototype.reset=function(){this._randomCodes.clear(),this._randomCodes.enqueue(r.default.random(0,this.maxCode)),this._randomCodes.enqueue(r.default.random(0,this._maxCode,this._excludeCodes)),this.nextCode(),this._theNextCode=this.randomCode,this.isHoldWin=!1,this.holdWinShowing=!1,this.spinStatus=o.WaitingResultsSpinStatus.Normal},t}();i.default=a,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils":void 0,"./FifoQueue":"FifoQueue","./SymbolBoard/SymbolBoardConst":"SymbolBoardConst","./WaitingResultsSpinStatus":"WaitingResultsSpinStatus"}],WaitingResultsColumn:[function(t,e,i){"use strict";cc._RF.push(e,"9c54c2CCUdBw4Ntgi4uCVRg","WaitingResultsColumn"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./FifoQueue"),o=t("./WaitingResultsStep"),s=t("./WaitingResultsSpinStatus"),r=t("./SymbolBoard/SymbolBoardConst"),a=t("../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils"),l=function(){function t(t,e){if(this._stopCodes=[],this._steps=[],this._excludeCodes=[],this._stopped=!1,this._maxCode=t,this._cells=[],this._stopCodes=[],this._randomCodes=new n.default,this._randomCodes.enqueue(a.default.random(0,t)),this._theNextCode=this.randomCode,this._spinStatus=s.WaitingResultsSpinStatus.Normal,e){this._steps=e;var i=e.find(function(t){return t.status==s.WaitingResultsSpinStatus.Normal});this._currentStep=i.step}}return Object.defineProperty(t.prototype,"spinStatus",{get:function(){return this._spinStatus},set:function(t){if(t||0===t){var e=this._steps.find(function(e){return e.status==t});e||(e=this._steps.find(function(t){return t.status==s.WaitingResultsSpinStatus.Normal})),this._currentStep=e.step,this._spinStatus=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"theNextCode",{get:function(){return this._theNextCode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHoldWin",{get:function(){return this._isHoldWin},set:function(t){this._isHoldWin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timer",{get:function(){return this._timer},set:function(t){this._timer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopCodes",{get:function(){return this._stopCodes},set:function(t){this._stopCodes=t,this._stopCodes||(this._stopCodes=[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"results",{set:function(t){this._results=t,t&&(this._stopCodes=t.codes,this._isHoldWin=t.isHoldWin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"randomCode",{get:function(){var t=this._randomCodes.dequeue();return this._spinStatus!=s.WaitingResultsSpinStatus.Stopping&&this._randomCodes.enqueue(a.default.random(0,this._maxCode,this._excludeCodes)),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excludeCodes",{get:function(){return this._excludeCodes},set:function(t){var e=this;this._excludeCodes=t,this._excludeCodes||(this._excludeCodes=[]),null!=this._excludeCodes.find(function(t){return t==e._theNextCode})&&(this._theNextCode=this.randomCode);for(var i=0;i<this._cells.length;i++)this._cells[i].excludeCodes=this.excludeCodes},enumerable:!1,configurable:!0}),t.prototype.getStep=function(t){var e=this._steps.find(function(e){return e.status==t});return e?e.step:null},t.prototype.addOrUpdateStep=function(t,e){var i=this._steps.find(function(e){return e.status==t});i?i.step=e:this._steps.push(new o.default(t,e))},t.prototype.addCell=function(t){this.cells.push(t)},t.prototype.nextCode=function(){this._theNextCode=this.randomCode},t.prototype.pushStopCodes=function(){if(this._stopCodes&&this._stopCodes.length>0){this._randomCodes.clear(),this.spinStatus=s.WaitingResultsSpinStatus.Stopping;for(var t=0;t<this._stopCodes.length;t++)this._randomCodes.enqueue(this._stopCodes[t]+r.SymbolBoardConst.FINAL_CODE_OFFSET);this._stopCodes=[]}},t.prototype.pushStopCodesForCell=function(t){if(this._stopCodes&&this._stopCodes.length>0){var e=this._stopCodes.length;this.cells[t].pushStopCode(this._stopCodes[e-t-1])}},t.prototype.reset=function(){this._isHoldWin=!1,this._stopCodes=[],this._randomCodes.clear(),this._randomCodes.enqueue(a.default.random(0,this._maxCode,this._excludeCodes)),this._theNextCode=this.randomCode,this.spinStatus=s.WaitingResultsSpinStatus.Normal;for(var t=0;t<this._cells.length;t++)this._cells[t].reset()},t}();i.default=l,cc._RF.pop()},{"../../../../../../Common/script/modules/@mogafa/utils/lib/NumberUtils":void 0,"./FifoQueue":"FifoQueue","./SymbolBoard/SymbolBoardConst":"SymbolBoardConst","./WaitingResultsSpinStatus":"WaitingResultsSpinStatus","./WaitingResultsStep":"WaitingResultsStep"}],WaitingResultsSpinStatus:[function(t,e,i){"use strict";cc._RF.push(e,"a3e6blmAOFEMKBNXBYYjtw/","WaitingResultsSpinStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.WaitingResultsSpinStatus=void 0,function(t){t[t.Normal=0]="Normal",t[t.Spinning=1]="Spinning",t[t.Stopping=2]="Stopping",t[t.ManualStopping=3]="ManualStopping",t[t.HoldWin=4]="HoldWin",t[t.Stopped=5]="Stopped"}(i.WaitingResultsSpinStatus||(i.WaitingResultsSpinStatus={})),cc._RF.pop()},{}],WaitingResultsStatus:[function(t,e,i){"use strict";cc._RF.push(e,"31be46yBIVG/JMl7ufKmGV0","WaitingResultsStatus"),Object.defineProperty(i,"__esModule",{value:!0}),i.WaitingResultsStatus1=void 0,function(t){t[t.Ready=0]="Ready",t[t.BeforeStartWaiting=1]="BeforeStartWaiting",t[t.Waiting=2]="Waiting",t[t.BeforeStopWaiting=3]="BeforeStopWaiting",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped",t[t.BeforeMockSymbolsReplacing=6]="BeforeMockSymbolsReplacing",t[t.MockSymbolsReplacing=7]="MockSymbolsReplacing",t[t.MockSymbolsReplaced=8]="MockSymbolsReplaced"}(i.WaitingResultsStatus1||(i.WaitingResultsStatus1={})),cc._RF.pop()},{}],WaitingResultsStep:[function(t,e,i){"use strict";cc._RF.push(e,"92702PFqVFA7biFLc+b5mz+","WaitingResultsStep"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){this._status=t,this._step=e}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t},enumerable:!1,configurable:!0}),t}();i.default=n,cc._RF.pop()},{}],WinBase:[function(t,e,i){"use strict";cc._RF.push(e,"912c53hJfNJIb5o2DXu76hI","WinBase");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase").default);i.default=s,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/fairygui-component/lib/FguiComponentBase":void 0}],WinSpine:[function(t,e,i){"use strict";cc._RF.push(e,"74842W8KnNH4pf/kv6+jmwM","WinSpine");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr"),r=t("../../../../spin-result/SpineCommon"),a=function(){function t(){}return t.PATH="UI/Win/Spine/",t.BIGWIN="spine_ui_function_bigwin_up",t.BIGWINBG="spine_ui_function_bigwin_down",t.MEGAWIN="spine_ui_function_megawin_up",t.MEGAWINBG="spine_ui_function_megawin_down",t.SUPERWIN="spine_ui_function_superwin_up",t.SUPERWINBG="spine_ui_function_superwin_down",t}(),l=function(t){function e(e){return t.call(this,e,[a.PATH+a.BIGWIN,a.PATH+a.BIGWINBG,a.PATH+a.MEGAWIN,a.PATH+a.MEGAWINBG,a.PATH+a.SUPERWIN,a.PATH+a.SUPERWINBG])||this}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),e.prototype.bigWin=function(){this._skeleton.skeletonData=this._resources[a.BIGWIN],s.default.getInstance().playEffect("vo_big_win"),this.skeleton.setAnimation(0,"big_start",!1),this.skeleton.addAnimation(0,"big_breath",!0)},e.prototype.megaWin=function(){this._skeleton.skeletonData=this._resources[a.MEGAWIN],s.default.getInstance().playEffect("vo_maga_win"),this.skeleton.setAnimation(0,"mega_start",!1),this.skeleton.addAnimation(0,"mega_breath",!0)},e.prototype.superWin=function(){this._skeleton.skeletonData=this._resources[a.SUPERWIN],s.default.getInstance().playEffect("vo_super_win"),this.skeleton.setAnimation(0,"super_start",!1),this.skeleton.addAnimation(0,"super_breath",!0)},e.prototype.bigWinBg=function(){this._skeleton.skeletonData=this._resources[a.BIGWINBG],this.skeleton.setAnimation(0,"big_start",!1),this.skeleton.addAnimation(0,"big_breath",!0)},e.prototype.megaWinBg=function(){this._skeleton.skeletonData=this._resources[a.MEGAWINBG],this.skeleton.setAnimation(0,"mega_start",!1),this.skeleton.addAnimation(0,"mega_breath",!0)},e.prototype.superWinBg=function(){this._skeleton.skeletonData=this._resources[a.SUPERWINBG],this.skeleton.setAnimation(0,"super_start",!1),this.skeleton.addAnimation(0,"super_breath",!0)},e.prototype.bgWinHide=function(){this._skeleton.skeletonData=this._resources[a.BIGWIN],this.skeleton.setAnimation(0,"big_over",!1)},e.prototype.bgWinBgHide=function(){this._skeleton.skeletonData=this._resources[a.BIGWINBG],this.skeleton.setAnimation(0,"big_over",!1)},e.prototype.superWinHide=function(){this._skeleton.skeletonData=this._resources[a.SUPERWIN],this.skeleton.setAnimation(0,"super_over",!1)},e.prototype.superWinBgHide=function(){this._skeleton.skeletonData=this._resources[a.SUPERWINBG],this.skeleton.setAnimation(0,"super_over",!1)},e.prototype.megaWinHide=function(){this._skeleton.skeletonData=this._resources[a.MEGAWIN],this.skeleton.setAnimation(0,"mega_over",!1)},e.prototype.megaWinBgHide=function(){this._skeleton.skeletonData=this._resources[a.MEGAWINBG],this.skeleton.setAnimation(0,"mega_over",!1)},e}(r.default);i.default=l,cc._RF.pop()},{"../../../../../../../Common/script/modules/@mogafa/utils/lib/SoundMgr":void 0,"../../../../spin-result/SpineCommon":"SpineCommon"}],Win:[function(t,e,i){"use strict";cc._RF.push(e,"767d8bjYcNGyJ9sd1mBiKMQ","Win");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.Win=void 0;var s,r=t("../Coin/Coin"),a=t("../Coin/BigWinSpread"),l=t("./WinSpine"),u=t("../Popup"),c=t("../Ripple/RippleSpine");(function(t){t[t.BIG=2]="BIG",t[t.SUPER=3]="SUPER",t[t.MEGA=4]="MEGA"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._flyCoins=100,e._flyIntegrals=20,e._isCoinFly=!1,e._clickBuffer=0,e._autoCloseCount=-1,e._countdown=-1,e}return o(e,t),Object.defineProperty(e.prototype,"basePanel",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animNode",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonOKName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"goldGrowName",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalNumName",{get:function(){throw new Error("Method not implemented.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"GameCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"UI/Common"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"Win"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeTime",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coinEndPos",{get:function(){return this._coinEndPos},set:function(t){this._coinEndPos=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"integralEndPos",{get:function(){return this._integralEndPos},set:function(t){this._integralEndPos=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCoinFly",{get:function(){return this._isCoinFly},set:function(t){this._isCoinFly=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoCloseCount",{get:function(){return this._autoCloseCount},set:function(t){if(this._autoCloseCount=t,this.autoCloseCount>0)this._countdownText.text=this.autoCloseCount+"";else{if(0!==this.autoCloseCount)return;this.collectAward()}},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.initChildComponents()},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this)},e.prototype.initChildComponents=function(){this._winUpNode=this.fguiComponent.getChild("winUp").node,this._winDownNode=this.fguiComponent.getChild("winDown").node,this._winUpNode.zIndex=90,this._winUp=new l.default(this._winUpNode),this.addChild(this._winUp),this._winDown=new l.default(this._winDownNode),this.addChild(this._winDown),this._collectButton=this.getChild("collectButton").asButton,this._collectButton.onClick(this.collectAward.bind(this)),this._collectButton.x+=180,this._doubleButton=this.getChild("doubleButton").asButton,this._doubleButton.onClick(this.adButtonClick.bind(this)),this._coin=this.fguiComponent.getChild("winCoin"),this._integral=this.fguiComponent.getChild("winIntegral"),this._coin.node.zIndex=99,this._integral.node.zIndex=99,this.coinEndPos=this.getChild("coin").node.position,this.integralEndPos=this.getChild("integral").node.position,this._rippleNode=this.getChild("ripple").node,this._rippleNode.zIndex=99,this._rippleSpine=new c.default(this._rippleNode),this.addChild(this._rippleSpine),this._countdownText=this.getChild("countdown").asTextField,this.toggleStaticUI(!1)},e.prototype.collectAward=function(){console.log("collectAward"),SoundMgr.getInstance().playEffect("button"),this.isCoinFly||0!==this._clickBuffer||(this.unscheduleAllCallbacks(),this.resetBigWinSpread(),this._countdownText.visible=!1,this._clickBuffer++,this.isCoinFly=!0,SoundMgr.getInstance().playEffect("frame_coins"),this.stopWinAnimation())},e.prototype.collectAward2=function(){console.log("collectAward2"),this.unscheduleAllCallbacks(),this.resetBigWinSpread(),this._countdownText.visible=!1,this._clickBuffer=0,this.fguiComponent.node.off(cc.Node.EventType.TOUCH_END),this.winFinishedCallback&&(this.winFinishedCallback(this._rewardCoins,this._rewardIntegral),this.winFinishedCallback=null),this.stopWinAnimation(),this.hide()},e.prototype.adButtonClick=function(){SoundMgr.getInstance().playEffect("button"),this.node.emit("BIG_WIN_AD")},e.prototype.onAdButtonClick=function(t){this.node.off("BIG_WIN_AD"),this.node.on("BIG_WIN_AD",t)},e.prototype.update=function(){this.isCoinFly&&(this._rewardCoins&&this._rewardCoins>0&&this._flyCoins>0?(this._flyCoins-=2,this.coinFly(),this._rippleSpine.ripple()):this._rewardIntegral&&this._rewardIntegral>0&&this._flyIntegrals>0?(this._flyIntegrals-=2,this.integralFly()):(this.isCoinFly=!1,this.coinFlyCallback()))},e.prototype.coinFlyCallback=function(){var t=this;this._clickBuffer>1||this.scheduleOnce(function(){t._rippleSpine.closeRipple(),SoundMgr.getInstance().stopEffect("frame_coins"),t.hide(),t.winFinishedCallback&&(t.winFinishedCallback(t._rewardCoins,t._rewardIntegral),t.winFinishedCallback=null)},1.2)},e.prototype.coinFly=function(){var t=this,e=this.addFguiComponent(r.Coin);e.onAllChildCreated(function(){var i=cc.v2(660+200*Math.random(),-500-100*Math.random());e.coinFly(i,t.coinEndPos)})},e.prototype.integralFly=function(){var t=this,e=this.addFguiComponent(Integral);e.onAllChildCreated(function(){var i=cc.v2(660+200*Math.random(),-650-100*Math.random());e.coinFly(i,t.integralEndPos)})},e.prototype.popUpWin=function(t,e,i,n,o){var r=this;switch(this.resetFly(),this._rewardCoins=isNaN(e)?0:e,this.winFinishedCallback=o,this._gameWheel=n,this._winType=t,this._countdown=i,this.autoCloseCount=this._countdown,this.show(),this.fguiComponent.node.on(cc.Node.EventType.TOUCH_END,this.collectAward2,this),t){case s.BIG:this._winUp.bigWin(),this._winDown.bigWinBg();break;case s.SUPER:this._winUp.superWin(),this._winDown.superWinBg();break;case s.MEGA:this._winUp.megaWin(),this._winDown.megaWinBg();break;default:this._winUp.bigWin(),this._winDown.bigWinBg()}this.scheduleOnce(function(){SoundMgr.getInstance().playEffect("big_win"),r.showCoin(e),r._collectButton.visible=!0,r.countdown()},.6)},e.prototype.countdown=function(){this._countdown<0||this.schedule(this.executeCountdown.bind(this),1,this._countdown)},e.prototype.executeCountdown=function(){this.autoCloseCount--},e.prototype.showCoin=function(t){var e=this._coin.asTextField,i=this._integral.asTextField;e.text=Utils.formatNumberToInt("0"),i.text=Utils.formatNumberToInt("0"),this._coin.visible=!0,e.asMogafaNumberField().play(0,t,2),this._integral,this.coinSpread(),SoundMgr.getInstance().playEffect("big_win_cions"),this.scheduleOnce(function(){SoundMgr.getInstance().stopEffect("big_win_cions")},4)},e.prototype.stopWinAnimation=function(){var t=this;switch(SoundMgr.getInstance().stopEffect("big_win"),SoundMgr.getInstance().stopEffect("big_win_cions"),this._winType){case s.BIG:this._winUp.bgWinHide(),this._winDown.bgWinBgHide();break;case s.SUPER:this._winUp.superWinHide(),this._winDown.superWinBgHide();break;case s.MEGA:this._winUp.megaWinHide(),this._winDown.megaWinBgHide();break;default:this._winUp.bgWinHide(),this._winDown.bgWinBgHide()}this._clickBuffer=0,this.scheduleOnce(function(){t.toggleStaticUI(!1)},.3)},e.prototype.sccoinSpread=function(){var t=this.addFguiComponent(a.BigWinSpread);t.onAllChildCreated(t.degree30CoinsLeft);var e=this.addFguiComponent(a.BigWinSpread);e.onAllChildCreated(e.degree30CoinsRight);var i=this.addFguiComponent(a.BigWinSpread);i.onAllChildCreated(i.degree50CoinsLeft);var n=this.addFguiComponent(a.BigWinSpread);n.onAllChildCreated(n.degree50CoinsRight);var o=this.addFguiComponent(a.BigWinSpread);o.onAllChildCreated(o.degree70CoinsLeft);var s=this.addFguiComponent(a.BigWinSpread);s.onAllChildCreated(s.degree70CoinsRight);var r=this.addFguiComponent(a.BigWinSpread);r.onAllChildCreated(r.verticalCoinsLeft);var l=this.addFguiComponent(a.BigWinSpread);l.onAllChildCreated(l.verticalCoinsRight)},e.prototype.coinSpread=function(t,e){void 0===t&&(t=.1),void 0===e&&(e=20),this.schedule(this.sccoinSpread.bind(this),.1,e-1)},e.prototype.toggleStaticUI=function(t){this._coin.visible=t,this._integral.visible=t,this._collectButton.visible=t,this._doubleButton.visible=t},e.prototype.resetFly=function(){console.log("resetFly"),this._rewardCoins=0,this._rewardIntegral=0,this._flyCoins=100,this._flyIntegrals=20},e.prototype.resetBigWinSpread=function(){for(var t=[],e=0;e<this._children.length;e++){var i=this._children[e];e>2?i.fguiComponent&&i.fguiComponent.node&&i.fguiComponent.node.destroy():t.push(i)}this._children=t},e}(u.Popup);i.Win=p,cc._RF.pop()},{"../Coin/BigWinSpread":"BigWinSpread","../Coin/Coin":"Coin","../Popup":"Popup","../Ripple/RippleSpine":"RippleSpine","./WinSpine":"WinSpine"}]},{},["BetChangedMessage","BottomBarBase","BottomBarSpinStaus","ButtomBarStatus","LevelUpBase","NumberOfKindBase","WinBase","FifoQueue","SlotGameStage","SlotGameStageBase","SlotGameStageEvent","SlotGameStageStatus","IPrizeShowStrategy","IPrizeShowSymbolBoard","IResilienceMove","IWaitingResultsStrategy","IntervalEachColumn","MaskBase","MogafaExtensions","MogafaNumberField","MogafaSlots","MogafaSlotsGameStage","PrizeShowSlotGame","PrizeShowStatus","PrizeShowStrategy","SpinStatusStrategy","SpinStatusStrategyNormal","SpinType","CellBase","HoldWinBase","ReelBase","ReplaceSymbol","SymbolBase","SymbolBoard","SymbolBoardBase","SymbolBoardConst","SymbolBoardEvent","SymbolBoardStatus","SymbolSpineResource","SymbolSpineShowConfig","SymbolSpinType","TopBarBase","TurningWaitingResultsConfig","TurningWaitingResultsStrategy","WaitingResultsCell","WaitingResultsColumn","WaitingResultsSpinStatus","WaitingResultsStatus","WaitingResultsStep","BigWinSpread","Coin","CoinSpread","Integral","NumberOfKind","NumberOfKindSpine","PayTable","Popup","RippleSpine","SlotsMasterGameStageBase","Win","WinSpine","SpinResultChoice","SpinResultMockChess","SpinResults","SpinResultsBigWinAdAwards","SpinResultsCard","SpinResultsCell","SpinResultsCellReward","SpinResultsChess","SpinResultsCollectible","SpinResultsColumn","SpinResultsConst","SpinResultsEvent","SpinResultsEventCode","SpinResultsFreeTrigger","SpinResultsGame","SpinResultsGameMode","SpinResultsGameStatus","SpinResultsGameType","SpinResultsGameWheel","SpinResultsLevel","SpinResultsRankInfo","SpinResultsSlot","SpinResultsSymbol","SpinResultsSymbolEvent","SpinResultsTour","SpinResultsUpgrade","SpinResultsWheeItem","SpinResultsWheel","SpinResultsWinType","SpineAnimationPlayParameter","SpineCommon"]);
System.register("chunks:///_virtual/common",["./NColorSpine.ts","./NRole.ts","./NHead.ts","./NUserHead.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NColorSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NConst.ts"],(function(e){"use strict";var t,r,n,a,o,i,c,h;return{setters:[function(e){t=e.inheritsLoose,r=e.regeneratorRuntime,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,o=e._decorator,i=e.sp,c=e.assetManager},function(e){h=e.C_BUNDLE_LIST}],execute:function(){var l;e("E_SKIN_PART",void 0),a._RF.push({},"ad905W1qDVNtYlZNuuad2Ze","NColorSpine",void 0);var s,u=o.ccclass,g=e("C_SKIN_PREFIX_NAMES",[[],["face","facial","hair","head","backhead"],["body","arm_l","arm_r"],["core","foot_l","foot_r","leg_l","leg_r","belt"],["hand_l","hand_r","finger_r"],["weapon"],["back"]]);!function(e){e[e.NONE=0]="NONE",e[e.head=1]="head",e[e.body=2]="body",e[e.core=3]="core",e[e.hand=4]="hand",e[e.waepon=5]="waepon",e[e.back=6]="back",e[e.Aura=7]="Aura"}(s||(s=e("E_SKIN_PART",{})));e("NColorSpine",u("NColorSpine")(l=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var o=a.prototype;return o.start=function(){},o._findSlot=function(e,t){return this.findSlot(e+"_"+t)},o.getPartSlot=r().mark((function e(t){var a,o,i,c,h,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=g[t],o=1,c=n(a);case 3:if((h=c()).done){e.next=16;break}l=h.value,o=1,s=void 0;case 7:if(!(s=this._findSlot(l,o))){e.next=14;break}return i={idx:o,name:l,slot:s},e.next=11,i;case 11:o++,e.next=7;break;case 14:e.next=3;break;case 16:case"end":return e.stop()}}),e,this)})),o.cleanPartColor=function(e){for(var t,r=this.getPartSlot(e);t=r.next().value;)if(t.slot){var n=t.slot.getAttachment();n.color.a=1,n.color.r=1,n.color.g=1,n.color.b=1}},o.NumToSpineColor=function(e){var t=new i.spine.Color;return t.a=1,e?(t.r=(e>>16)/255,t.g=((65280&e)>>8)/255,t.b=(255&e)/255):0==e?(t.r=0,t.g=0,t.b=0):(t.r=1,t.g=1,t.b=1),t},o.getColorCfgMap=function(e){if(e){for(var t,r,a=new Map,o=e.split(","),i=n(o);!(r=i()).done;){t=r.value.split(":"),a.set(t[0],Number(t[1]))}return a}},o.changePartColor=function(e,t,r){var n,a;n="string"==typeof r?this.getColorCfgMap(r):r;for(var o=this.getPartSlot(e),i=c.getBundle(h.COMMON);a=o.next().value;)if(a.slot){var l=i.get("res/role/res/skin/"+t+"/"+t+"_"+a.name+"_"+a.idx),s=a.name+"_"+a.idx;this.changSolt(s,l,a.idx,n.get(s))}},o.checkAttachment=function(e,t,r){var n=e.attachment;if(n)return n;var a=e.data.name.lastIndexOf("_"),o=e.data.name.substring(0,a),i=e.bone.skeleton.getAttachment(e.data.index-r+1,"100_"+o+"_1");return(i=i.copy()).name=t,i},o.changSolt=function(e,t,r,n){var a=this.findSlot(e);if(t){var o=this.checkAttachment(a,t.name,r);o.color=this.NumToSpineColor(n);var c=new i.SkeletonTexture(void 0);c.setRealTexture(t.texture);var h=new i.spine.TextureAtlasRegion,l=new i.spine.TextureAtlasPage;l.name=t.name,l.texture=c,l.width=t.texture.width,l.height=t.texture.height,l.uWrap=33071,l.vWrap=33071,l.magFilter=9729,l.minFilter=9729,h.page=l,h.name=t.name,h.texture=c,h.x=t.rect.x,h.y=t.rect.y,h.width=t.rect.width,h.height=t.rect.height,h.rotate=t.rotated,t.rotated||(h.offsetX=.5*(t.originalSize.width-t.rect.width)+t.offset.x,h.offsetY=.5*(t.originalSize.height-t.rect.height)+t.offset.y),h.originalWidth=t.originalSize.width,h.originalHeight=t.originalSize.height,h.u=t.rect.x/t.texture.width,h.u2=(t.rect.x+t.rect.width)/t.texture.width,h.v=t.rect.y/t.texture.height,h.v2=(t.rect.y+t.rect.height)/t.texture.height,o.width=t.originalSize.width,o.height=t.originalSize.height,o.setRegion(h),o.updateOffset(),a.setAttachment(o)}else a.setAttachment(void 0)},o.onlyShowPart=function(e){},a}(i.Skeleton))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/NHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NGlobal.ts"],(function(e){"use strict";var r,t,i,n,a,s,o,l,u,c,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator,l=e.Sprite,u=e.SpriteFrame,c=e.CCString,p=e.Component},function(e){f=e.GFunctions}],execute:function(){var d,h,_,m,y,b,g,v,H,U,x;s._RF.push({},"c879bo9LalEkq37Dmqpt+8n","NHead",void 0);var z=o.ccclass,F=o.property;e("NHead",(d=z("NHead"),h=F(l),_=F(l),m=F([u]),y=F(c),d((v=r((g=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,i(r,"sp_head",v,n(r)),i(r,"sp_frame",H,n(r)),i(r,"sp_frames",U,n(r)),i(r,"str_url",x,n(r)),r._frameIndex=void 0,r._headUrl=void 0,r}t(r,e);var s=r.prototype;return s.start=function(){""!=this.str_url&&this.loadHeadByUrl(this.str_url)},s.loadHeadByUrl=function(e){f.setSpriteSprieFrameByRemoteUrl(this.sp_head,e)},a(r,[{key:"frameIndex",get:function(){return this._frameIndex},set:function(e){this._frameIndex=Math.min(this.sp_frames.length-1,e),this.sp_frame.spriteFrame=this.sp_frames[this._frameIndex]}},{key:"headUrl",get:function(){return this._headUrl},set:function(e){this._headUrl=e,this.loadHeadByUrl(e)}}]),r}(p)).prototype,"sp_head",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(g.prototype,"sp_frame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(g.prototype,"sp_frames",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(g.prototype,"str_url",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=g))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/NRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NColorSpine.ts","./NGlobal.ts"],(function(t){"use strict";var n,e,o,i,r,a,s,l,p,u,c,b,d,f,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.BufferAsset,p=t.TextAsset,u=t.Texture2D,c=t.sp,b=t.Component},function(t){d=t.NColorSpine,f=t.E_SKIN_PART},function(t){y=t.NGlobal}],execute:function(){var _,h,m,g,v,A,I,C,N,S,x,L,T;a._RF.push({},"31357ANPJNMFZz5hGqDteJs","NRole",void 0);var z=s.ccclass,R=s.property;t("NRole",(_=z("NRole"),h=R(l),m=R(p),g=R([u]),v=R(c.Skeleton),A=R(d),_((N=n((C=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"spnbf_body",N,i(n)),o(n,"spnImgTxt_body",S,i(n)),o(n,"spnImg_body",x,i(n)),o(n,"spn_aura",L,i(n)),o(n,"spn_body",T,i(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.initSpine()},a.start=function(){},a.initSpine=function(){var t=new c.SkeletonData;t._nativeAsset=this.spnbf_body.buffer(),t.atlasText=this.spnImgTxt_body.toString(),t.textures=this.spnImg_body,t.textureNames=["150.png"],this.spn_body.skeletonData=t,this.spn_body.setAnimation(0,"idle_1",!0)},a.getAnimationTime=function(t){return this.spn_body.findAnimation(t).duration},a.setAnimation=function(t,n,e){return this.spn_body.findAnimation(n)?this.spn_body.setAnimation(t,n,e):null},a.setEventListener=function(t){return this.spn_body.setEventListener(t)},a.setCompleteListener=function(t){return this.spn_body.setCompleteListener(t)},a.changePartColor=function(t){for(var n,e=r(t);!(n=e()).done;){var o=n.value;o.partId==f.Aura?this.spn_aura.setAnimation(0,"act_"+o.skinId,!0):this.spn_body.changePartColor(o.partId,o.skinId,o.color)}},a.setAuraVisible=function(t){this.spn_aura.node.active=t},a.randomColor=function(){var t=this;y.netMgr.http.post("https://uat.v5b7.nbox.io:8443/api/RandomComponent_CS",{type:1},(function(n){var e=JSON.parse(n.response);if(0==e.resultCode)for(var o,i=r(e.data.componentConfigList);!(o=i()).done;){var a=o.value;a.partId==f.Aura||t.spn_body.changePartColor(a.partId,a.skinId,a.color)}}))},n}(b)).prototype,"spnbf_body",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(C.prototype,"spnImgTxt_body",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(C.prototype,"spnImg_body",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(C.prototype,"spn_aura",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(C.prototype,"spn_body",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/NUserHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NHead.ts","./NAutoRegNode.ts"],(function(e){"use strict";var t,r,n,i,l,a,o,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Label,u=e.Button},function(e){c=e.NHead},function(e){s=e.NAutoRegNode}],execute:function(){var p,b,f,d,y,g,h,_,m,N,v,z,H;l._RF.push({},"29183BL55dCNL68r/1YmD1K","NUserHead",void 0);var w=a.ccclass,L=a.property;e("NUserHead",(p=w("NUserHead"),b=L(o),f=L(o),d=L(o),y=L(c),g=L(u),p((m=t((_=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"lbl_name",m,i(t)),n(t,"lbl_lv",N,i(t)),n(t,"lbl_fight",v,i(t)),n(t,"nhead",z,i(t)),n(t,"btn_frame",H,i(t)),t.canClick=!0,t}return r(t,e),t.prototype.start=function(){e.prototype.start.call(this)},t}(s)).prototype,"lbl_name",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"lbl_lv",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(_.prototype,"lbl_fight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(_.prototype,"nhead",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"btn_frame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_))||h));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/common', 'chunks:///_virtual/common'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
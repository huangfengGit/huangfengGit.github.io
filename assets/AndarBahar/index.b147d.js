window.__require=function t(e,i,n){function s(a,l){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var u="function"==typeof __require&&__require;if(!l&&u)return u(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return s(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)s(n[a]);return s}({ABCardComp:[function(t,e,i){"use strict";cc._RF.push(e,"c04d2Ze6uREXKNAgMjBxPsW","ABCardComp");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.onConstruct=function(){this.valLoader=this.getChild("val").asLoader,this.bgControll=this.getController("bg"),this.cardbg=this.getChild("cardbg").asImage},e.prototype.SetCardValue=function(t){var e=t;e%100==14&&(e-=13),this.valLoader.url=e&&0!=e?"ui://AndarBahar/"+e.toString():"ui://AndarBahar/0000",this.valLoader.visible=!0},e.prototype.SetBg=function(t){this.bgControll.setSelectedIndex(t?1:0)},e.prototype.ShowWinAnim=function(t){this.bgControll.setSelectedIndex(t?1:0),this.cardbg.node.stopAllActions(),t&&this.cardbg.node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))))},e}(fgui.GComponent);i.default=o,cc._RF.pop()},{}],ABChipTemplate:[function(t,e,i){"use strict";cc._RF.push(e,"de9c0metyRAIaewpeSMYgcH","ABChipTemplate");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isActive=!1,e}return s(e,t),e.prototype.onConstruct=function(){this.typeController=this.getController("number"),this.chipLoader=this.getChild("icon").asLoader},e.prototype.setBetNum=function(t,e){void 0===e&&(e=!0),this.gold=t,this.chipLoader.url=e?"ui://AndarBahar/chip_"+t:t>=1e3?"ui://AndarBahar/chip_1"+t:"ui://AndarBahar/chip_"+t},e.prototype.getGold=function(){return this.gold},e}(fgui.GComponent);i.default=o,cc._RF.pop()},{}],ABController:[function(t,e,i){"use strict";cc._RF.push(e,"da96cl/Fy1NZ5Cq/l0WR0fW","ABController"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Common/script/base/cs_base"),s=t("../../../Common/script/base/WebSocketManager"),o=t("../../../Boot/scirpt/AppConst"),a=t("../Model/ABModel"),l=t("../Model/ABNetData"),r=t("./ABQueueMessages"),u=function(){function t(){this.mapNotyfy=new Map}return Object.defineProperty(t,"instance",{get:function(){return null==this._viewCtr&&(this._viewCtr=new t),this._viewCtr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Model",{get:function(){return null==this._model&&(this._model=new a.default,this.Model.gameid=91004,this._model.Init()),this._model},enumerable:!1,configurable:!0}),t.prototype.RegistNotyfy=function(){this.RegistNotyfyEx("sc_tablestart_AndBah_n",this.sc_tablestart_AndBah_n),this.RegistNotyfyEx("sc_gambleone_AndBah_n",this.sc_gambleone_AndBah_n),this.RegistNotyfyEx("sc_gamblearea_AndBah_n",this.sc_gamblearea_AndBah_n),this.RegistNotyfyEx("sc_end_AndBah_n",this.sc_end_AndBah_n),this.RegistNotyfyEx("sc_chat_n",this.sc_chat_n),this.RegistNotyfyEx("sc_addgoldingame",this.sc_addgoldingame),this.RegistNotyfyEx("sc_chat100_n",this.sc_chat100_n),this.RegistNotyfyEx("sc_one_exittable_n",this.sc_one_exittable_n)},t.prototype.RegistNotyfyEx=function(t,e){var i=this,n=function(n){i.AddTexMessages(n,t,e.bind(i))};s.WebSocketManager.getInstance.RegistNotify(t,n,this),this.mapNotyfy.set(t,n)},t.prototype.AddTexMessages=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),r.ABQueueMessages.instance.AddTexMes(e,t,i)},t.prototype.UnRegistNotify=function(){var t=this;this.mapNotyfy.forEach(function(e,i){s.WebSocketManager.getInstance.UnRegistNotify(i,e,t)}),this.mapNotyfy=new Map},t.prototype.cs_getroomplayerlist_AndBah=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=21);var n=new l.cs_getroomplayerlist_AndBah;n.levelid=o.AppConst.currentlevelid,n.tableid=o.AppConst.tableid,n._g=this.Model.gameid,n.pageSize=i,n.pageIndex=e,n.fn="cs_getroomplayerlist_AndBah",t?s.WebSocketManager.getInstance.SendJSON(n,this.sc_getroomplayerlist_AndBah2.bind(this)):s.WebSocketManager.getInstance.SendJSON(n,this.sc_getroomplayerlist_AndBah.bind(this))},t.prototype.sc_getroomplayerlist_AndBah=function(t){null==this.view||this.view._isDestory||1==t.result&&(this.Model.userListTotals=t.iCount,this.Model.userList=t.playerlist,this.view.updateTableUserInfo())},t.prototype.sc_getroomplayerlist_AndBah2=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.UpdateOtherPlayer(t)},t.prototype.cs_gethistory_AndBah=function(){var t=new l.cs_gethistory_AndBah;t.tableid=o.AppConst.tableid,t.levelid=o.AppConst.currentlevelid,t._g=this.Model.gameid,t.fn="cs_gethistory_AndBah",s.WebSocketManager.getInstance.SendJSON(t,this.sc_gethistory_AndBah.bind(this))},t.prototype.sc_gethistory_AndBah=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.sc_gethistory_AndBah(t)},t.prototype.sc_tablestart_AndBah_n=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.sc_tablestart_AndBah_n(t)},t.prototype.cs_gambleone_AndBah=function(t,e){var i=new l.cs_gambleone_AndBah;i.tableid=o.AppConst.tableid,i.levelid=o.AppConst.currentlevelid,i._g=this.Model.gameid,i.gamble=[t],i._tpos=[e],i.fn="cs_gambleone_AndBah",s.WebSocketManager.getInstance.SendJSON(i,this.sc_gambleone_AndBah.bind(this))},t.prototype.sc_gambleone_AndBah=function(t){null==this.view||this.view._isDestory||1==t.result||-210==t.result&&this.view.tipView.ShowTipLabel(this.Model.GetLanguage(70005))},t.prototype.sc_gambleone_AndBah_n=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.sc_gambleone_AndBah_n(t)},t.prototype.sc_gamblearea_AndBah_n=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.sc_gamblearea_AndBah_n(t)},t.prototype.sc_end_AndBah_n=function(t){null==this.view||this.view._isDestory||1==t.result&&(this.Model.endData=t,this.view.sc_end_AndBah_n(t))},t.prototype.cs_applyexittable_AndBah=function(){if(s.WebSocketManager.getInstance.webSocket.getConnectState()){var t=new l.cs_applyexittable_AndBah;t.fn="cs_applyexittable_AndBah",t.levelid=o.AppConst.currentlevelid,t.tableid=o.AppConst.tableid,t.gameid=this.Model.gameid,t._g=this.Model.gameid,s.WebSocketManager.getInstance.SendJSON(t,this.sc_applyexittable_AndBah.bind(this))}else this.view.ExitGame()},t.prototype.sc_applyexittable_AndBah=function(t){this.view&&1==t.result&&this.view.ExitGame()},t.prototype.cs_chat=function(t,e,i){var a=new n.cs_chat;a.levelid=o.AppConst.currentlevelid,a.tableid=o.AppConst.tableid,a.type=e,a.tpos=i,a.content=t,a._g=this.Model.gameid,a.fn="cs_chat",s.WebSocketManager.getInstance.SendJSON(a,this.sc_chat.bind(this))},t.prototype.sc_chat=function(t){null==this.view||this.view._isDestory||(-1==t.result?this.Model.GetLanguage(90017):-2==t.result&&this.Model.GetLanguage(90004))},t.prototype.sc_chat_n=function(t){null==this.view||this.view._isDestory||this.view.sc_chat_n(t)},t.prototype.sc_addgoldingame=function(t){null==this.view||this.view._isDestory||1==t.result&&this.view.sc_addgoldingame(t)},t.prototype.sc_chat100_n=function(t){this.view&&1==t.result&&this.view.sc_chat100_n(t)},t.prototype.sc_one_exittable_n=function(t){null==this.view||this.view._isDestory||1==t.result&&t.userid==o.AppConst.mPlayerModel.userid&&this.view.TimeOutExitGame()},t}();i.default=u,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/WebSocketManager":void 0,"../../../Common/script/base/cs_base":void 0,"../Model/ABModel":"ABModel","../Model/ABNetData":"ABNetData","./ABQueueMessages":"ABQueueMessages"}],ABDanmuCom:[function(t,e,i){"use strict";cc._RF.push(e,"c495dLoHcRHyIefNlSysqTc","ABDanmuCom");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=t("../../../Common/script/base/ViewBase"),a=t("../../../GameHall/script/Module/ChatView/ChatPeopleMsg"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.AutoSetGoProperty=function(){},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this)},e.prototype.OnLoadCompleted=function(){t.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.MyStart=function(){return this.mystart=!0,this.peopleMsg=this.addFguiComponent(a.default,!0),this.peopleMsg},e}(o.default);i.default=l,cc._RF.pop()},{"../../../Common/script/base/ViewBase":void 0,"../../../GameHall/script/Module/ChatView/ChatPeopleMsg":void 0}],ABMiniRecord:[function(t,e,i){"use strict";cc._RF.push(e,"941b7CAAp9BTrZHsGwMt2O2","ABMiniRecord");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=t("../../../Common/script/base/ViewBase"),a=t("../../../Common/script/util/UIUtil"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoadEnd=!1,e.miniRecVals=[],e.ui_AwinLV=null,e.ui_BwinLV=null,e.ui_nowVlaue=null,e}return s(e,t),e.prototype.AutoSetGoProperty=function(){},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this)},e.prototype.OnLoadCompleted=function(){t.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},e.prototype.MyStartEx=function(){t.prototype.AutoSetGoProperty.call(this),this.Init()},e.prototype.Init=function(){this.ui_AwinLV.text="0%",this.ui_BwinLV.text="0%",this.ui_nowVlaue.url="",this.miniRecVals=[];for(var t=0;t<7;t++){var e=this.getChild("miniRecVal"+t);this.miniRecVals.push(e),e.visible=!1}},e.prototype.updateData=function(t,e){e&&(this.ui_AwinLV.text=a.UIUtil.NumberToInt(100*e[0])+"%",this.ui_BwinLV.text=a.UIUtil.NumberToInt(100*e[1])+"%");for(var i=0;i<7;i++){var n=i,s=this.miniRecVals[n];if(s.visible=!1,t&&t[n]){var o=t[n].cv;o=14==o?1:o,a.UIUtil.loadImage(s.getChild("val").asLoader,"card_"+o,"res/AndarBahar"),s.getChild("txtVal").asTextField.text=this.cardValToStr(o),s.getController("type").setSelectedIndex(t[n].cc),s.visible=!0}}},e.prototype.setNowVale=function(t){t=14==t?1:t,a.UIUtil.loadImage(this.ui_nowVlaue,"card_"+t,"res/AndarBahar")},e.prototype.clearInfo=function(){this.ui_AwinLV.text="0%",this.ui_BwinLV.text="0%",this.ui_nowVlaue.url=""},e.prototype.cardValToStr=function(t){return 1==t?"A":11==t?"J":12==t?"Q":13==t?"K":t+""},e}(o.default);i.default=l,cc._RF.pop()},{"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/util/UIUtil":void 0}],ABModel:[function(t,e,i){"use strict";cc._RF.push(e,"8afe81XWjZFxoPT5vCLWT3z","ABModel"),Object.defineProperty(i,"__esModule",{value:!0}),i.VariationLanguage=void 0;var n=t("../../../Boot/scirpt/AppConst"),s=function(){function t(){this.wayWallList=[],this.mapUserAllBet=new Map,this.mapPosAllBet=new Map,this.fMultiple=[],this.endData=null,this.ABLanguage=null,this.MapVariationLanguage=new Map}return t.prototype.Init=function(){},t.prototype.GetLanguage=function(t,e,i,s){void 0===e&&(e=1),null==this.ABLanguage&&(this.ABLanguage=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Andarbahar));var a,l=this.ABLanguage["id_"+t];return a="1"==n.AppConst.languageType?l.english:l.hindi,i&&s&&this.MapVariationLanguage.set(s,new o(i,l.type,t)),a},t.prototype.UpdateVariationLanguage=function(){var t=this;this.MapVariationLanguage.size>0&&this.MapVariationLanguage.forEach(function(e){var i=t.ABLanguage["id_"+e.lID],n="",s="",o=t.GetLanguage(e.lID,e.type);if(1==e.type){n=i.english,s=i.hindi;var a=e.gCom.text;a=(a=a.replace(n,o)).replace(s,o),e.gCom.text=a}else e.gCom.asLoader.url=o})},t}();i.default=s;var o=function(t,e,i){this.gCom=t,this.type=e,this.lID=i};i.VariationLanguage=o,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0}],ABNetData:[function(t,e,i){"use strict";cc._RF.push(e,"c12e63aO4lFGbxCdGB2uJAX","ABNetData");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.sc_one_exittable_n=i.TableAnBaStatusEnum=i.sc_chat100_n=i.historygamble_AndBah=i.sc_gethistorygamble_AndBah=i.cs_gethistorygamble_AndBah=i.sc_gethistory_AndBah=i.cs_gethistory_AndBah=i.sc_getonline_AndBah=i.cs_getonline_AndBah=i.sc_applyexittable_AndBah=i.cs_applyexittable_AndBah=i.sc_end_AndBah_n=i.ShowDownSD_AndBah=i.BetInfoAB=i.sc_gamblearea_AndBah_n=i.sc_gambleone_AndBah_n=i.sc_gambleone_AndBah=i.cs_gambleone_AndBah=i.sc_tablestart_AndBah_n=i.roomplayersd_AndBah=i.sc_getroomplayerlist_AndBah=i.cs_getroomplayerlist_AndBah=i.wayBillInfoAB=i.sc_entertable_AndBah=i.cs_entertable_AndBah=void 0;var o=t("../../../Common/script/base/cs_base"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_entertable_AndBah=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_entertable_AndBah=l;i.wayBillInfoAB=function(){};var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_getroomplayerlist_AndBah=r;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_getroomplayerlist_AndBah=u;i.roomplayersd_AndBah=function(){};var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_tablestart_AndBah_n=h;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_gambleone_AndBah=c;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_gambleone_AndBah=p;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_gambleone_AndBah_n=d;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_gamblearea_AndBah_n=_;i.BetInfoAB=function(){};i.ShowDownSD_AndBah=function(){};var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_end_AndBah_n=y;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_applyexittable_AndBah=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_applyexittable_AndBah=m;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_getonline_AndBah=g;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_getonline_AndBah=C;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_gethistory_AndBah=A;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_gethistory_AndBah=b;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.cs_base);i.cs_gethistorygamble_AndBah=v;var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_gethistorygamble_AndBah=B;i.historygamble_AndBah=function(){};var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_chat100_n=M,function(t){t[t.PreGamble=1]="PreGamble",t[t.Gambling=2]="Gambling",t[t.ShowPrize=3]="ShowPrize",t[t.NoBanker=4]="NoBanker"}(i.TableAnBaStatusEnum||(i.TableAnBaStatusEnum={}));var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.sc_base);i.sc_one_exittable_n=S,cc._RF.pop()},{"../../../Common/script/base/cs_base":void 0}],ABOtherPlayerItem:[function(t,e,i){"use strict";cc._RF.push(e,"68a9f6oTtFCFpov2fS886/E","ABOtherPlayerItem");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(fgui.GComponent);i.default=o,cc._RF.pop()},{}],ABPlayerList:[function(t,e,i){"use strict";cc._RF.push(e,"06026ZVuF5Kv4/0SOon2k/N","ABPlayerList");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=t("../../../Common/script/base/AudioManager"),a=t("../../../Common/script/base/ViewBase"),l=t("../../../Boot/scirpt/AppConst"),r=t("../../../Common/script/util/UIUtil"),u=t("../Controller/ABController"),h=t("./ABOtherPlayerItem"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_btn_close=null,e.ui_monyHead=null,e.ui_monyName=null,e.ui_monyMax=null,e.ui_monyRound=null,e.ui_luckyHead=null,e.ui_luckyName=null,e.ui_luckyRound=null,e.ui_luckyWin=null,e.ui_otherPlayList=null,e.ui_online=null,e.pageIndex=0,e.playerList=[],e.onloadend=!1,e}return s(e,t),e.prototype.OnLoadCompleted=function(){this.onloadend=!0,this.mystart&&this.MyStartEx()},e.prototype.MyStart=function(){this.mystart=!0,this.onloadend&&this.MyStartEx()},e.prototype.AutoSetGoProperty=function(){},e.prototype.MyStartEx=function(){t.prototype.AutoSetGoProperty.call(this),this.Hide(),this.ui_online.text=u.default.instance.Model.GetLanguage(20004,1,this.ui_online.asCom,this.ui_online.name)+"{num=0}",this.ui_btn_close.onClick(this.Hide,this),fgui.UIObjectFactory.setExtension("ui://AndarBahar/otherPlayerItem",h.default),this.ui_otherPlayList.itemRenderer=this.renderListItem.bind(this),this.ui_otherPlayList.setVirtual(),this.ui_otherPlayList.on(fgui.Event.PULL_UP_RELEASE,this.onPullUpToRefresh,this),this.ui_otherPlayList.numItems=0},e.prototype.renderListItem=function(t,e){var i=e.asCom,n=l.AppConst.gameStatus[1]==l.EnumGameStatus.Hide?"":"R$:";r.UIUtil.SetLimitTxt(i.getChild("userName").asTextField,this.playerList[t]._wechat.wName,9),i.getChild("gold").asTextField.text=n+r.UIUtil.formatNumber100(this.playerList[t].gold),r.UIUtil.loadImage(i.getChild("head").asCom.getChild("headLoad").asLoader,this.playerList[t]._wechat.wicon)},e.prototype.onPullUpToRefresh=function(){var t=this;u.default.instance.Model.userListTotals>this.playerList.length&&(this.pageIndex++,this.scheduleOnce(function(){u.default.instance.cs_getroomplayerlist_AndBah(!0,t.pageIndex,21)},.2))},e.prototype.ShowList=function(t){if(null!=t){for(var e=l.AppConst.gameStatus[1]==l.EnumGameStatus.Hide?"":"R$:",i=0;i<t.length;i++){var n=i;1!=t[n].s&&3!=t[n].s||(r.UIUtil.SetLimitTxt(this.ui_monyName,t[n]._wechat.wName,9),r.UIUtil.loadImage(this.ui_monyHead.getChild("headLoad").asLoader,t[n]._wechat.wicon),this.ui_monyMax.text=t[n].cwScore>0?e+r.UIUtil.formatNumber100(t[n].cwScore):e+"0",this.ui_monyRound.text=t[n].winTimes+""),2!=t[n].s&&3!=t[n].s||(r.UIUtil.SetLimitTxt(this.ui_luckyName,t[n]._wechat.wName,9),r.UIUtil.loadImage(this.ui_luckyHead.getChild("headLoad").asLoader,t[n]._wechat.wicon),this.ui_luckyRound.text=t[n].winTimes+"",this.ui_luckyWin.text=t[n].cwScore>0?e+r.UIUtil.formatNumber100(t[n].cwScore):e+"0"),1!=t[n].s&&2!=t[n].s&&3!=t[n].s||(t.splice(n,1),i--)}r.UIUtil.Concat(this.playerList,t),this.ui_otherPlayList.numItems+=t.length,this.ui_online.setVar("num",u.default.instance.Model.userListTotals+"").flushVars()}},e.prototype.Hide=function(){o.AudioManager.Singleton.play("GameCommon","btn_close"),this.ui_otherPlayList.numItems=0,this.pageIndex=0,this.playerList=[],t.prototype.Hide.call(this)},e}(a.default);i.default=c,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/util/UIUtil":void 0,"../Controller/ABController":"ABController","./ABOtherPlayerItem":"ABOtherPlayerItem"}],ABQueueMessages:[function(t,e,i){"use strict";cc._RF.push(e,"ce0ac+bA+FHbrUBaUztf5Ir","ABQueueMessages"),Object.defineProperty(i,"__esModule",{value:!0}),i.ABQueueMessages=void 0;var n=function(){function t(){this.listMessages=[],this.oldMsgid=0}return Object.defineProperty(t,"instance",{get:function(){return null==this._texms&&(this._texms=new t),this._texms},enumerable:!1,configurable:!0}),t.prototype.AddTexMes=function(t,e,i){var n=new s;n.name=t,n.status=!1,n.data=e,n.fun=i,this.listMessages.push(n)},t.prototype.isCanExeNext=function(){return 0!=this.listMessages.length&&0==this.listMessages[0].status},t.prototype.ExeNextMes=function(){this.listMessages.length>0&&(this.oldMsgid,this.listMessages[0].data._msgid,this.oldMsgid=this.listMessages[0].data._msgid,this.listMessages[0].status=!0,this.listMessages[0].fun(this.listMessages[0].data),this.listMessages.shift())},t.prototype.RemoveFirstMes=function(){this.listMessages.length>0&&1==this.listMessages[0].status&&this.listMessages.shift()},t.prototype.removeAllMes=function(){this.listMessages=[]},t}();i.ABQueueMessages=n;var s=function(){};cc._RF.pop()},{}],ABRecordPanel:[function(t,e,i){"use strict";cc._RF.push(e,"ea67ec2klhIH7Grj+nDU9Ds","ABRecordPanel");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=t("../../../Common/script/base/AudioManager"),a=t("../../../Common/script/base/ViewBase"),l=t("../../../Common/script/util/UIUtil"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoadEnd=!1,e.ui_btn_close=null,e.ui_txtAndarWins=null,e.ui_txtBaharWins=null,e.ui_listWinValue=null,e.ui_listCountNum=null,e.ui_listABWinRecord=null,e}return s(e,t),e.prototype.AutoSetGoProperty=function(){},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this)},e.prototype.OnLoadCompleted=function(){t.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},e.prototype.MyStartEx=function(){t.prototype.AutoSetGoProperty.call(this),this.Init()},e.prototype.Init=function(){var t=this;this.ui_btn_close.onClick(function(){o.AudioManager.Singleton.play("GameCommon","btn_close"),t.Hide()});for(var e=0;e<23;e++){var i=this.ui_listWinValue.getChildAt(e).asCom;i.getChild("val").asLoader.url="",i.getController("type").setSelectedIndex(0),this.ui_listCountNum.getChildAt(e).asCom.getChild("val").asTextField.text=""}this.Hide()},e.prototype.updateData=function(t){if(null!=t._ABProValue&&null!=t._ShowTimesList&&null!=t._wayWallList){var e,i;this.Show(),this.ui_txtAndarWins.text=l.UIUtil.NumberToInt(100*t._ABProValue[0])+"%",this.ui_txtBaharWins.text=l.UIUtil.NumberToInt(100*t._ABProValue[1])+"%",e=t._wayWallList.length>23?t._wayWallList.slice(t._wayWallList.length-23,t._wayWallList.length):t._wayWallList,i=t._ShowTimesList.length>23?t._ShowTimesList.slice(t._ShowTimesList.length-23,t._ShowTimesList.length):t._ShowTimesList,this.ui_listABWinRecord.removeChildrenToPool();for(var n=0;n<23;n++){var s=n,o=this.ui_listWinValue.getChildAt(n).asCom;if(o.visible=!1,e&&e[n]){var a=e[s].cv;a=14==a?1:a,l.UIUtil.loadImage(o.getChild("val").asLoader,"card_"+a,"res/AndarBahar"),o.getChild("txtVal").asTextField.text=this.cardValToStr(a),o.getController("type").setSelectedIndex(e[s].cc),o.visible=!0}var r=this.ui_listCountNum.getChildAt(s).asCom;r.visible=!1,i&&i[s]&&(r.getChild("val").asTextField.text=i[s].cc+"",r.visible=!0)}var u,h=[],c=[],p=0,d=0;for(n=(u=t._wayWallList.length>115?t._wayWallList.slice(t._wayWallList.length-115,t._wayWallList.length):t._wayWallList).length-1;n>=0;n--){if(n==u.length-1&&(d=u[n].cc),d!=u[n].cc){for(var _=5-(p%5==0?5:p%5),y=0;y<_;y++)c.push(0);d=u[n].cc,p=0,c.reverse(),l.UIUtil.Concat(h,c),c=[]}c.push(u[n].cc),p++}var f=5-(p%5==0?5:p%5);for(y=0;y<f;y++)c.push(0);c.reverse(),l.UIUtil.Concat(h,c),h.reverse();var m;for(m=h.length>115?h.slice(h.length-115,h.length):h,this.ui_listABWinRecord.removeChildrenToPool(),y=0;y<115;y++){var g=this.ui_listABWinRecord.addItemFromPool().asCom;g.getController("type").setSelectedIndex(0),0!=m[y]&&g.getController("type").setSelectedIndex(m[y])}}},e.prototype.cardValToStr=function(t){return 1==t?"A":11==t?"J":12==t?"Q":13==t?"K":t+""},e}(a.default);i.default=r,cc._RF.pop()},{"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/util/UIUtil":void 0}],ABUserComp:[function(t,e,i){"use strict";cc._RF.push(e,"277d105qiJB8pfFVWVh+GTC","ABUserComp");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,i,a):s(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=t("../../../Common/script/base/ViewBase"),l=t("../../../Boot/scirpt/AppConst"),r=t("../../../Common/script/util/UIUtil"),u=cc._decorator,h=u.ccclass,c=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_emoji=null,e.ui_nameText=null,e.ui_golbText=null,e.ui_headLoad=null,e.ui_winloseNode=null,e.ui_userInfo=null,e.ui_winLVAnim=null,e.isLoadEnd=!1,e.isMySelf=!1,e.serverpos=0,e.WinLV=0,e.winLVAnimNode=null,e}return s(e,t),e.prototype.AutoSetGoProperty=function(){},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this)},e.prototype.OnLoadCompleted=function(){t.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},e.prototype.MyStart=function(t){this.mystart=!0,this.OnLoadEndCallBack=t,this.isLoadEnd&&this.MyStartEx()},e.prototype.MyStartEx=function(){t.prototype.AutoSetGoProperty.call(this),this.OnLoadEndCallBack&&this.OnLoadEndCallBack(),this.AddLister(),this.Init(),this.Hide()},e.prototype.AddLister=function(){},e.prototype.Init=function(){var t=this;cc.assetManager.getBundle("AndarBahar").load("res/prefabs/liansheng_lizi",cc.Prefab,function(e,i){cc.isValid(t.node)&&(e||null==t.ui_winLVAnim||(t.winLVAnimNode=cc.instantiate(i),t.ui_winLVAnim.node.addChild(t.winLVAnimNode),t.winLVAnimNode.active=!0,t.SetWinLVAnim(!1)))})},e.prototype.updateUserMessage=function(t){if(this.player=t,null!=this.player){this.player.userid==l.AppConst.mPlayerModel.userid?this.isMySelf=!0:this.isMySelf=!1,this.setControllerProperty("isMySelf",this.isMySelf?1:0),this.showWinLoseText(!1),r.UIUtil.SetLimitTxt(this.ui_nameText,this.player._wechat.wName,6),this.serverpos=this.player.pos;var e=l.AppConst.gameStatus[1]==l.EnumGameStatus.Hide?"":"R$:";this.ui_golbText.text=e+r.UIUtil.formatNumber100(this.player.gold)+"";var i=this.player._wechat.wicon;r.UIUtil.loadImage(this.ui_headLoad,i),this.Show()}else this.Clear()},e.prototype.showWinLoseText=function(t,e){var i=this;if(void 0===e&&(e=0),t&&e>0){var n=l.AppConst.gameStatus[1]==l.EnumGameStatus.Hide?"":"R$+";e=r.UIUtil.formatNumber100(e),this.ui_winloseNode.getChild("winTxt").visible=e>=0,this.ui_winloseNode.getChild("loseTxt").visible=e<0,e>=0?this.ui_winloseNode.getChild("winTxt").text=n+e:this.ui_winloseNode.getChild("loseTxt").text="-"+e,this.ui_winloseNode.visible=!1,this.ui_winloseNode.visible=!0,this.scheduleOnce(function(){i.ui_winloseNode.visible=!1},2.5)}else this.ui_winloseNode.visible=!1},e.prototype.showEmj=function(t){var e=this;this.unschedule(this.emjTimer),this.ui_emoji.url="ui://GameCommon/"+t,this.scheduleOnce(this.emjTimer=function(){e.ui_emoji.url=""},2)},e.prototype.UpdateMoney=function(t){if(void 0===t&&(t=-999999),this.player){this.player.gold=-999999==t?this.player.gold:t;var e=l.AppConst.gameStatus[1]==l.EnumGameStatus.Hide?"":"R$:";this.ui_golbText.text=e+r.UIUtil.formatNumber100(this.player.gold)+""}},e.prototype.SetHeadState=function(t){this.ui_userInfo.getController("headState").setSelectedIndex(t)},e.prototype.SetWinLVAnim=function(t,e){void 0===e&&(e=0),r.UIUtil.formatNumber100(e)<4e3&&(this.WinLV=this.WinLV<=0?0:this.WinLV-1),r.UIUtil.formatNumber100(e)>=4e3&&(this.WinLV=this.WinLV>=3?3:this.WinLV+1),this.winLVAnimNode.getChildByName("liansheng1").active=!1,this.winLVAnimNode.getChildByName("liansheng2").active=!1,this.winLVAnimNode.getChildByName("liansheng3").active=!1,t&&this.WinLV>0&&(this.winLVAnimNode.getChildByName("liansheng"+this.WinLV).active=!0)},e.prototype.Clear=function(){this.Hide()},o([h],e)}(a.default));i.default=c,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/util/UIUtil":void 0}],ABView:[function(t,e,i){"use strict";cc._RF.push(e,"fc177yzVpVMMZODxEPeuLlc","ABView");var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,i,a):s(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});var a=t("../../../Common/script/base/AudioManager"),l=t("../../../Common/script/base/BaseCode"),r=t("../../../Common/script/base/BaseFrameNative"),u=t("../../../Common/script/base/CommonCtr"),h=t("../../../Common/script/base/CommonView"),c=t("../../../Common/script/base/PublicMethods"),p=t("../../../Common/script/base/ReconnectManager"),d=t("../../../Common/script/base/ReportManager"),_=t("../../../Common/script/base/SceneManager"),y=t("../../../Common/script/base/ViewBase"),f=t("../../../Common/script/base/WebSocketManager"),m=t("../../../Boot/scirpt/AppConst"),g=t("../../../Common/script/util/UIUtil"),C=t("../../../GameHall/script/Module/ChatView/ChatView"),A=t("../../../GameHall/script/Module/ComSettingView/ComSettingView"),b=t("../../../GameHall/script/Module/RechargeView/RechargeView"),v=t("../Controller/ABController"),B=t("../Controller/ABQueueMessages"),M=t("../Model/ABNetData"),S=t("../Model/AndarBahar"),w=t("./ABCardComp"),P=t("./ABChipTemplate"),x=t("./ABDanmuCom"),L=t("./ABMiniRecord"),T=t("./ABPlayerList"),U=t("./ABRecordPanel"),N=t("./ABUserComp"),I=cc._decorator.ccclass,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_txtCountDown=null,e.ui_MiniRecord=null,e.ui_userME=null,e.ui_userWinner=null,e.ui_userLucky=null,e.ui_user1=null,e.ui_user2=null,e.ui_user3=null,e.ui_user4=null,e.userME=null,e.userWinner=null,e.userLucky=null,e.user1=null,e.user2=null,e.user3=null,e.user4=null,e.UserManager=[],e.ui_btnWatch=null,e.ui_helpPanel=null,e.ui_btn_help=null,e.ui_btn_close_help=null,e.ui_btn_setting=null,e.ui_btnRecord=null,e.ui_RecordPanel=null,e.ui_btnRecharge=null,e.ui_BetLVA=null,e.ui_BetLVB=null,e.imgBetLVA=null,e.imgBetLVB=null,e.ui_btn_dmswitch=null,e.ui_DanmuCom=null,e.ui_WinnerImg=null,e.ui_LuckyImg=null,e.ui_otherUserWin=null,e.ui_otherChipStartNode=null,e.ui_btnChip10=null,e.ui_btnChip50=null,e.ui_btnChip100=null,e.ui_btnChip1000=null,e.ui_btnChip5000=null,e.ui_BetDistrict=null,e.ui_ChipManager=null,e.ui_SendCardScenter=null,e.ui_SendABCardComp=null,e.ui_JokerCard=null,e.ui_ASendPos=null,e.ui_BSendPos=null,e.ui_SendCardNum=null,e.ui_TxtSendCardNum=null,e.ui_OtherPlayerPanel=null,e.OtherPlayerPanel=null,e.selectBet=0,e.mapBetButton=new Map,e.mapTextAllBet=new Map,e.mapTextMyBet=new Map,e.mapMultiple=new Map,e.ui_betbegins=null,e.ui_WaitPanel=null,e.ui_btnSet=null,e.ui_betstops=null,e.ui_MenuTip=null,e.ui_btn_toHall=null,e.ui_btn_CloseMenu=null,e.ui_btnChat=null,e.ui_RechargeTip=null,e.ui_btn_addCash=null,e.ui_btn_closeCash=null,e.isCanBet=!1,e.miniRecord=null,e.recordPanel=null,e.ChatTip=null,e.WinBGImages=new Map,e.ui_star=null,e.ui_star1=null,e.spStarNodeA=null,e.spStarNodeB=null,e.ui_waitPanel_text=null,e.ui_recordPanel_title=null,e.ui_recordPanel_sideBets=null,e.ui_recordPanel_playRoutines=null,e.ui_recordPanel_andar=null,e.ui_recordPanel_bahar=null,e.ui_recordPanel_andar_wins=null,e.ui_recordPanel_bahar_wins=null,e.ui_otherPlayer_title=null,e.ui_otherPlayer_winround=null,e.ui_otherPlayer_win=null,e.ui_helpPanel_title=null,e.ui_helpPanel_scrolView_n0=null,e.ui_helpPanel_scrolView_n1=null,e.ui_helpPanel_scrolView_n2=null,e.ui_helpPanel_scrolView_n3=null,e.ui_helpPanel_scrolView_n4=null,e.ui_menu_btn_toHall_title=null,e.ui_menu_btn_help_title=null,e.ui_menu_btn_setting_title=null,e.ui_setting_title=null,e.ui_setting_n9=null,e.ui_setting_n10=null,e.ui_setting_btnsetLanguage_n6=null,e.ui_setting_btnsetLanguage_n7=null,e.ui_resver=null,e.ui_addCash_Tip_title=null,e.ui_addCash_Tip_n7=null,e.ui_addCash_Tip_n8=null,e.ui_btn_addCash_title=null,e.ui_playerlist_miluonaire=null,e.ui_playerlist_Lucky=null,e.ui_playerlist_win=null,e.ui_playerlist_winRound=null,e.misssuser=[],e.SelectChipBtn=null,e.bets=[10,50,100,1e3,5e3],e.talbeChip=[],e.updateOneBetTpos=0,e.QueueChips=[],e.twSlefBetAnims=[],e.twAllBetAnims=[],e.chipPool=[],e.listABCards=[],e.nowAB=1,e.cardPool=[],e.isCanExeTexMas=!0,e.sendCardIndex=0,e.sendCardAll=[],e.twSendABCardComp=null,e.sendABTiem=0,e.addCash=null,e}return s(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"AndarBahar"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/AndarBahar"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"ABMain"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Model",{get:function(){return v.default.instance.Model},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),fgui.GRoot.create(),fgui.UIObjectFactory.setExtension("ui://AndarBahar/ChipTemplate",P.default),fgui.UIObjectFactory.setExtension("ui://AndarBahar/cardCom",w.default)},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),c.PublicMethods.screenFit2(this.fguiComponent)},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this)},e.prototype.OnLoadLanguage=function(){var t=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Andarbahar);for(var e in t){var i=t[e];if(i&&i.comp&&this[i.comp]){var n="1"==m.AppConst.languageType?i.english:i.hindi;1==i.type?this[i.comp].text=n:this[i.comp].url="ui://AndarBahar/"+n}}},e.prototype.loadSounds=function(){cc.assetManager.getBundle("AndarBahar").loadDir("res/Sounds",cc.AudioClip,function(t,e){for(var i=0;i<e.length;i++)a.AudioManager.Singleton.add(e[i].name,e[i])})},e.prototype.OnLoadCompleted=function(){var t=cc.winSize.width/this.fguiComponent.node.width,e=cc.winSize.height/this.fguiComponent.node.height;this.fguiComponent.node.setScale(t,e),v.default.instance.view=this,this.ui_txtCountDown.text="0",this.ui_TxtSendCardNum.text="0",this.tipView=this.addFguiComponent(h.default),cc.game.off(cc.game.EVENT_SHOW),cc.game.on(cc.game.EVENT_SHOW,this.gameEventShow.bind(this)),cc.game.off(cc.game.EVENT_HIDE),cc.game.on(cc.game.EVENT_HIDE,this.gameEventHide.bind(this)),this.Init()},e.prototype.gameEventShow=function(){var t=this;cc.game.resume(),this.isCanExeTexMas=!1,B.ABQueueMessages.instance.removeAllMes(),this.scheduleOnce(function(){t.sendReconnect()},.5)},e.prototype.sendReconnect=function(){this._isDestory||(this.tipView.ShowLoading(),p.ReconnectManager.getInstance.reconnect(this.connectSuccess.bind(this),this.connectFail.bind(this)))},e.prototype.connectSuccess=function(){var t=this;this.tipView.ShowLoading(),this.scheduleOnce(function(){t.cs_entertable_AndBah(),t.clearTableInfo()},1)},e.prototype.connectFail=function(t){var e=this;this._isDestory||this.tipView||this.tipView.ShowTip(t,function(){e.sendReconnect()})},e.prototype.gameEventHide=function(){this.unscheduleAllCallbacks(),cc.game.pause()},e.prototype.Init=function(){r.BaseFrameNative.nowGameView=this,r.BaseFrameNative.isInHall=!1,this.fguiComponent.visible=!0,v.default.instance.UnRegistNotify(),v.default.instance.RegistNotyfy(),this.loadSounds(),this.InitEvent(),this.initManager(),this.OnLoadLanguage()},e.prototype.initManager=function(){var t=this;this.unscheduleAllCallbacks(),this.OtherPlayerPanel=this.ui_OtherPlayerPanel.node.addComponent(T.default),this.OtherPlayerPanel.fguiComponent=this.ui_OtherPlayerPanel,this.ui_OtherPlayerPanel.visible=!0,this.OtherPlayerPanel.active=!0,this.OtherPlayerPanel.MyStart(),this.miniRecord=this.ui_MiniRecord.node.addComponent(L.default),this.miniRecord.fguiComponent=this.ui_MiniRecord,this.miniRecord.MyStart(),this.recordPanel=this.ui_RecordPanel.node.addComponent(U.default),this.recordPanel.fguiComponent=this.ui_RecordPanel,this.recordPanel.active=!0,this.ui_RecordPanel.visible=!0,this.recordPanel.MyStart(),this.ChatTip=this.addFguiComponent(C.default,!0),this.ChatTip.sendChatMsg=this.sendChatMsg.bind(this);var e=this.ui_DanmuCom.node.addComponent(x.default);e.fguiComponent=this.ui_DanmuCom,e.active=!0,this.peopleMsg=e.MyStart(),this.imgBetLVA=this.ui_BetLVA.getChild("xingxingImg").asImage,this.imgBetLVB=this.ui_BetLVB.getChild("xingxingImg").asImage,this.imgBetLVA.fillAmount=0,this.imgBetLVB.fillAmount=0,this.bundle||(this.bundle=cc.assetManager.getBundle(this.packageResourceName)),this.bundle.load("res/streak",cc.Prefab,function(e,i){var n=cc.instantiate(i),s=cc.instantiate(i);t.ui_star.node.addChild(n),t.ui_star1.node.addChild(s),t.ui_star1.node.opacity=180}),this.bundle.load("res/star",cc.Prefab,function(e,i){t.spStarNodeA=cc.instantiate(i),t.spStarNodeB=cc.instantiate(i),t.ui_BetLVA.node.addChild(t.spStarNodeA),t.ui_BetLVB.node.addChild(t.spStarNodeB),t.spStarNodeA.active=!1,t.spStarNodeB.active=!1}),null==this.userME?(this.userME=this.ui_userME.node.addComponent(N.default),this.userME.fguiComponent=this.ui_userME,this.userME.active=!0,this.userME.MyStart()):this.userME.Clear(),null==this.userWinner?(this.userWinner=this.ui_userWinner.node.addComponent(N.default),this.userWinner.fguiComponent=this.ui_userWinner,this.userWinner.active=!0,this.userWinner.MyStart()):this.userWinner.Clear(),null==this.userLucky?(this.userLucky=this.ui_userLucky.node.addComponent(N.default),this.userLucky.fguiComponent=this.ui_userLucky,this.userLucky.active=!0,this.userLucky.MyStart()):this.userLucky.Clear(),null==this.user1?(this.user1=this.ui_user1.node.addComponent(N.default),this.user1.fguiComponent=this.ui_user1,this.user1.active=!0,this.user1.MyStart()):this.user1.Clear(),null==this.user2?(this.user2=this.ui_user2.node.addComponent(N.default),this.user2.fguiComponent=this.ui_user2,this.user2.active=!0,this.user2.MyStart()):this.user2.Clear(),null==this.user3?(this.user3=this.ui_user3.node.addComponent(N.default),this.user3.fguiComponent=this.ui_user3,this.user3.active=!0,this.user3.MyStart()):this.user3.Clear(),null==this.user4?(this.user4=this.ui_user4.node.addComponent(N.default),this.user4.fguiComponent=this.ui_user4,this.user4.active=!0,this.user4.MyStart(this.initState.bind(this))):(this.user4.Clear(),this.initState()),this.UserManager=[],this.UserManager.push(this.user1),this.UserManager.push(this.user2),this.UserManager.push(this.user3),this.UserManager.push(this.user4),this.UserManager.push(this.userLucky),this.UserManager.push(this.userWinner)},e.prototype.InitEvent=function(){var t=this;this.ui_btnChip10.clearClick(),this.ui_btnChip10.onClick(function(){t.SelectChip(t.ui_btnChip10,t.bets[0])}),this.ui_btnChip50.clearClick(),this.ui_btnChip50.onClick(function(){t.SelectChip(t.ui_btnChip50,t.bets[1])}),this.ui_btnChip100.clearClick(),this.ui_btnChip100.onClick(function(){t.SelectChip(t.ui_btnChip100,t.bets[2])}),this.ui_btnChip1000.clearClick(),this.ui_btnChip1000.onClick(function(){t.SelectChip(t.ui_btnChip1000,t.bets[3])}),this.ui_btnChip5000.clearClick(),this.ui_btnChip5000.onClick(function(){t.SelectChip(t.ui_btnChip5000,t.bets[4])}),this.mapBetButton=new Map,this.mapTextAllBet=new Map,this.mapTextMyBet=new Map,this.mapMultiple=new Map;for(var e=function(){var e=n,s=i.ui_BetDistrict.getChild("btnBet_"+e).asButton;i.mapBetButton.set(e,s),s.clearClick(),s.onClick(function(){t.MySelfBetClick(s)});var o=i.ui_BetDistrict.getChild("allbet_"+e).asRichTextField;i.mapTextAllBet.set(e,o);var a=i.ui_BetDistrict.getChild("mybet_"+e).asRichTextField;i.mapTextMyBet.set(e,a);var l=i.ui_BetDistrict.getChild("multiple_"+e).asTextField;i.mapMultiple.set(e,l),i.WinBGImages.set(e,i.ui_BetDistrict.getChild("betWinBg_"+e).asImage)},i=this,n=1;n<=10;n++)e();this.ui_btnSet.onClick(this.openMenu,this),this.ui_btn_CloseMenu.onClick(this.closeMenu,this),this.ui_btn_toHall.onClick(function(){t.closeMenu(),t.cs_applyexittable_AndBah()},this),this.ui_btnWatch.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),v.default.instance.cs_getroomplayerlist_AndBah(!0,0,21)}),this.ui_btn_help.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.closeMenu(),t.ui_helpPanel.visible=!0}),this.ui_btn_close_help.onClick(function(){a.AudioManager.Singleton.play("GameCommon","btn_close"),t.ui_helpPanel.visible=!1}),this.ui_btnRecord.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.showRecordPanel()}),this.ui_btn_setting.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.closeMenu(),t.settingView?t.settingView.Show():(t.settingView=t.addFguiComponent(A.default,!0),t.settingView.selectLanguageFun=function(){t.OnLoadLanguage(),t.Model.UpdateVariationLanguage()})}),this.ui_MenuTip.getChild("btn_CloseMenu").asButton.onClick(function(){a.AudioManager.Singleton.play("GameCommon","btn_close"),t.closeMenu()}),this.ui_btnChat.clearClick(),this.ui_btnChat.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_slider"),t.ChatTip.Show()}),this.ui_btnRecharge.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.showAddCash()}),this.ui_btn_addCash.onClick(function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),t.ui_RechargeTip.visible=!1,t.showAddCash()}),this.ui_btn_closeCash.onClick(function(){a.AudioManager.Singleton.play("GameCommon","btn_close"),t.ui_RechargeTip.visible=!1}),this.ui_btn_dmswitch.onClick(this.barrageSwitch,this),this.ui_btn_dmswitch.selected=!0},e.prototype.onChangedSound=function(t){var e=t.value/100;a.AudioManager.Singleton.YinxiaoVolume=e},e.prototype.onChangedMusic=function(t){var e=t.value/100;a.AudioManager.Singleton.MusicVolume=e},e.prototype.initState=function(){var t=this;this.scheduleOnce(function(){t.cs_entertable_AndBah(),a.AudioManager.Singleton.playBGM("bairenBG")},1)},e.prototype.cs_entertable_AndBah=function(){if(f.WebSocketManager.getInstance.webSocket.getConnectState()){this.isCanExeTexMas=!0;var t=new M.cs_entertable_AndBah;t.levelid=g.UIUtil.CheckGameLeveID(v.default.instance.Model.gameid,m.AppConst.currentlevelid),t.tableid=m.AppConst.tableid||0,t._g=v.default.instance.Model.gameid,t.fn="cs_entertable_AndBah",f.WebSocketManager.getInstance.SendJSON(t,this.sc_entertable_AndBah.bind(this))}else u.CommonCtr.instance.ShowTipCallback(l.BaseCode[m.AppConst.languageType][-205],function(){_.SceneManager.Singleton.loadScene("GameHall","gameHall")})},e.prototype.sc_entertable_AndBah=function(t){var e=this;if(B.ABQueueMessages.instance.removeAllMes(),this.clearTableInfo(),1==t.result){m.AppConst.tableid=t.tableid,m.AppConst.currentlevelid=t.levelid,this.Model.gameStatus=t.state,this.Model.userList=t._userlist,this.Model.pos=t.pos,this.Model.wayWallList=t._wayWallList,this.Model.AllAreaMaxLimit=[],this.Model.AllAreaMaxLimit=t.AllAreaMaxLimit,this.Model.PersonAreaMaxLimit=t.PersonAreaMaxLimit,this.Model.userListTotals=t.TotalNum,this.GameStatus(t.Endtime),this.updateTableUserInfo();for(var i=0,n=0;n<t._pos2Gold.length;n++)if(t._pos2Gold[n].pos==t.pos){i=t._pos2Gold[n].val;break}this.bets=i>=3e4?[10,50,100,1e3,5e3]:[1,5,10,50,100],this.ui_btnChip10.getChild("n3").asLoader.url="ui://AndarBahar/chip_"+this.bets[0],this.ui_btnChip50.getChild("n3").asLoader.url="ui://AndarBahar/chip_"+this.bets[1],this.ui_btnChip100.getChild("n3").asLoader.url="ui://AndarBahar/chip_"+this.bets[2],1e3==this.bets[3]?this.ui_btnChip1000.getChild("n3").asLoader.url="ui://AndarBahar/chip_1"+this.bets[3]:this.ui_btnChip1000.getChild("n3").asLoader.url="ui://AndarBahar/chip_"+this.bets[3],5e3==this.bets[4]?this.ui_btnChip5000.getChild("n3").asLoader.url="ui://AndarBahar/chip_1"+this.bets[4]:this.ui_btnChip5000.getChild("n3").asLoader.url="ui://AndarBahar/chip_"+this.bets[4],this.Model.fMultiple=t.fMultiple,this.SetMultiple(t.fMultiple),this.UpdateMiniRecord(t._PABProValue),this.SelectChip(this.ui_btnChip10,this.bets[0]);var s=this.ui_JokerCard.getChild("val").asLoader;if(2==t.state){var o=t._pCard;o=o%100==14?o-13:o,s.url="ui://AndarBahar/"+o,this.miniRecord.setNowVale(t._pCard%100),this.RecoverTalbeData(t.otherBetList,t._p2GT)}else s.url="",this.ui_WaitPanel.visible=!0}else{var a=l.BaseErrorCode[m.AppConst.languageType][t.result]||l.BaseErrorCode[m.AppConst.languageType][0];this.tipView.ShowTip(a,function(){e.ExitGame()})}this.tipView.HideLoading()},e.prototype.RecoverTalbeData=function(t,e){var i=this;if(null!=t){for(var n=0;n<t.length;n++){var s=n,o=S.default.ArrayToMap(t[n].pos2Gameble),a=t[n].pos;null!=o&&0!=o.size&&o.forEach(function(t,e){var n=i.GetPlayerForID(a),s=g.UIUtil.accAdd(t,-i.AddMapUserAllBet(a,e,0));if(s<=0)return!0;i.AddMapUserAllBet(a,e,s),i.AddMapPosAllBet(e,s),n&&n.player&&i.BetMoveChip(e,n.ui_emoji.node,s,n.player.userid,!1)})}if(null!=e)for(var l=0;l<e.length;l++){s=l;var r=this.AddMapPosAllBet(e[s].pos,0),u=g.UIUtil.accAdd(e[s].val,-r);u<=0||(this.AddMapUserAllBet(0,e[s].pos,u),this.AddMapPosAllBet(e[s].pos,u),this.BetMoveChip(e[s].pos,this.ui_otherChipStartNode.node,u,0,!1))}}},e.prototype.sc_tablestart_AndBah_n=function(t){var e=this;this.Model.gameStatus=t.state,this.ui_WaitPanel.visible=!1,this.ui_betbegins.visible=!0,a.AudioManager.Singleton.play("","gamestart");var i=new M.wayBillInfoAB;i.cv=t.Pubcard%100,i.cc=0,this.chipPool.shift(),this.Model.wayWallList.push(i);var n=t._fPABPro;this.scheduleOnce(function(){e.ui_betbegins.visible=!1,e.SendJokerCard(t.Pubcard),e.UpdateMiniRecord(null),e.miniRecord.setNowVale(t.Pubcard%100),e.UpdateMiniRecord(n),e.countDown(10)},.5)},e.prototype.countDown=function(t,e){var i=this,n=t;this.ui_txtCountDown.text=n+"",this.countDownFun&&this.unschedule(this.countDownFun),this.schedule(this.countDownFun=function(){--n<0||(i.ui_txtCountDown.text=n+"",0==n&&e&&e())},1,t)},e.prototype.GameStatus=function(t){switch(this.Model.gameStatus){case M.TableAnBaStatusEnum.NoBanker:this.isCanBet=!1;break;case M.TableAnBaStatusEnum.PreGamble:case M.TableAnBaStatusEnum.Gambling:this.ui_WaitPanel.visible=!1,this.isCanBet=!0,this.countDown(t);break;case M.TableAnBaStatusEnum.ShowPrize:this.ui_WaitPanel.visible=!1,this.isCanBet=!1}},e.prototype.updateTableUserInfo=function(){this.userME.player=null,this.userWinner.player=null,this.userLucky.player=null,this.user1.player=null,this.user2.player=null,this.user3.player=null,this.user4.player=null,this.misssuser=[],this.Model.userList.sort(function(t,e){return e.gold-t.gold});for(var t=0;t<this.Model.userList.length;t++){var e=this.Model.userList[t];e.userid==m.AppConst.mPlayerModel.userid&&(this.userME.updateUserMessage(e),this.userME.SetHeadState(3==e.s?1:e.s)),1!=e.s&&3!=e.s||(this.userWinner.updateUserMessage(e),this.userWinner.SetHeadState(1),this.misssuser.push(e.userid)),2!=e.s&&3!=e.s||(this.userLucky.updateUserMessage(e),this.userLucky.SetHeadState(2),this.misssuser.push(e.userid))}var i=0;for(t=0;t<this.Model.userList.length;t++)i<=3&&-1==this.misssuser.indexOf(this.Model.userList[t].userid)&&(this.UserManager[i].updateUserMessage(this.Model.userList[t]),i++);if(null==this.userME.player){var n=new M.roomplayersd_AndBah;n._wechat=m.AppConst.mPlayerModel.wechat,n.betScore=0,n.cwScore=0,n.gold=m.AppConst.mPlayerModel.gold,n.pos=0,n.s=0,n.userid=m.AppConst.mPlayerModel.userid,n.winTimes=0,this.userME.updateUserMessage(n),this.userME.SetHeadState(0)}this.ui_WinnerImg.visible=null==this.userWinner.player,this.ui_LuckyImg.visible=null==this.userLucky.player,this.ui_btnWatch.getChild("n1").asTextField.text=this.Model.userListTotals?this.Model.userListTotals+"":"0",null==this.userWinner.player&&this.userWinner.Clear(),null==this.userLucky.player&&this.userLucky.Clear(),null==this.user1.player&&this.user1.Clear(),null==this.user2.player&&this.user2.Clear(),null==this.user3.player&&this.user3.Clear(),null==this.user4.player&&this.user4.Clear()},e.prototype.ShowOtherPlayerPanel=function(t){t?this.OtherPlayerPanel.Show():this.OtherPlayerPanel.Hide()},e.prototype.UpdateOtherPlayer=function(t){null!=t.playerlist&&(this.ShowOtherPlayerPanel(!0),this.Model.userListTotals=t.iCount,this.ui_btnWatch.getChild("n1").asTextField.text=this.Model.userListTotals?this.Model.userListTotals+"":"0",this.OtherPlayerPanel&&this.OtherPlayerPanel.fguiComponent.visible&&this.OtherPlayerPanel.ShowList(t.playerlist))},e.prototype.SelectChip=function(t,e){if(this.SelectChipBtn!=t){a.AudioManager.Singleton.play("","selectChip");var i=this.SelectChipBtn;i&&(i.node.stopAllActions(),i.node.runAction(cc.sequence(cc.moveTo(.2,cc.v2(i.node.x,-41)),cc.callFunc(function(){i.getController("isSelect").setSelectedIndex(0)})))),t&&(t.node.stopAllActions(),t.node.runAction(cc.sequence(cc.callFunc(function(){t.getController("isSelect").setSelectedIndex(1)}),cc.moveTo(.2,cc.v2(t.node.x,-2))))),this.SelectChipBtn=t,this.selectBet=e}},e.prototype.MySelfBetClick=function(t){if(0!=m.AppConst.mPlayerModel.bReCharge){if(this.Model.gameStatus==M.TableAnBaStatusEnum.Gambling&&this.isCanBet&&0!=this.selectBet)if(this.userME.player.gold<100*this.selectBet)this.tipView.ShowTipLabel(this.Model.GetLanguage(70001));else{var e=this.convertNodeSpaceAR(this.SelectChipBtn.node,t.node).sub(this.SelectChipBtn.node.position),i=-cc.v2(e.x,e.y).signAngle(cc.v2(0,1))/Math.PI*180,n=this.SelectChipBtn.node.x+20*Math.sin(-i/180*3.14),s=this.SelectChipBtn.node.y+20*Math.cos(-i/180*3.14),o=this.SelectChipBtn.node.x,a=this.SelectChipBtn.node.y;fgui.GTween.to2(o,a,n,s,.05).setTarget(this.SelectChipBtn.node,this.SelectChipBtn.node.setPosition).setRepeat(1,!0).setEase(fgui.EaseType.ElasticIn),v.default.instance.cs_gambleone_AndBah(100*this.selectBet,this.getTposByBetButton(t))}}else this.ui_RechargeTip.visible=!0},e.prototype.BetMoveChip=function(t,e,i,n,s){if(void 0===s&&(s=!0),!(this._isDestory||i<=0)){var o=g.UIUtil.formatNumber100(i),a=[];if(n==m.AppConst.mPlayerModel.userid)return(r=this.getChip()).isActive=!0,r.setBetNum(o),r.userID=n,r.startNode=e,r.tPos=t,r.isAnim=s,r.setScale(.8,.8),r.visible=!1,void this.MoveChipQueueOne(r,!0);for(var l=4;o>=1;){var r,u=Math.random()>.3;o>=this.bets[l]?((r=this.getChip()).isActive=!0,r.userID=n,r.startNode=e,r.tPos=t,r.isAnim=s,r.setScale(.8,.8),r.visible=!1,a[a.length]=r,u&&l-1>=0?(o-=this.bets[l-1],r.setBetNum(this.bets[l-1])):(o-=this.bets[l],r.setBetNum(this.bets[l]))):(o<this.bets[0]&&(o=0),l--)}this.MoveChipQueue2(a)}},e.prototype.MoveChipQueue=function(){var t=this,e=this.QueueChips.shift();if(!this._isDestory&&e){e.visible=!0,e.isActive=!0,e.node.anchorX=.5,e.node.anchorY=.5,this.moveN1toN2(e.node,e.startNode);var i=this.getBetDistrictByTpos(e.tPos),n=this.convertNodeSpaceAR(e.node,i.node);n.x+=80,n.y-=40;var s=cc.v2(n.x+i.width-e.width-60,n.y-i.height+e.height+20),o=cc.v2(this.getRandomNumInt(n.x,s.x),this.getRandomNumInt(s.y,n.y));e.node.stopAllActions();var l=this.GetPlayerForID(e.userID);if(e.isAnim&&!this.ui_betstops.visible){var r=+(e.node.position.sub(cc.v3(o.x,o.y,0)).mag()/4e3).toFixed(2),u=cc.spawn(cc.moveTo(r,o).easing(cc.easeSineOut()),cc.rotateBy(r,0).easing(cc.easeSineOut()));if(e.node.runAction(u),null==l||l.isMySelf?null==l&&this.ShakeHead(this.ui_btnWatch.node):this.ShakeHead(l.ui_userInfo.node),null!=l&&l.isMySelf){var h=Number.parseInt(this.mapTextMyBet.get(e.tPos).text);this.mapTextMyBet.get(e.tPos).text=g.UIUtil.accAdd(h,e.gold)+""}var c=Number.parseInt(this.mapTextAllBet.get(e.tPos).text.replace("/",""));this.mapTextAllBet.get(e.tPos).text="/"+g.UIUtil.accAdd(c,e.gold)}else e.node.position=cc.v3(o.x,o.y,0);null!=l&&l.isMySelf?e.tUserNode=this.userME.ui_emoji.node:l&&l.player&&this.userWinner.player&&this.userLucky.player&&this.userWinner.player.userid==l.player.userid&&this.userLucky.player.userid==l.player.userid?e.tUserNode=this.userWinner.ui_emoji.node:e.tUserNode=null==l?this.ui_otherChipStartNode.node:l.ui_emoji.node,this.talbeChip[this.talbeChip.length]=e,a.AudioManager.Singleton.play("","bet"),this.QueueChips.length>0?(e.isAnim&&!this.ui_betstops.visible?this.scheduleOnce(function(){t.MoveChipQueue()},.02):this.MoveChipQueue(),0!=this.updateOneBetTpos&&e.tPos!=this.updateOneBetTpos&&(this.UpdateAllBetByTpos([e.tPos]),this.updateOneBetTpos=e.tPos)):this.UpdateAllBetByTpos([1,2,3,4,5,6,7,8,9,10])}},e.prototype.MoveChipQueue2=function(t){for(var e=this,i=t.length,n=function(){var n=o;s.scheduleOnce(function(){e.MoveChipQueueOne(t[n],n==i-1)},s.ui_betstops.visible?0:.15*n)},s=this,o=0;o<i;o++)n()},e.prototype.MoveChipQueueOne=function(t,e){if(!this._isDestory&&t){t.visible=!0,t.isActive=!0,t.node.anchorX=.5,t.node.anchorY=.5,this.moveN1toN2(t.node,t.startNode);var i=this.getBetDistrictByTpos(t.tPos),n=this.convertNodeSpaceAR(t.node,i.node);n.x+=80,n.y-=40;var s=cc.v2(n.x+i.width-t.width-60,n.y-i.height+t.height+20),o=cc.v2(this.getRandomNumInt(n.x,s.x),this.getRandomNumInt(s.y,n.y));t.node.stopAllActions();var l=this.GetPlayerForID(t.userID);if(t.isAnim&&!this.ui_betstops.visible){var r=+(t.node.position.sub(cc.v3(o.x,o.y,0)).mag()/4e3).toFixed(2),u=cc.spawn(cc.moveTo(r,o).easing(cc.easeSineOut()),cc.rotateBy(r,0).easing(cc.easeSineOut()));if(t.node.runAction(u),null==l||l.isMySelf?null==l&&this.ShakeHead(this.ui_btnWatch.node):this.ShakeHead(l.ui_userInfo.node),null!=l&&l.isMySelf){var h=Number.parseInt(this.mapTextMyBet.get(t.tPos).text);this.mapTextMyBet.get(t.tPos).text=g.UIUtil.accAdd(h,t.gold)+""}var c=Number.parseInt(this.mapTextAllBet.get(t.tPos).text.replace("/",""));this.mapTextAllBet.get(t.tPos).text="/"+g.UIUtil.accAdd(c,t.gold)}else t.node.position=cc.v3(o.x,o.y,0);null!=l&&l.isMySelf?t.tUserNode=this.userME.ui_emoji.node:l&&l.player&&this.userWinner.player&&this.userLucky.player&&this.userWinner.player.userid==l.player.userid&&this.userLucky.player.userid==l.player.userid?t.tUserNode=this.userWinner.ui_emoji.node:t.tUserNode=null==l?this.ui_otherChipStartNode.node:l.ui_emoji.node,this.talbeChip[this.talbeChip.length]=t,a.AudioManager.Singleton.play("","bet"),0!=this.updateOneBetTpos&&t.tPos!=this.updateOneBetTpos&&(this.UpdateAllBetByTpos([t.tPos]),this.updateOneBetTpos=t.tPos),e&&this.UpdateAllBetByTpos([1,2,3,4,5,6,7,8,9,10])}},e.prototype.UpdateAllBetByTpos=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=g.UIUtil.formatNumber100(this.AddMapUserAllBet(m.AppConst.mPlayerModel.userid,i,0)),s=g.UIUtil.formatNumber100(this.AddMapPosAllBet(i,0));this.mapTextAllBet.get(i).text="/"+s,this.mapTextMyBet.get(i).text=n+""}},e.prototype.AddMapUserAllBet=function(t,e,i){this.Model.mapUserAllBet.get(t)||this.Model.mapUserAllBet.set(t,[0,0,0,0,0,0,0,0,0,0]);var n=this.Model.mapUserAllBet.get(t)[e-1];return n=g.UIUtil.accAdd(n,i),this.Model.mapUserAllBet.get(t)[e-1]=n,n},e.prototype.AddMapPosAllBet=function(t,e){this.Model.mapPosAllBet.get(t)||this.Model.mapPosAllBet.set(t,0);var i=this.Model.mapPosAllBet.get(t);return i=g.UIUtil.accAdd(i,e),this.Model.mapPosAllBet.set(t,i),i},e.prototype.SetMultiple=function(t){for(var e=1;e<=10;e++)this.mapMultiple.get(e).text="X"+t[e-1]},e.prototype.sc_gambleone_AndBah_n=function(t){var e=this.getUserComByID(t.pos);if(e&&e.player&&e.isMySelf){if(m.AppConst.isGoldCosted=!0,this.userLucky.player&&e.player.userid==this.userLucky.player.userid&&[1,2].indexOf(t.tpos)>=0&&g.UIUtil.formatNumber100(this.AddMapUserAllBet(t.pos,t.tpos,0))<1e3){var i=g.UIUtil.accAdd(this.AddMapUserAllBet(t.pos,t.tpos,0),t.gamble);this.flyStar(g.UIUtil.formatNumber100(i),t.tpos)}this.AddMapUserAllBet(t.pos,t.tpos,t.gamble),this.AddMapPosAllBet(t.tpos,t.gamble),e.UpdateMoney(t._curGold),this.BetMoveChip(t.tpos,this.SelectChipBtn.node,t.gamble,e.player.userid)}},e.prototype.sc_gamblearea_AndBah_n=function(t){this.tableUserStake(t.otherBetList),this.OtherUserStake(t._p2GT),this.ui_btnWatch.getChild("n1").asTextField.text=t.pc+""},e.prototype.tableUserStake=function(t){for(var e=this,i=0;i<t.length;i++){var n=i,s=S.default.ArrayToMap(t[n].pos2Gameble),o=t[n].pos;o!=m.AppConst.mPlayerModel.userid&&null!=s&&0!=s.size&&s.forEach(function(t,i){var n=e.GetPlayerForID(o),s=g.UIUtil.accAdd(t,-e.AddMapUserAllBet(o,i,0));if(s<=0)return!0;if(n&&n.player&&e.userLucky.player&&n.player.userid==e.userLucky.player.userid&&[1,2].indexOf(i)>=0&&g.UIUtil.formatNumber100(e.AddMapUserAllBet(o,i,0))<1e3){var a=g.UIUtil.accAdd(e.AddMapUserAllBet(o,i,0),s);e.flyStar(g.UIUtil.formatNumber100(a),i)}e.AddMapUserAllBet(o,i,s),e.AddMapPosAllBet(i,s),n&&n.player&&e.BetMoveChip(i,n.ui_emoji.node,s,n.player.userid)})}},e.prototype.OtherUserStake=function(t){for(var e=this.bets[0]<10,i=0;i<t.length;i++){var n=i,s=this.AddMapPosAllBet(t[n].pos,0),o=g.UIUtil.accAdd(t[n].val,-s);if(!(o<=0)){if(e){var a=Math.floor(o%1e4/1e3);o=Math.floor(o-100*a)}this.AddMapUserAllBet(0,t[n].pos,o),this.AddMapPosAllBet(t[n].pos,o),this.BetMoveChip(t[n].pos,this.ui_otherChipStartNode.node,o,0)}}},e.prototype.getBetDistrictByTpos=function(t){return this.mapBetButton.get(t)},e.prototype.getTposByBetButton=function(t){var e=0;return this.mapBetButton.forEach(function(i,n){i==t&&(e=n)}),e},e.prototype.getChip=function(){var t=null;return t=!(t=this.chipPool[0])||t.isActive?fgui.UIPackage.createObject("AndarBahar","ChipTemplate"):this.chipPool.shift(),this.ui_ChipManager.addChild(t),t},e.prototype.addChipToPool=function(t){this.chipPool[this.chipPool.length]=t,t.isActive=!1,t.visible=!1},e.prototype.cleanPool=function(){for(;this.chipPool.length;)this.chipPool.pop().dispose();this.chipPool=null},e.prototype.getDistrictChip=function(t){for(var e=[],i=0;i<this.chipPool.length;i++)this.chipPool[i].name.split("_")[1]==t&&e.push(this.chipPool[i]);return e},e.prototype.getRandomNumInt=function(t,e){var i=e-t,n=Math.random();return t+Math.round(n*i)},e.prototype.SendJokerCard=function(t){var e=this;a.AudioManager.Singleton.play("","card_deal");var i=this.ui_JokerCard.getChild("val").asLoader;t=t%100==14?t-13:t,i.url="ui://AndarBahar/"+t,this.moveN1toN2(i.node,this.ui_SendCardScenter.node),i.node.angle=0,i.node.scale=.3;var n=cc.tween;n(i.node).parallel(n().to(.3,{position:cc.v3(32,-49,0)}),n().to(.3,{angle:360}),n().to(.3,{scale:1})).call(function(){e.isCanBet=!0}).start()},e.prototype.sendMoreCard=function(){var t=this,e=this.sendCardAll.shift();e&&(this.SendABCard(e),this.scheduleOnce(function(){t.sendMoreCard()},.4))},e.prototype.SendABCard=function(t){a.AudioManager.Singleton.play("","card_deal");var e=this.getSendABCard();e.SetCardValue(t),this.moveN1toN2(e.node,this.ui_SendCardScenter.node);var i=this.convertNodeSpaceAR(e.node,this.ui_ASendPos.node);i=1==this.nowAB?this.convertNodeSpaceAR(e.node,this.ui_ASendPos.node):this.convertNodeSpaceAR(e.node,this.ui_BSendPos.node),i=cc.v3(i.x+60*g.UIUtil.NumberToInt(this.listABCards.length/2),i.y,0),this.nowAB=1==this.nowAB?2:1,e.node.angle=0,e.node.scale=.7;var n=this;(0,cc.tween)(this.ui_SendCardNum).to(.3,{x:86+i.x},{easing:"sineOut"}).start();var s=cc.tween;s(e.node).parallel(s().to(.3,{position:i},{easing:"sineOut"}),s().to(.3,{scale:1.6},{easing:"sineOut"})).call(function(){n.ui_TxtSendCardNum.text=n.listABCards.length+"",0==n.sendCardAll.length&&n.listABCards[n.listABCards.length-1].SetBg(!0)}).start(),this.listABCards.push(e)},e.prototype.getSendABCard=function(){var t;return t=this.cardPool.length<=0?fgui.UIPackage.createObject("AndarBahar","cardCom"):this.cardPool.shift(),this.ui_SendABCardComp.addChildAt(t,this.ui_SendABCardComp.numChildren-2),t},e.prototype.getUserComByID=function(t){if(t==m.AppConst.mPlayerModel.userid)return this.userME;if(this.userWinner.player&&t==this.userWinner.player.userid)return this.userWinner;for(var e=0;e<this.UserManager.length;e++)if(this.UserManager[e].player&&t==this.UserManager[e].player.userid)return this.UserManager[e]},e.prototype.moveN1toN2=function(t,e){t.position=t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))},e.prototype.convertNodeSpaceAR=function(t,e){return t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))},e.prototype.openMenu=function(){a.AudioManager.Singleton.play("GameCommon","pop_up"),this.ui_MenuTip.visible=!0},e.prototype.closeMenu=function(){this.ui_MenuTip.visible=!1},e.prototype.TimeOutExitGame=function(){var t=this;v.default.instance.UnRegistNotify(),this.isCanExeTexMas=!1,B.ABQueueMessages.instance.removeAllMes(),this.Model.endData&&this.Model.endData._tickme?this.scheduleOnce(function(){t.tipView.ShowTip(t.Model.GetLanguage(70002),function(){t.ExitGame()})},this.sendABTiem+10):this.ExitGame()},e.prototype.ExitGame=function(){this.twSendABCardComp&&this.twSendABCardComp.stop(),m.AppConst.tableid=0,m.AppConst.currentlevelid=0,this._isDestory=!0,this.unscheduleAllCallbacks();for(var t=0;t<this.talbeChip.length;t++)this.talbeChip[t].node.stopAllActions();this.clearTableInfo(),B.ABQueueMessages.instance.removeAllMes(),v.default.instance.UnRegistNotify(),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE),cc.audioEngine.stopAll(),this.scheduleOnce(function(){_.SceneManager.Singleton.loadScene("GameHall","gameHall")},.5)},e.prototype.update=function(){this.isCanExeTexMas&&B.ABQueueMessages.instance.isCanExeNext()&&B.ABQueueMessages.instance.ExeNextMes()},e.prototype.GetPlayerForID=function(t){var e=null;return this.UserManager.forEach(function(i){i.player&&i.player.userid==t&&null==e&&(e=i)}),e},e.prototype.GetPlayerForPos=function(t){var e=null;return this.UserManager.forEach(function(i){if(i.player&&i.player.pos==t&&null==e)return e=i,!0}),e},e.prototype.sc_end_AndBah_n=function(t){var e=this;this.reportGameRound(t.sdlist.gold),this.isCanBet=!1,this.Model.gameStatus=t.state,this.sendABTiem=g.UIUtil.accMul(t._aCards.length+t._bCards.length,.4),this.sendCardAll=[];for(var i=0;i<t._aCards.length||i<t._bCards.length;i++)t._aCards[i]&&this.sendCardAll.push(t._aCards[i]),t._bCards[i]&&this.sendCardAll.push(t._bCards[i]);var n=this.sendABTiem+3.5+2,s=n+.5,o=s+4;if(this.scheduleOnce(function(){e.ui_betstops.visible=!0},.5),this.scheduleOnce(function(){e.ui_betstops.visible=!1,e.ui_SendABCardComp.visible=!0,e.ui_SendABCardComp.x=-2340,e.twSendABCardComp=cc.tween(e.ui_SendABCardComp).to(.3,{x:0},{easing:"sineOut"}).start()},2.5),this.scheduleOnce(function(){e.sendMoreCard()},3.5),this.scheduleOnce(function(){e.twSendABCardComp=cc.tween(e.ui_SendABCardComp).to(.3,{x:-2340},{easing:"sineOut"}).call(function(){e.ui_SendABCardComp.visible=!1}).start()},n),this.scheduleOnce(function(){var i=[],n=[],s=[],o=0;t.sdlist.gold>0&&(i.push(e.userME),n.push(t.sdlist.gold),s.push(t.gold)),m.AppConst.mPlayerModel.gold=t.gold;for(var a=function(){var a=l;if(e.userME.player&&t._pos2Gold[a].pos==e.userME.player.userid);else if(e.userWinner.player&&t._pos2Gold[a].pos==e.userWinner.player.userid&&t._pos2Gold[a].val>0)i.push(e.userWinner),n.push(t._pos2Gold[a].val),s.push(t.playerlist.find(function(e){return t._pos2Gold[a].pos==e.userid}).gold);else if(e.userLucky.player&&t._pos2Gold[a].pos==e.userLucky.player.userid&&t._pos2Gold[a].val>0)i.push(e.userLucky),n.push(t._pos2Gold[a].val),s.push(t.playerlist.find(function(e){return t._pos2Gold[a].pos==e.userid}).gold);else{var r=e.GetPlayerForID(t._pos2Gold[a].pos);r&&r.player&&0!=r.player.pos&&t._pos2Gold[a].val>0?(i.push(r),n.push(t._pos2Gold[a].val),s.push(t.playerlist.find(function(e){return t._pos2Gold[a].pos==e.userid}).gold)):o+=t._pos2Gold[a].val}},l=0;l<t._pos2Gold.length;l++)a();o>0&&(i.push(null),n.push(o),n.push(0)),e.RecycleChips(t.sdlist.resultType,i,n),e.ShowWinDistrict(!0,t.sdlist.resultType);var r=[],u=[];t.sdlist&&(r.push(e.userME),u.push(t.sdlist.gold)),e.UserManager.forEach(function(e){if(e.player){var i=t._pos2Gold.find(function(t){return t.pos==e.player.userid});i&&(r.push(e),u.push(i.val))}}),e.scheduleOnce(function(){e.ShowWinText(i,n,s),e.ShowWinLVAnim(r,u)},1.8)},s),0==this.Model.wayWallList.length){var a=new M.wayBillInfoAB;a.cc=0,a.cv=0,this.Model.wayWallList.push(a)}this.Model.wayWallList[this.Model.wayWallList.length-1].cc=t.sdlist.resultType.indexOf(1)>=0?1:2,this.countDown(0),this.scheduleOnce(function(){e.ShowWinDistrict(!1,t.sdlist.resultType),e.miniRecord.clearInfo(),e.clearTableInfo(),t._tickme?(v.default.instance.UnRegistNotify(),e.isCanExeTexMas=!1,B.ABQueueMessages.instance.removeAllMes(),e.tipView.ShowTip(e.Model.GetLanguage(70002),function(){v.default.instance.cs_applyexittable_AndBah()})):v.default.instance.cs_getroomplayerlist_AndBah(!1)},o)},e.prototype.reportGameRound=function(t){for(var e=this.Model.mapUserAllBet.get(m.AppConst.mPlayerModel.userid),i=0,n=0;e&&n<e.length;n++)if(e[n]>0){i+=e[n];break}i>0&&d.default.Singleton.reportGameRound(g.UIUtil.formatNumber100(i-t))},e.prototype.RecycleChips=function(t,e,i){var n=this,s=this.talbeChip.length;s>0&&a.AudioManager.Singleton.play("","wingetcoins");for(var o=function(){var e=l,i=n.talbeChip[e];if(null==i)return"continue";var s=n.convertNodeSpaceAR(i.node,n.ui_SendCardScenter.node);if(t.indexOf(i.tPos)>=0)return"continue";n.talbeChip.splice(e,1),l--,i.node.stopAllActions(),i.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(s.x,s.y)).easing(cc.easeSineOut()),cc.callFunc(function(){n.addChipToPool(i)})))},l=0;l<s;l++)o();this.scheduleOnce(function(){n.RecycleChipToTpos(t,e,i)},.5)},e.prototype.RecycleChipToTpos=function(t,e){var i=this;e.length>0&&a.AudioManager.Singleton.play("","wingetcoins");for(var n=0;n<e.length;n++){var s,o=n,l=null==e[o]?0:e[o].player.userid;s=null==e[o]?this.ui_otherChipStartNode.node:e[o].ui_emoji.node;for(var r=0,u=0;u<t.length;u++){var h=t[u];for(r=g.UIUtil.accMul(this.AddMapUserAllBet(l,h,0),this.Model.fMultiple[h-1]),r=g.UIUtil.accAdd(r,-this.AddMapUserAllBet(l,h,0)),r=g.UIUtil.formatNumber100(r);r>1;){r<10&&(r=10);for(var c=this.bets.length-1;c>=0;c--)if(r>=this.bets[c]){r=g.UIUtil.accAdd(r,-this.bets[c]);var p=this.getChip();p.setBetNum(this.bets[c]),p.tPos=h,p.tUserNode=s,p.setScale(.8,.8),p.visible=!0,this.moveN1toN2(p.node,this.ui_SendCardScenter.node);var d=this.getBetDistrictByTpos(h),_=this.convertNodeSpaceAR(p.node,d.node);_.x+=80,_.y-=40;var y=cc.v2(_.x+d.width-p.width-60,_.y-d.height+p.height+40),f=cc.v2(this.getRandomNumInt(_.x,y.x),this.getRandomNumInt(y.y,_.y));this.talbeChip[this.talbeChip.length]=p,p.node.stopAllActions(),p.node.runAction(cc.moveTo(.3,f).easing(cc.easeSineOut()));break}}}}this.scheduleOnce(function(){i.RecycleChipToWinUser()},.8)},e.prototype.RecycleChipToWinUser=function(){var t=this,e=this.talbeChip.length;e>0&&a.AudioManager.Singleton.play("","wingetcoins");for(var i=function(){var e=s,i=t.talbeChip[e];if(null==i)return"continue";var o=n.convertNodeSpaceAR(i.node,i.tUserNode);i.node.stopAllActions(),i.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(o.x,o.y)).easing(cc.easeSineOut()),cc.callFunc(function(){t.addChipToPool(i)})))},n=this,s=0;s<e;s++)i()},e.prototype.ShowWinText=function(t,e,i){t.length>0&&a.AudioManager.Singleton.play("","rummyWin");for(var n=0;n<t.length;n++)null!=t[n]&&(t[n].showWinLoseText(!0,e[n]),t[n].UpdateMoney(i[n]))},e.prototype.ShowWinLVAnim=function(t,e){for(var i=0;i<t.length;i++)null!=t[i]&&t[i].SetWinLVAnim(!0,e[i])},e.prototype.clearTableInfo=function(){var t=this;if(this.talbeChip.forEach(function(e){e.removeFromParent(),t.addChipToPool(e)}),this.ui_JokerCard.getChild("val").asLoader.url="",this.listABCards.forEach(function(e){e.SetBg(!1),e.removeFromParent(),t.cardPool.push(e)}),this.talbeChip=[],this.listABCards=[],this.nowAB=1,this.ui_betbegins.visible=!1,this.ui_betstops.visible=!1,this.ui_SendABCardComp.x=-2340,this.ui_TxtSendCardNum.text="0",this.ui_SendCardNum.x=this.convertNodeSpaceAR(this.ui_SendCardNum.node,this.ui_ASendPos.node).x,this.imgBetLVA.fillAmount=0,this.imgBetLVB.fillAmount=0,this.Model.mapUserAllBet=new Map,this.Model.mapPosAllBet=new Map,this.QueueChips&&this.QueueChips.length>0)for(var e=0;e<this.QueueChips.length;e++)this.addChipToPool(this.QueueChips[e]);this.QueueChips=[];var i=[1,2,3,4,5,6,7,8,9,10];this.UpdateAllBetByTpos(i),this.ShowWinDistrict(!1,i)},e.prototype.UpdateMiniRecord=function(t){var e;e=this.Model.wayWallList.length>7?this.Model.wayWallList.slice(this.Model.wayWallList.length-7,this.Model.wayWallList.length):this.Model.wayWallList,this.miniRecord.updateData(e,t)},e.prototype.showRecordPanel=function(){v.default.instance.cs_gethistory_AndBah()},e.prototype.sc_gethistory_AndBah=function(t){null!=t._ABProValue&&null!=t._ShowTimesList&&null!=t._wayWallList&&(this.recordPanel.updateData(t),this.recordPanel.Show())},e.prototype.sc_chat_n=function(t){var e=null;this.UserManager.forEach(function(i){null!=i.player&&i.player.userid==t.pos&&(e=i),null!=i.player&&(i.player.userid,t.tpos)}),null!=e&&(1==t.type||(2==t.type?(e.showEmj(t.content),this.ChatTip.addMsg({fromMe:e.isMySelf,content:t.content,head:e.player._wechat.wicon,type:t.type})):3==t.type?this.ChatTip.addMsg({fromMe:e.isMySelf,content:t.content,head:e.player._wechat.wicon,type:t.type}):t.type))},e.prototype.sendChatMsg=function(t,e){v.default.instance.cs_chat(t,e,this.userME.player.userid)},e.prototype.showAddCash=function(){this.addCash?this.addCash.Show():this.addCash=this.addFguiComponent(b.default),this.addCash.init(m.AppConst.tableid,this.userME.player.gold)},e.prototype.sc_addgoldingame=function(t){this.addCash&&this.addCash.Hide(),this.userME&&this.userME.player&&this.userME.isMySelf&&(m.AppConst.mPlayerModel.bReCharge=!0,this.userME.UpdateMoney(t.lGold),1==t.status&&this.tipView.ShowTipLabel(this.Model.GetLanguage(70003)))},e.prototype.SetBetLV=function(t,e){var i=this;if(-1!=t){this.spStarNodeA.active=!0;var n=this.spStarNodeA.getComponent(sp.Skeleton);n.timeScale=4,n.setAnimation(0,"animation",!1),n.setCompleteListener(function(){i.spStarNodeA.active=!1,i.imgBetLVA.fillAmount=t})}if(-1!=e){this.spStarNodeB.active=!0;var s=this.spStarNodeB.getComponent(sp.Skeleton);s.timeScale=4,s.setAnimation(0,"animation",!1),s.setCompleteListener(function(){i.spStarNodeB.active=!1,i.imgBetLVB.fillAmount=e})}},e.prototype.ShakeHead=function(t){if(!fgui.GTween.isTweening(t)){var e=this.convertNodeSpaceAR(t,this.ui_SendCardScenter.node).sub(t.position),i=-cc.v2(e.x,e.y).signAngle(cc.v2(0,1))/Math.PI*180,n=t.x+20*Math.sin(-i/180*3.14),s=t.y+20*Math.cos(-i/180*3.14),o=t.x,a=t.y;fgui.GTween.to2(o,a,n,s,.05).setTarget(t,t.setPosition).setRepeat(1,!0).setEase(fgui.EaseType.ElasticIn)}},e.prototype.barrageSwitch=function(){a.AudioManager.Singleton.play("GameCommon","btn_click"),this.peopleMsg.fguiComponent.visible=this.ui_btn_dmswitch.selected},e.prototype.sc_chat100_n=function(t){for(var e=this.ui_btn_dmswitch.selected,i=null==this.userWinner.player?0:this.userWinner.player.userid,n=null==this.userLucky.player?0:this.userLucky.player.userid,s=0;s<t.chatinfos.length;s++)t.chatinfos[s].pos==i?t.chatinfos[s].wLType=1:t.chatinfos[s].pos==n?t.chatinfos[s].wLType=2:t.chatinfos[s].wLType=0;for(e&&this.peopleMsg.addManyPeopleMsg(t.chatinfos),s=0;s<t.chatinfos.length;s++)""!=t.chatinfos[s].content&&this.ChatTip.addMsg({fromMe:t.chatinfos[s].pos==m.AppConst.mPlayerModel.userid,content:t.chatinfos[s].content,head:t.chatinfos[s].head,type:t.chatinfos[s].type})},e.prototype.ShowWinDistrict=function(t,e){for(var i=0;i<e.length;i++){var n=i,s=this.WinBGImages.get(e[n]);s.node.stopAllActions(),s.visible=t,t&&s.node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.4),cc.fadeOut(.4))))}this.listABCards[this.listABCards.length-1]&&this.listABCards[this.listABCards.length-1].ShowWinAnim(t)},e.prototype.flyStar=function(t,e){var i=this;if(!this.starAction||this.starAction.isDone()){this.moveN1toN2(this.ui_star.node,this.userLucky.ui_emoji.node),this.ui_star.visible=!0,this.moveN1toN2(this.ui_star1.node,this.userLucky.ui_emoji.node),this.ui_star1.visible=!0;var n=cc.v2(this.ui_star.node.x,this.ui_star.node.y),s=1==e?this.convertNodeSpaceAR(this.ui_star.node,this.ui_BetLVA.node):this.convertNodeSpaceAR(this.ui_star.node,this.ui_BetLVB.node),o=cc.v2(s.x,s.y),a=cc.v2((n.x+o.x)/2,-200);this.scheduleOnce(function(){i.ui_star1.node.runAction(cc.sequence(cc.bezierTo(.35,[n,a,o]),cc.callFunc(function(){i.ui_star1.visible=!1;var n=t/1e3;1==e?i.SetBetLV(n,-1):2==e&&i.SetBetLV(-1,n)})))},.1),this.starAction=this.ui_star.node.runAction(cc.sequence(cc.bezierTo(.5,[n,a,o]),cc.callFunc(function(){i.ui_star.visible=!1;var n=t/1e3;1==e?i.SetBetLV(n,-1):2==e&&i.SetBetLV(-1,n)})))}},e.prototype.cs_applyexittable_AndBah=function(){for(var t=!1,e=this.Model.mapUserAllBet.get(m.AppConst.mPlayerModel.userid),i=0;e&&i<e.length;i++)if(e[i]>0){t=!0;break}t&&[1,2].indexOf(this.Model.gameStatus)>=0?this.tipView.ShowTip(this.Model.GetLanguage(70004),function(){v.default.instance.cs_applyexittable_AndBah()},function(){}):v.default.instance.cs_applyexittable_AndBah()},o([I],e)}(y.default);i.default=O,cc._RF.pop()},{"../../../Boot/scirpt/AppConst":void 0,"../../../Common/script/base/AudioManager":void 0,"../../../Common/script/base/BaseCode":void 0,"../../../Common/script/base/BaseFrameNative":void 0,"../../../Common/script/base/CommonCtr":void 0,"../../../Common/script/base/CommonView":void 0,"../../../Common/script/base/PublicMethods":void 0,"../../../Common/script/base/ReconnectManager":void 0,"../../../Common/script/base/ReportManager":void 0,"../../../Common/script/base/SceneManager":void 0,"../../../Common/script/base/ViewBase":void 0,"../../../Common/script/base/WebSocketManager":void 0,"../../../Common/script/util/UIUtil":void 0,"../../../GameHall/script/Module/ChatView/ChatView":void 0,"../../../GameHall/script/Module/ComSettingView/ComSettingView":void 0,"../../../GameHall/script/Module/RechargeView/RechargeView":void 0,"../Controller/ABController":"ABController","../Controller/ABQueueMessages":"ABQueueMessages","../Model/ABNetData":"ABNetData","../Model/AndarBahar":"AndarBahar","./ABCardComp":"ABCardComp","./ABChipTemplate":"ABChipTemplate","./ABDanmuCom":"ABDanmuCom","./ABMiniRecord":"ABMiniRecord","./ABPlayerList":"ABPlayerList","./ABRecordPanel":"ABRecordPanel","./ABUserComp":"ABUserComp"}],AndarBahar:[function(t,e,i){"use strict";cc._RF.push(e,"d5566sniUlAi5sX/HH9WiAk","AndarBahar"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.ArrayToMap=function(t){for(var e=new Map,i=Object.keys(t).length,n=0;n<i;n++){var s=Object.keys(t)[n];e.set(Number.parseInt(s),t[s])}return e},t.ArrayToMap2=function(t){for(var e=new Map,i=Object.keys(t).length,n=0;n<i;n++){var s=Object.keys(t)[n];e.set(Number.parseInt(s),t[s])}return e},t}();i.default=n,cc._RF.pop()},{}]},{},["ABController","ABQueueMessages","ABModel","ABNetData","AndarBahar","ABCardComp","ABChipTemplate","ABDanmuCom","ABMiniRecord","ABOtherPlayerItem","ABPlayerList","ABRecordPanel","ABUserComp","ABView"]);
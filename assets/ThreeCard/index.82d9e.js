window.__require=function e(t,i,n){function a(s,l){if(!i[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var u="function"==typeof __require&&__require;if(!l&&u)return u(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return a(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({ChipPosition:[function(e,t,i){"use strict";cc._RF.push(t,"c3a01IWzYRFK7JPZhgtrS7g","ChipPosition"),Object.defineProperty(i,"__esModule",{value:!0});i.default=function(){this.kind="",this.count=0,this.beginV3=cc.v2(0,0)},cc._RF.pop()},{}],F_TPModel:[function(e,t,i){"use strict";cc._RF.push(t,"224b9CaMjNC8aQzNdDFVILq","F_TPModel"),Object.defineProperty(i,"__esModule",{value:!0}),i.VariationLanguage=void 0;var n=e("../../../../Common/script/base/BaseFrameNative"),a=e("../../../../Boot/scirpt/AppConst"),o=function(){function e(){this.GameStatus=0,this.LevePermitGolds=[.1,.3,.5,1,3,10,20,50,100,200,500,1e3],this.isPauseExit=!1,this.isFirstTurntable=!1,this.isInTable=!1,this._posServer=1,this.showcard=!1,this._CurMinGamble=0,this._CurMaxGamble=0,this._CurTurnCount=0,this._CurTurnCompare=0,this.PointerClickCount=0,this.MaxPointerClickCount=3,this._recover=null,this.isgiveup=!1,this.isMyRound=!1,this.isSelfSitdown=!1,this.limitgold=0,this.reChargeScore=0,this.TPLanguage=null,this.MapVariationLanguage=new Map}return e.prototype.Init=function(){this.Clear()},e.prototype.SetbaseDataId=function(e,t,i){this.gameid=e,this.tableid=t,this.levelid=i,this.level=null},e.prototype._isHaveLookCard=function(){return null!=this._shouPai&&0!=this._shouPai.length},e.prototype.Clear=function(){this.targetpos=0,this.palyerlist=[],this._shouPai=[],this.MatchCode="",this._posServer=1,this.MyEnterRoomInfo=null,this.isline=!1,this._CurTurnCount=0,this.showcard=!1,this.isGaming=!1,this._CurMaxGamble=0,this.isselfontable=!1,this.isInTable=!1},e.prototype.ResetForNext=function(){this.showcard=!1,this.MatchCode="",this.targetpos=0,this._CurTurnCount=0,this._CurMinGamble=0,this.isGaming=!1,this.isselfontable=!1,this.palyerlist=[],this._CurMaxGamble=0},e.prototype.RemovePlayerList=function(e){var t=this;this.palyerlist.forEach(function(i,n){i.py.userid==e&&t.palyerlist.splice(n,1)})},e.prototype.UpdatePlayerSDReady=function(e,t){this.palyerlist.forEach(function(i){i.py.userid==e&&(i.isR=t?1:0)})},e.prototype.CheckSymbol=function(e,t){return 2==n.BaseFrameNative.packType?e:t},e.prototype.GetLanguage=function(e,t,i,n){void 0===t&&(t=1),null==this.TPLanguage&&(this.TPLanguage=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Teenpatti));var o,l=this.TPLanguage["id_"+e];return o="1"==a.AppConst.languageType?l.english:l.hindi,i&&n&&this.MapVariationLanguage.set(n,new s(i,l.type,e)),o},e.prototype.UpdateVariationLanguage=function(){var e=this;this.MapVariationLanguage.size>0&&this.MapVariationLanguage.forEach(function(t){var i=e.TPLanguage["id_"+t.lID],n="",a="",o=e.GetLanguage(t.lID,t.type);if(1==t.type){n=i.english,a=i.hindi;var s=t.gCom.text;s=(s=s.replace(n,o)).replace(a,o),t.gCom.text=s}else t.gCom.asLoader.url=o})},e}();i.default=o;var s=function(e,t,i){this.gCom=e,this.type=t,this.lID=i};i.VariationLanguage=s,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/BaseFrameNative":void 0}],F_TPViewCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"43c7dSVtQBGgY1Ri9+sXqqj","F_TPViewCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../../Common/script/base/BaseCode"),a=e("../../../../Common/script/base/BaseFrameNative"),o=e("../../../../Common/script/base/CommonCtr"),s=e("../../../../Common/script/base/cs_base"),l=e("../../../../Common/script/base/HttpHelpEx"),r=e("../../../../Common/script/base/WebSocketManager"),u=e("../../../../Boot/scirpt/AppConst"),c=e("../../../../Common/script/modules/@mogafa/utils/lib/HttpApi"),h=e("../Model/F_TPModel"),p=e("../Model/TPNetDataStruct"),d=e("./TPQueueMessages"),_=function(){function e(){this.mapNotyfy=new Map,this.CreateTableCallBack=null}return Object.defineProperty(e,"instance",{get:function(){return null==this._viewCtr&&(this._viewCtr=new e),this._viewCtr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Model",{get:function(){return null==this._model&&(this._model=new h.default,this.Model.gameid=91002,this.Model.levelid=910021,this._model.Init()),this._model},enumerable:!1,configurable:!0}),e.prototype.RegistNotify=function(){this.UnRegistNotify(),d.TPQueueMessages.instance.removeAllMes(),this.RegistNotyfyEx("sc_tablestart_tp_n",this.sc_tablestart_tp_n),this.RegistNotyfyEx("sc_ready_tp_n",this.sc_ready_tp_n),this.RegistNotyfyEx("sc_showcard_tp_n",this.sc_showcard_tp_n),this.RegistNotyfyEx("sc_gamble_tp_n",this.sc_gamble_tp_n),this.RegistNotyfyEx("sc_compare_tp_n",this.sc_compare_tp_n),this.RegistNotyfyEx("sc_giveup_tp_n",this.sc_giveup_tp_n),this.RegistNotyfyEx("sc_end_tp_n",this.sc_end_tp_n),this.RegistNotyfyEx("sc_chat_n",this.sc_chat_n),this.RegistNotyfyEx("sc_sitdown_tp_n",this.sc_sitdown_tp_n),this.RegistNotyfyEx("sc_entertablenum_tp_n",this.sc_entertablenum_tp_n),this.RegistNotyfyEx("sc_token_tp_n",this.sc_token_tp_n),this.RegistNotyfyEx("sc_situpkeep_tp_n",this.sc_situpkeep_tp_n),this.RegistNotyfyEx("sc_one_exittable_n",this.sc_one_exittable_n),this.RegistNotyfyEx("sc_comparereq_tp_n",this.sc_comparereq_tp_n),this.RegistNotyfyEx("sc_dealcomparenotice_tp_n",this.sc_dealcomparenotice_tp_n),this.RegistNotyfyEx("sc_rechargedelay_tp_n",this.sc_rechargedelay_tp_n),this.RegistNotyfyEx("sc_addgoldingame",this.sc_addgoldingame),this.RegistNotyfyEx("sc_tptask_n",this.sc_tptask_n),this.RegistNotyfyEx("sc_turntablenotice_n",this.sc_turntablenotice_n)},e.prototype.RegistNotyfyEx=function(e,t){var i=this,n=function(n){i.AddTexMessages(n,e,t.bind(i))};r.WebSocketManager.getInstance.RegistNotify(e,n,this),this.mapNotyfy.set(e,n)},e.prototype.AddTexMessages=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),d.TPQueueMessages.instance.AddTexMes(t,e,i)},e.prototype.UnRegistNotify=function(){var e=this;this.mapNotyfy.forEach(function(t,i){r.WebSocketManager.getInstance.UnRegistNotify(i,t,e)}),this.mapNotyfy=new Map},e.prototype.cs_sitdown_tp=function(e,t){var i=new p.cs_sitdown_tp;i.levelid=this.Model.levelid,i.tableid=this.Model.tableid,i._g=this.Model.gameid,i.gold=e,i.pos=0,i.pas="",i.iskeep=0,i.lat=0,i.lng=0,i.clubidx=t,i.fn="cs_sitdown_tp",r.WebSocketManager.getInstance.SendJSON(i,this.sc_sitdown_tp.bind(this))},e.prototype.sc_sitdown_tp=function(e){if(null!=this.view&&!this.view._isDestory){if(1==e.result){if(this.Model.isSelfSitdown=!0,this.Model._recover=e._recover,this.view.ui_HuizhuoPanel.visible=!1,this.Model._recover&&(this.view.UpTaskData(this.Model._recover.TpTask),this.Model.reChargeScore=e._recover.reChargeScore||0),this.Model._recover&&0!=this.Model._recover._status)return}else 0==e.result?this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90020)):-1==e.result?this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90004)):-2==e.result&&this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90010));this.view.ShowSwitchTableButton(!0)}},e.prototype.sc_sitdown_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_sitdown_tp_n(e.user)},e.prototype.sc_entertablenum_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(this.Model.palyerlist=e.plist,this.view.entertable_tp(this.Model.palyerlist))},Object.defineProperty(e.prototype,"IsDestory",{get:function(){return!(null!=this.view&&!this.view._isDestory)},enumerable:!1,configurable:!0}),e.prototype.ExitGame=function(){},e.prototype.cs_createtable_tp=function(){var e=new p.cs_createtable_tp;e.allianceid=0,e.baserate=100,e.clubidx=0,e.dura=180,e.g_limit=!1,e.maxCount=6,e.maxpc=5,e.mt=0,e.o_master=!1,e.o_show=!1,e.pass="",e.pc=2,e.tname="testAAA",e._g=this.Model.gameid,e.fn="cs_createtable_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_createtable_tp.bind(this))},e.prototype.sc_createtable_tp=function(t){1==t.result?(e.instance.Model.levelid=t.levelid,e.instance.Model.tableid=t.tableid,this.CreateTableCallBack&&this.CreateTableCallBack(t.tnumber)):t.result},e.prototype.cs_enterrobot_tp=function(){var e=new p.cs_enterrobot_tp;e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e._g=this.Model.gameid,e.fn="cs_enterrobot_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_enterrobot_tp.bind(this))},e.prototype.sc_enterrobot_tp=function(e){null==this.view||this.view._isDestory||e.result},e.prototype.sc_entertable_tp=function(e){null==this.view||this.view._isDestory||1==e.result&&(this.Model._recover=e._recover)},e.prototype.sc_token_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(this.Model._CurMinGamble=e._mingamble,this.Model._CurTurnCount=e._turnCount,this.Model._CurMaxGamble=e._maxgamble,this.Model._CurTurnCompare=e.turnCompare,0==this.view.isSendCardOver&&e.pos==this.Model.mPlayerModel.userid?this.view.sc_token_tp_n_Delay(e):this.view.sc_token_tp_n(e))},e.prototype.cs_ready_tp=function(){var e=new p.cs_ready_tp;e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e.pos=this._model._posServer,e._g=this.Model.gameid,e.fn="cs_ready_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_ready_tp.bind(this))},e.prototype.sc_ready_tp=function(e){null==this.view||this.view._isDestory||e.result},e.prototype.sc_ready_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(e.pos==this._model._posServer&&(this._model._isReady=!0),this._model.UpdatePlayerSDReady(e.pos,!0),this.view.sc_ready_tp_n(e))},e.prototype.cs_gamble_tp=function(e,t){var i=new p.cs_gamble_tp;i.levelid=this.Model.levelid,i.tableid=this.Model.tableid,i.money=e,i._g=this.Model.gameid,i.addrate=t,i.fn="cs_gamble_tp",r.WebSocketManager.getInstance.SendJSON(i,this.sc_gamble_tp.bind(this))},e.prototype.sc_gamble_tp=function(e){null==this.view||this.view._isDestory||this.view.sc_gamble_tp(e)},e.prototype.sc_gamble_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_gamble_tp_n(e)},e.prototype.cs_showcard_tp=function(){var e=new p.cs_showcard_tp;e.levelid=this.Model.levelid,e._g=this.Model.gameid,e.tableid=this.Model.tableid,e._g=this.Model.gameid,e.fn="cs_showcard_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_showcard_tp.bind(this))},e.prototype.sc_showcard_tp=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_showcard_tp(e.shoupai)},e.prototype.sc_showcard_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(e.pos==this.Model.mPlayerModel.userid&&(this.Model._CurMinGamble=e._mingamble,this.Model._CurMaxGamble=e._maxgamble,this.Model._CurTurnCount=e._turnCount,this.Model._shouPai=e.shoupai),this.view.sc_showcard_tp_n(e.pos,e.shoupai))},e.prototype.cs_compare_tp=function(e){var t=new p.cs_compare_tp;t.levelid=this.Model.levelid,t.tableid=this.Model.tableid,this.Model.targetpos=e,t._g=this.Model.gameid,t.targetpos=e,t.fn="cs_compare_tp",r.WebSocketManager.getInstance.SendJSON(t,this.sc_compare_tp.bind(this))},e.prototype.sc_compare_tp=function(e){null==this.view||this.view._isDestory||(1==e.result?this.view.sc_compare_tp(e):-2==e.result?this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90011)):(e.result,this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90004))))},e.prototype.sc_compare_tp_n=function(e){if(null!=this.view&&!this.view._isDestory&&1==e.result){if(e._applypos!=this.Model.mPlayerModel.userid&&e._targetpos!=this.Model.mPlayerModel.userid||e.failpos==this.Model.mPlayerModel.userid&&(this.Model.isselfontable=!1),null==this.view.GetPlayerForPos(e._applypos))return;this.view.sc_compare_tp_n(e)}},e.prototype.cs_comparereq_tp=function(){var e=new p.cs_comparereq_tp;e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e._g=this.Model.gameid,e.fn="cs_comparereq_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_comparereq_tp.bind(this))},e.prototype.sc_comparereq_tp=function(e){null==this.view||this.view._isDestory||1==e.result||(3==e.result||-403==e.result?(this.view.Wait(!0),this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90012))):(e.result=-301)?(this.view.Wait(!0),this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90004))):this.view.Wait(!0))},e.prototype.sc_comparereq_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_comparereq_tp_n(e)},e.prototype.cs_dealapplycompare_tp=function(e){var t=new p.cs_dealapplycompare_tp;t.levelid=this.Model.levelid,t.tableid=this.Model.tableid,t._g=this.Model.gameid,t.isagree=e,t.fn="cs_dealapplycompare_tp",r.WebSocketManager.getInstance.SendJSON(t,this.sc_dealapplycompare_tp.bind(this))},e.prototype.sc_dealapplycompare_tp=function(){null!=this.view&&this.view._isDestory},e.prototype.sc_dealcomparenotice_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.bipaiJujue(e._targetId,e.isagree)},e.prototype.cs_giveup_tp=function(e){var t=new p.cs_giveup_tp;t.levelid=this.Model.levelid,t._g=this.Model.gameid,t.tableid=this.Model.tableid,t.pos=e,t.fn="cs_giveup_tp",r.WebSocketManager.getInstance.SendJSON(t,this.sc_giveup_tp.bind(this))},e.prototype.sc_giveup_tp=function(e){null==this.view||this.view._isDestory||1==e.result&&(this.Model.isgiveup=!0,this.Model.isselfontable=!1,this.view.sc_giveup_tp(e))},e.prototype.sc_giveup_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(e.pos==this.Model._posServer&&(this.Model.isselfontable=!1),this.view.sc_giveup_tp_n(e))},e.prototype.sc_end_tp_n=function(e){var t=this;null==this.view||this.view._isDestory||(this.Model.isGaming=!1,this.Model.isselfontable=!1,e._pos2Gold.forEach(function(e){var i=t.view.GetPlayerForPos(e.pos);null!=i&&i.isMySelf&&(t.Model.MyEndMoney=e.val)}),this.view.sc_end_tp_n(e))},e.prototype.cs_chat=function(e,t,i){var n=new s.cs_chat;n.levelid=this.Model.levelid,n.tableid=this.Model.tableid,n.type=e,n.tpos=t,n.content=i,n._g=this.Model.gameid,n.fn="cs_chat",r.WebSocketManager.getInstance.SendJSON(n,this.sc_chat.bind(this))},e.prototype.sc_chat=function(e){null==this.view||this.view._isDestory||(-1==e.result?this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90013)):-2==e.result&&this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90004)))},e.prototype.sc_chat_n=function(e){null==this.view||this.view._isDestory||this.view.sc_chat_n(e)},e.prototype.sc_warning_n=function(){null!=this.view&&this.view._isDestory},e.prototype.sc_exittable_n=function(e){null==this.view||this.view._isDestory||this.view.sc_exittable_n(e)},e.prototype.sc_disconnect_n=function(e){null==this.view||this.view._isDestory||this.view.sc_disconnect_n(e)},e.prototype.sc_tablestart_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&(this.Model.isGaming=!0,this.Model._shouPai=[],this.Model.isgiveup=!1,this.view.sc_tablestart_tp_n(e))},e.prototype.cs_applyexittable_tp=function(){var e=new p.cs_applyexittable_tp;e.gameid=this.Model.gameid,e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e._g=this.Model.gameid,e.pos=this.Model._posServer,e.fn="cs_applyexittable_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_applyexittable_tp.bind(this))},e.prototype.sc_applyexittable_tp=function(e){null==this.view||this.view._isDestory||(1==e.result?this.view.ExitGame():-1!=e.result&&-4!=e.result||this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90014)))},e.prototype.sc_one_exittable_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_one_exittable_n(e)},e.prototype.cs_situpkeep_tp=function(){var e=new p.cs_situpkeep_tp;e._g=this.Model.gameid,e.fn="cs_situpkeep_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_situpkeep_tp.bind(this))},e.prototype.sc_situpkeep_tp=function(e){null==this.view||this.view._isDestory||(1==e.result?this.view.sc_situpkeep_tp():this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90015)))},e.prototype.sc_situpkeep_tp_n=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.situpkeep_tp_n(e)},e.prototype.cs_entertablenum_tp=function(){var e=new p.cs_entertablenum_tp;e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e._g=this.Model.gameid,e.fn="cs_changetable_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_changetable_tp.bind(this))},e.prototype.sc_changetable_tp=function(t){var i=this;null==this.view||this.view._isDestory||(1==t.result?(e.instance.Model.GameStatus=0,u.AppConst.currentlevelid=t.levelid,e.instance.Model.levelid=t.levelid,e.instance.Model.tableid=t.tableid,e.instance.Model.palyerlist=t.plist,e.instance.Model.baserate=t.brate,e.instance.Model._recover=t._recover,e.instance.Model.limitgold=t.limitgold,this.view.tabledata=t,this.view.SwitchTalbeSuccess()):-5==t.result?(this.view.tipView.HideLoading(),this.view.tipView.ShowTipLabel(this.Model.GetLanguage(90002))):-205==t.result||-211==t.result?o.CommonCtr.instance.ShowTipCallback(n.BaseCode[u.AppConst.languageType][t.result+""],function(){e.instance.cs_applyexittable_tp(),i.view.ExitGame()}):this.view.tipView.HideLoading())},e.prototype.cs_rechargedelay_tp=function(){var e=new p.cs_rechargedelay_tp;e._g=this.Model.gameid,e.fn="cs_rechargedelay_tp",r.WebSocketManager.getInstance.SendJSON(e,this.sc_rechargedelay_tp.bind(this))},e.prototype.sc_rechargedelay_tp=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_rechargedelay_tp(e)},e.prototype.sc_rechargedelay_tp_n=function(e){null==this.view||this.view._isDestory||this.view.sc_rechargedelay_tp_n(e)},e.prototype.sc_addgoldingame=function(e){null==this.view||this.view._isDestory||1==e.result&&this.view.sc_addgoldingame(e)},e.prototype.cs_receivetask_tp=function(e){var t=new p.cs_receivetask_tp;t.task=e,t.tableid=this.Model.tableid,t._g=this.Model.gameid,t.fn="cs_receivetask_tp",r.WebSocketManager.getInstance.SendJSON(t,this.sc_receivetask_tp.bind(this))},e.prototype.sc_tptask_n=function(e){null==this.view||this.view._isDestory||1==e.result&&e.userid==this.Model.mPlayerModel.userid&&this.view.UpTaskData(e.TpTask)},e.prototype.sc_receivetask_tp=function(e){1==e.result?(this.view.TaskPanel.DrawCard(e),this.view.UpTaskData(e.TpTask)):-1==e.result?(o.CommonCtr.instance.ShowTipLabel("1"==u.AppConst.languageType?"Task not completed":"\u0915\u093e\u0930\u094d\u092f \u092a\u0942\u0930\u093e \u0928\u0939\u0940\u0902 \u0939\u0941\u0906"),this.view.TaskPanel.Hide()):-2==e.result&&(o.CommonCtr.instance.ShowTipLabel("1"==u.AppConst.languageType?"Rewards have been received":"\u092a\u0941\u0930\u0938\u094d\u0915\u093e\u0930 \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0939\u0941\u090f \u0939\u0948\u0902"),this.view.TaskPanel.Hide())},e.prototype.cs_sharerewards=function(){var e=a.BaseFrameNative.serverlistItem.apiAdress+"/api/SigIn/GetShareRewards",t={userid:u.AppConst.mPlayerModel.userid};c.default.http.post(e,t).then(function(e){e.Code}).catch(function(){})},e.prototype.GetReChargeOrder=function(){var e=this,t=a.BaseFrameNative.serverlistItem.apiAdress+"/api/Gamelog/GetReChargeOrder?UserId="+this.Model.mPlayerModel.userid;l.default.instance.get(t).then(function(t){1==t.data&&(e.Model.isPauseExit=!0)}).catch(function(){})},e.prototype.sc_turntablenotice_n=function(e){u.AppConst.turntable=e,u.AppConst.turntable.sevTime=Date.now(),this.Model.isFirstTurntable=!0},e.prototype.cs_freshplayerInfoSD=function(){var e=this,t=a.BaseFrameNative.serverlistItem.apiAdress+"/api/User/GetUserLoginInfo",i={userid:u.AppConst.mPlayerModel.userid};c.default.http.post(t,i).then(function(t){1==t.Code&&e.sc_freshplayerInfoSD(t.Data)}).catch(function(){})},e.prototype.sc_freshplayerInfoSD=function(e){cc.isValid(this.view)&&this.view.ShowOnTurntableButton(e.Turninfo)},e}();i.default=_,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/BaseCode":void 0,"../../../../Common/script/base/BaseFrameNative":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/HttpHelpEx":void 0,"../../../../Common/script/base/WebSocketManager":void 0,"../../../../Common/script/base/cs_base":void 0,"../../../../Common/script/modules/@mogafa/utils/lib/HttpApi":void 0,"../Model/F_TPModel":"F_TPModel","../Model/TPNetDataStruct":"TPNetDataStruct","./TPQueueMessages":"TPQueueMessages"}],F_TPView:[function(e,t,i){"use strict";cc._RF.push(t,"6e7b24JxfZGMJfJY0rCgFQd","F_TPView");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/AudioManager"),l=e("../../../../Common/script/base/BaseFrameNative"),r=e("../../../../Common/script/base/CommonCtr"),u=e("../../../../Common/script/base/CommonView"),c=e("./TPTable"),h=e("./TPPlayerMessageComp"),p=e("../../../../Common/script/base/cs_base"),d=e("../../../../Common/script/base/MgrNative"),_=e("../../../../Common/script/base/ReconnectManager"),f=e("../../../../Common/script/base/ReportManager"),y=e("../../../../Common/script/base/SceneManager"),m=e("../../../../Common/script/base/ViewBase"),b=e("../../../../Common/script/base/WebSocketManager"),g=e("../../../../Boot/scirpt/AppConst"),C=e("../../../../Common/script/util/UIUtil"),v=e("../Contrl/F_TPViewCtrl"),M=e("../Contrl/TPQueueMessages"),w=e("../Model/TPNetDataStruct"),S=e("./TPBipaiPopup"),T=e("./TPChipsManager"),P=e("./TPService"),x=e("./TPTask"),k=e("./TPUserComp"),A=e("../../../../Common/script/base/BaseCode"),N=e("../../../../GameHall/dlc/script/Common/CaptureUtils"),L=e("../../../../GameHall/script/Module/ChatView/ChatView"),G=e("../../../../GameHall/script/Module/ComSettingView/ComSettingView"),U=e("../../../../GameHall/script/Module/LuckyDrawView/LuckyDrawView"),R=e("../../../../GameHall/script/Module/RechargeView/RechargeCon"),I=e("../../../../GameHall/script/Module/RechargeView/RechargeView"),B=cc._decorator,O=B.ccclass,F=(B.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_HelpSettingPanel=null,t.ui_user1Manage=null,t.ui_user2Manage=null,t.ui_user3Manage=null,t.ui_user4Manage=null,t.ui_user5Manage=null,t.user1Manage=null,t.user2Manage=null,t.user3Manage=null,t.user4Manage=null,t.user5Manage=null,t.myAction=!1,t.ui_SendCardScenter=null,t.ui_txtAll=null,t.ui_txtAdd=null,t.ui_zhuobubg=null,t.ui_leftcardsite=null,t.ui_rightcardsite=null,t.ui_downcardsite=null,t.ui_upcardsite=null,t.ui_endtimetips=null,t.ListRecordChouma=[],t.ui_StatusManager=null,t.ui_btnAdd=null,t.ui_txtaddDynamic=null,t.ui_txtaddDynamic2=null,t.ui_btnFollow=null,t.ui_txtfollowDynamic=null,t.ui_txtfollowDynamic2=null,t.ui_btnBipai=null,t.ui_txtbipaiDynamic=null,t.ui_BtnAddpanel=null,t.ui_addpanel_1=null,t.ui_addpanel_2=null,t.ui_betNumber=null,t.ui_btnlook=null,t.ui_btnqipai=null,t.ui_playerMessage=null,t.ui_musicToggleGroup=null,t.ui_yinxiaoToggleGroup=null,t.ui_btn_close_help=null,t.ui_btn_close_watch=null,t.ui_watchUserList=null,t.ui_personRemind=null,t.ui_personRemindTxt=null,t._bftable=null,t.playerMessagePanel=null,t._colseDelay=!1,t.loseclean=null,t.SendCardAni=!0,t.tabledata=null,t.watchUserList=[],t.ui_roomidText=null,t.ui_chaalLimitText=null,t.ui_bootAmountText=null,t.ui_potLimit=null,t.ui_maxBlindsText=null,t.ui_tableinfo=null,t.ui_ScenRoot=null,t.ui_btnTableInfo=null,t.ui_MenuTip=null,t.ui_btn_toHall=null,t.ui_btn_transposition=null,t.ui_btn_situp=null,t.ui_btn_help=null,t.ui_btn_setting=null,t.ui_btn_addRobot=null,t.ui_btnChat=null,t.ui_heguan=null,t.ui_HuizhuoPanel=null,t.ui_btnBack=null,t.ui_BipaiPopup=null,t.ui_globalinfo=null,t.ui_allChipAnim=null,t.ui_ChipAnimNode=null,t.ui_btnCloseRoomInfo=null,t.ui_WinPanel=null,t.ui_Wait=null,t.ui_waitTime=null,t.ui_bipaiJiantouCom=null,t.ui_bipaiJiantouPos=null,t.ui_WinnerPos=null,t.winnerSpine=null,t.ui_Round=null,t.ui_txtRound=null,t.ui_bipaiQiu=null,t.ui_btnRecharge=null,t.ui_btnHuanzhuo=null,t.ui_huanzhuoPos=null,t.ui_bipaiWaitUser=null,t.ui_RechargeTip=null,t.ui_btnTipRecharge=null,t.ui_MERecharge=null,t.ui_rechargeUserName=null,t.ui_rechargeWaitTimes=null,t.maxCount=null,t._reconnetcfirst=!1,t.addPourCnt=0,t.sitdownCnt=0,t._isBigend=!1,t.maxTurn=0,t.followCoin=0,t.ChatTip=null,t.bipaiTip=null,t.isShowed=!1,t.tableBrate=0,t.jiantouPrefab=null,t.bipaiAnimPrefab=null,t.AllBetNum=0,t.CurrentGamePlayer=[],t.startShowLook=!1,t.isExitGameTip=!1,t.ui_btnSet=null,t.ui_ChipsManager=null,t.ChipsManager=null,t.ui_recharge_tip_text=null,t.ui_merecharge_ts=null,t.ui_merecharge_waitTimes=null,t.ui_merecharge_btn_text=null,t.ui_btnHuizhuo_text=null,t.ui_btnqipai_text=null,t.ui_wtartWait_text=null,t.ui_help_panel_title=null,t.ui_help_scrollview_n11=null,t.ui_help_scrollview_n12=null,t.ui_help_scrollview_n13=null,t.ui_help_scrollview_n14=null,t.ui_help_scrollview_n15=null,t.ui_help_scrollview_n72=null,t.ui_help_scrollview_n73=null,t.ui_help_scrollview_n74=null,t.ui_tableinfo_text_n12=null,t.ui_tableinfo_text_n7=null,t.ui_tableinfo_text_n8=null,t.ui_tableinfo_text_n9=null,t.ui_bipaipopup_tip_n11=null,t.ui_bipai_butRetuse_text=null,t.ui_bipai_btnAgree_text=null,t.ui_menu_btn_toHall_title=null,t.ui_menu_btn_transposition_title=null,t.ui_menu_btn_help_title=null,t.ui_menu_btn_setting_title=null,t.ui_setting_n17=null,t.ui_setting_n9=null,t.ui_setting_n10=null,t.ui_setting_btnsetLanguage_n6=null,t.ui_setting_btnsetLanguage_n7=null,t.ui_btnhuanzhuo_text=null,t.ui_bipaiWaitUserText=null,t.ui_tableinfo_boot=null,t.ui_tableInfo_maxblinds_GS=null,t.ui_xiazhuNumNode_jinbi_GS=null,t.ui_TaskPanel=null,t.TaskPanel=null,t.ui_btnTask=null,t.ui_TaskJindu=null,t.ui_task_btnBG=null,t.ui_task_btnAnim_Pos=null,t.ui_task_award_type=null,t.ui_task_jindutiao=null,t.ui_task_jintuText=null,t.ui_task_taskText=null,t.TaskBtnAnim=null,t.ControllerBtnTask=null,t.ui_BtnShare=null,t.ui_SharePanel=null,t.ui_btn_Share_facebook=null,t.ui_btn_Share_wechat=null,t.ui_btn_Share_close=null,t.ui_WinthdarwPanel=null,t.ui_btnWithdraw=null,t.ui_n81=null,t.isCanExeTexMas=!1,t.isSendCardOver=!1,t._baseRateSchFun=null,t._setAllBetNumSchFun=null,t._sendCardEndSchFun=null,t.gameCount=0,t.FunTPEnd_ClearTable=null,t.FunTPEnd_UpdateGold=null,t.isApplyBipai=!1,t.bipaiApplyUser=null,t.bipaiTargetUser=null,t.ChouMaAniCallBack=[],t.CaechChouMaAniCallBack=[],t.BipaiJiantouList=[],t.isJiantouFade=!1,t.jiantouSch=null,t.setallBetFun=null,t.waitgametime=null,t.MEwaitRechargeFun=null,t.addCash=null,t.tips350cnt=0,t.ui_txtHuizhuo=null,t.ui_WatchPanel=null,t.ui_tp_watch_text_loader=null,t.TaskStatus=0,t.taskFun=null,t.taskNowKey="",t.service=null,t.luckyDraw=null,t.ui_btn_onTurntable=null,t.onTurntable_countdown=null,t}return a(t,e),Object.defineProperty(t.prototype,"needProcess",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"ThreeCardMain"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Model",{get:function(){return v.default.instance.Model},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.screenFit(this.node),fgui.addLoadHandler(),e.prototype.onLoad.call(this)},t.prototype.screenFit=function(e){var t=e.getComponent(cc.Canvas),i=t.designResolution,n=cc.view.getFrameSize(),a=n.width,o=n.height,s=a,l=o;a/o>i.width/i.height?(s=(l=i.height)*a/o,t.fitHeight=!0):(l=o/a*(s=i.width),t.fitWidth=!0),t.designResolution=cc.size(s,l),t.node.width=s,t.node.height=l},t.prototype.createChildComponents=function(){if(e.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),this.fguiComponent.makeFullScreen(),this.fguiComponent.sortingOrder=9e3,cc.view.getVisibleSize().width<=1921){var t={width:this.fguiComponent.width,height:this.fguiComponent.height};this.fguiComponent.setSize(t.width+.1*t.width,t.height+.1*t.height)}},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),d.MgrNative.getInstance().copyUserId(g.AppConst.inviteData.code,g.AppConst.mPlayerModel.userid,"\ud83d\udcb5Play Teen Patti and win Real Cash!\ud83d\udcb5\n\ud83d\udd25Install and got bonus + R$50\ud83d\udd25\n\ud83d\udcb0Daily winnings up to R$ 7 Lakhs\ud83d\udcb0\n\ud83d\ude0dSuper fast cash withdraw\ud83d\ude0d\n\ud83d\udc47\ud83d\udc47\ud83d\udc47")},t.prototype.OnLoadLanguage=function(){var e=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Teenpatti);for(var t in e){var i=e[t];if(i&&i.comp&&this[i.comp]){var n="1"==g.AppConst.languageType?i.english:i.hindi;1==i.type?this[i.comp].text=n:this[i.comp].url="ui://ThreeCard/"+n}}this.ui_task_taskText.text=this.getTaskName(this.taskNowKey)},t.prototype.OnLoadGSLoader=function(){this.ui_tableinfo_boot.url=this.Model.CheckSymbol("ui://ThreeCard/tableinfo_boot","ui://ThreeCard/tableinfo_boot2"),this.ui_tableInfo_maxblinds_GS.url=this.Model.CheckSymbol("ui://ThreeCard/tableInfo_maxblinds_GS","ui://ThreeCard/tableInfo_maxblinds_GS2"),this.ui_allChipAnim.getChild("xiazhuNumNode_jinbi_GS").asLoader.url=v.default.instance.Model.CheckSymbol("ui://ThreeCard/jinbiIcon_GS","ui://ThreeCard/jinbiIcon_GS2"),this.ui_globalinfo.getChild("allBetJinBi").asLoader.url=v.default.instance.Model.CheckSymbol("ui://ThreeCard/jinbiIcon_GS","ui://ThreeCard/jinbiIcon_GS2")},t.prototype.OnLoadCompleted=function(){var e=cc.winSize.width/this.fguiComponent.node.width,t=cc.winSize.height/this.fguiComponent.node.height;this.fguiComponent.node.setScale(e,t),cc.game.off(cc.game.EVENT_SHOW),cc.game.on(cc.game.EVENT_SHOW,this.gameEventShow.bind(this)),cc.game.off(cc.game.EVENT_HIDE),cc.game.on(cc.game.EVENT_HIDE,this.gameEventHide.bind(this)),this.Init(),this.OnLoadLanguage(),this.OnLoadGSLoader()},t.prototype.gameEventShow=function(){var e=this;v.default.instance.Model.isPauseExit||(cc.game.resume(),this.isCanExeTexMas=!1,M.TPQueueMessages.instance.removeAllMes(),this.scheduleOnce(function(){e.sendReconnect()},.5))},t.prototype.sendReconnect=function(){this._isDestory||v.default.instance.Model.isPauseExit||_.ReconnectManager.getInstance.reconnect(this.connectSuccess.bind(this),this.connectFail.bind(this))},t.prototype.connectSuccess=function(){var e=this;M.TPQueueMessages.instance.removeAllMes(),this.isCanExeTexMas=!1,this.scheduleOnce(function(){e.cs_entertable_tp(v.default.instance.Model.tableid+"")},1)},t.prototype.connectFail=function(e){var t=this;this._isDestory||this.tipView||this.tipView.ShowTip(e,function(){t.sendReconnect()})},t.prototype.gameEventHide=function(){v.default.instance.Model.isPauseExit||(this.unscheduleAllCallbacks(),cc.game.pause())},t.prototype.cs_entertable_tp=function(e){void 0===e&&(e=""),""!=e&&cc.sys.localStorage.setItem("tableid",e);var t=cc.sys.localStorage.getItem("tableid"),i=new w.cs_entertable_tp;i.levelid=C.UIUtil.CheckGameLeveID(v.default.instance.Model.gameid,g.AppConst.currentlevelid),i.tableid=Number.parseInt(t),i._g=v.default.instance.Model.gameid,i.fn="cs_entertable_tp",b.WebSocketManager.getInstance.SendJSON(i,this.sc_entertable_tp.bind(this))},t.prototype.sc_entertable_tp=function(e){var t=this;1==e.result?(v.default.instance.Model.GameStatus=0,g.AppConst.currentlevelid=e.levelid,v.default.instance.Model.levelid=e.levelid,v.default.instance.Model.tableid=e.tableid,v.default.instance.Model.palyerlist=e.plist,v.default.instance.Model.baserate=e.brate,v.default.instance.Model._recover=e._recover,v.default.instance.Model.limitgold=e.limitgold,this.tabledata=e,this.initManager()):-10011==e.result?this.tipView.ShowTip(this.Model.GetLanguage(90001),function(){t.ExitGame()}):-5==e.result?this.tipView.ShowTipLabel(this.Model.GetLanguage(90002)):-205==e.result||-211==e.result?this.tipView.ShowTip(A.BaseCode[g.AppConst.languageType][e.result+""],function(){v.default.instance.cs_applyexittable_tp(),t.ExitGame()}):-10001==e.result&&this.tipView.ShowTip(this.Model.GetLanguage(90003),function(){t.ExitGame()}),this.tipView.HideLoading()},t.prototype.update=function(){this.isCanExeTexMas&&M.TPQueueMessages.instance.isCanExeNext()&&M.TPQueueMessages.instance.ExeNextMes()},t.prototype.onDestroy=function(){this.isCanExeTexMas=!1,v.default.instance.Model.Init(),v.default.instance.UnRegistNotify(),this._bftable=null,v.default.instance.view=null,this._isDestory=!0,b.WebSocketManager.getInstance.webSocket.setRefreshCallback(null)},t.prototype.Init=function(){l.BaseFrameNative.nowGameView=this,l.BaseFrameNative.isInHall=!1,this.fguiComponent.visible=!0,this.ui_personRemind.visible=!1,this._bftable=new c.default,this.RegistEvent(),this.intcomponent(),this.initManager(),this.addListener(),this.loadSounds(),this.AllBetNum=0,this.SetAllBetNum(0),this.addPourCnt=0,this.ui_txtRound.text=v.default.instance.Model.GetLanguage(10001,1,this.ui_txtRound,this.ui_txtRound.name)+":0/0"},t.prototype.loadSounds=function(){var e=this,t=cc.assetManager.getBundle("ThreeCard");t.loadDir("res/Sounds",cc.AudioClip,function(e,t){for(var i=0;i<t.length;i++)s.AudioManager.Singleton.add(t[i].name,t[i])});var i=this;t.load("res/prefabs/bipai_xg",cc.Prefab,function(e,t){i._isDestory||(i.bipaiAnimPrefab=t,i.bipaiTip.iniAnim(i.bipaiAnimPrefab))}),t.load("res/prefabs/wanjiabipaiMask",cc.Prefab,function(e,t){i._isDestory||(i.jiantouPrefab=cc.instantiate(t),i.ui_bipaiJiantouCom.node.addChild(i.jiantouPrefab))}),t.load("res/prefabs/winner",cc.Prefab,function(t,n){i._isDestory||(i.winnerSpine=cc.instantiate(n),i.ui_WinPanel.node.addChild(e.winnerSpine),i.moveN1toN2(i.winnerSpine,i.ui_WinnerPos.node))}),cc.assetManager.getBundle("GameCommon").load("Prefab/heguan",cc.Prefab,function(e,t){if(!i._isDestory){var n=cc.instantiate(t);i.ui_ScenRoot.node.addChild(n),i.moveN1toN2(n,i.ui_heguan.node),n.y-=160,n.getComponent(sp.Skeleton).setAnimation(0,"animation_idle",!0)}}),t.load("res/prefabs/renwutubiao",cc.Prefab,function(t,n){i._isDestory||(i.TaskBtnAnim=cc.instantiate(n),i.ui_task_btnAnim_Pos.node.addChild(e.TaskBtnAnim),i.moveN1toN2(i.TaskBtnAnim,i.ui_task_btnAnim_Pos.node),i.TaskBtnAnim.getComponent(sp.Skeleton).setAnimation(0,"jingzhi",!0))})},t.prototype.initManager=function(){this.unscheduleAllCallbacks(),null==this.user1Manage?(this.user1Manage=this.ui_user1Manage.node.addComponent(k.default),this.user1Manage.fguiComponent=this.ui_user1Manage,this.ui_user1Manage.visible=!0,this.user1Manage.MyStart(1),this.myManage=this.user1Manage):this.user1Manage.ResetUserCompUI(),null==this.user2Manage?(this.user2Manage=this.ui_user2Manage.node.addComponent(k.default),this.user2Manage.fguiComponent=this.ui_user2Manage,this.ui_user2Manage.visible=!0,this.user2Manage.MyStart(2)):this.user2Manage.ResetUserCompUI(),null==this.user3Manage?(this.user3Manage=this.ui_user3Manage.node.addComponent(k.default),this.user3Manage.fguiComponent=this.ui_user3Manage,this.ui_user4Manage.visible=!0,this.user3Manage.MyStart(3)):this.user3Manage.ResetUserCompUI(),null==this.user4Manage?(this.user4Manage=this.ui_user4Manage.node.addComponent(k.default),this.user4Manage.fguiComponent=this.ui_user4Manage,this.ui_user4Manage.visible=!0,this.user4Manage.MyStart(4)):this.user4Manage.ResetUserCompUI(),null==this.user5Manage?(this.user5Manage=this.ui_user5Manage.node.addComponent(k.default),this.user5Manage.fguiComponent=this.ui_user5Manage,this.ui_user5Manage.visible=!0,this.user5Manage.MyStart(5,this.initState.bind(this))):(this.user5Manage.ResetUserCompUI(),this.initState())},t.prototype.initState=function(){var e=this;this.ui_HelpSettingPanel.visible=!1,this._isBigend=!1,this.ui_globalinfo.visible=!1,this.ui_btnlook.visible=!1,this.ui_Round.visible=!1,this.WaitGameStart(!1),this.ui_WinPanel.visible=!1,this.ui_RechargeTip.visible=!1,this.ui_MERecharge.visible=!1,v.default.instance.Model.GameStatus=0,this.StopBipaiJiantou(),v.default.instance.cs_freshplayerInfoSD(),this._bftable.Clear(),null!=this.user1Manage?this._bftable.userList.push(this.user1Manage):this.ui_user1Manage.visible=!1,null!=this.user2Manage?this._bftable.userList.push(this.user2Manage):this.ui_user2Manage.visible=!1,null!=this.user3Manage?this._bftable.userList.push(this.user3Manage):this.ui_user3Manage.visible=!1,null!=this.user4Manage?this._bftable.userList.push(this.user4Manage):this.ui_user4Manage.visible=!1,null!=this.user5Manage?this._bftable.userList.push(this.user5Manage):this.ui_user5Manage.visible=!1,this._bftable.Init(),this.scheduleOnce(function(){e.entertable_tp(v.default.instance.Model.palyerlist),e.Retloseclean();var t=e.GetPlayerForPos(v.default.instance.Model.mPlayerModel.userid);t&&t.isMySelf&&v.default.instance.Model.isInTable?(v.default.instance.Model._recover&&0!=v.default.instance.Model._recover._status&&e.reconnectionInitView(v.default.instance.Model._recover),e.ui_HuizhuoPanel.visible=!1):v.default.instance.Model._recover&&0!=v.default.instance.Model._recover._status?(e.reconnectionInitView(v.default.instance.Model._recover),e.sitdown(),e.ui_HuizhuoPanel.visible=!1):(e.sitdown(),e.ui_HuizhuoPanel.visible=!1),e.isCanExeTexMas=!0},.3),this.show_roomid()},t.prototype.Setloseclean=function(){this.loseclean=!0},t.prototype.Retloseclean=function(){this.loseclean=!1},t.prototype.GetLeftCardV3=function(){return this.ui_leftcardsite.node.parent.convertToWorldSpaceAR(this.ui_leftcardsite.node.position)},t.prototype.GetRightCardV3=function(){return this.ui_rightcardsite.node.parent.convertToWorldSpaceAR(this.ui_rightcardsite.node.position)},t.prototype.GetDownCardV3=function(){return this.ui_downcardsite.node.parent.convertToWorldSpaceAR(this.ui_downcardsite.node.position)},t.prototype.GetUpCardV3=function(){return this.ui_upcardsite.node.parent.convertToWorldSpaceAR(this.ui_upcardsite.node.position)},t.prototype.CancleLine=function(){v.default.instance.Model.isline=!1,v.default.instance.Model.isGaming=!0,v.default.instance.Model.isselfontable=!0},t.prototype.InitMyPos=function(e){this.myManage.player&&(this.myManage.player.pos=e)},t.prototype.Reconnection=function(){if(this.tabledata){v.default.instance.Model._recover=this.tabledata._recover;var e=this.tabledata._recover;switch(e._status){case 0:break;case 1:this.reconnectionInitView(e)}}},t.prototype.reconnectionInitView=function(e){var t=this;this.scheduleOnce(function(){t.reconnectionInitView2(e)},1)},t.prototype.reconnectionInitView2=function(e){var t=this;if(e){this.ui_SharePanel.visible=!1,this.tabledata._recover.comparereq=e.comparereq,this.tabledata._recover.rechargdelay=e.rechargdelay,this.tabledata._recover._status=0,v.default.instance.Model._recover=this.tabledata._recover,this.isSendCardOver=!1,this._reconnetcfirst=!0,this._isBigend=e.maxC==e.curC,v.default.instance.Model.maxCount=e.maxC,this.maxCount=e.maxC,this.maxTurn=e.maxGambleTurn,this.Model.reChargeScore=e.reChargeScore||0,this._bftable.userList.forEach(function(e){e.hideBetNode()});var i=new w.sc_tablestart_tp_n;i.tableid=this.tabledata.tableid,i.curC=e.curC,i._bankerPos=e.Banker;for(var n=[],a=e._pos2gamble.length,o=0;o<a;o++){var s=new p.CommonPosValSD;s.pos=o,s.val=e._pos2gamble[o].pos,n.push(s)}i._pos2UserID=n,i._pos2Gold=e._pos2gold,this.sc_tablestart_tp_n(i),this.scheduleOnce(function(){e._pos2lookcard.forEach(function(e){var i=t.GetPlayerForPos(e.pos);i&&i.ShowLook(1==e.val)}),e._pos2giveup.forEach(function(e){var i=t.GetPlayerForPos(e.pos);i&&1==e.val&&(i.ShowGiveUp(),i.isMySelf&&(t.ui_StatusManager.visible=!1,t.ShowSwitchTableButton(!0)))}),e._pos2lose.forEach(function(e){var i=t.GetPlayerForPos(e.pos);i&&1==e.val&&(i.ShowLose(!0),i.updateStateText(6),i.isMySelf&&(t.ui_StatusManager.visible=!1))})},.5);var l=0;if(this.ChipsManager.Stop(),e._pos2gamble.forEach(function(i){var n=t.GetPlayerForPos(i.pos);if(n){if(n.updateStateText(0),n.GenerateChip(C.UIUtil.formatNumber100(i.val),n.player.py.gold,!1),l=C.UIUtil.accAdd(l,i.val),n.Lose||n.GiveUp)return;for(var a=0;a<e._pos2opt.length;a++)if(e._pos2opt[a].pos==i.pos){n.updateStateText(1==e._pos2opt[a].val?4:1);break}}}),this.addPourCnt=e.fcount,this.SetAllBetNum(C.UIUtil.formatNumber100(l)),this.AllBetNum=l,this.ui_txtRound.text=v.default.instance.Model.GetLanguage(10001,1,this.ui_txtRound,this.ui_txtRound.name)+":"+e.curturn+"/"+this.tabledata._recover.maxGambleTurn,e.shoupai&&e.shoupai.length>0){var r=this.GetPlayerForPos(v.default.instance.Model.mPlayerModel.userid);r&&(this.ui_btnlook.visible=!1,r.ShowCard(e.shoupai),v.default.instance.Model.showcard=!0)}var u=0;e._pos2gamble.forEach(function(e){u=C.UIUtil.accAdd(u,e.val)});var c=new w.sc_token_tp_n;c._jackpot=u,c.pos=e.CurrentOperator,c._turnCount=e.curturn,e.GambleList&&e.GambleList.length>1&&(v.default.instance.Model._CurMinGamble=e.GambleList[0],v.default.instance.Model._CurMaxGamble=e.GambleList[1]),this.sc_token_tp_n(c,e.lt),this.myManage.player&&this.myManage.player.py&&this.myManage.isMySelf&&e.CurrentOperator==this.myManage.player.py.userid&&(e.GambleList&&e.GambleList[1]&&e.GambleList[1]<this.myManage.player.py.gold?C.UIUtil.ButtonSwitch(this.ui_btnAdd,!0):(this.ui_btnAdd.visible=!0,C.UIUtil.ButtonSwitch(this.ui_btnAdd,!1)),C.UIUtil.ButtonSwitch(this.ui_btnqipai,!0),this.Wait(!0)),this.myManage.player&&this.myManage.player.py&&this.myManage.isMySelf&&0==this.myManage.player.isW&&(e.shoupai&&e.shoupai.length>0?(this.myManage.look=!0,this.ui_btnlook.visible=!1):this.ui_btnlook.visible=!0),e.comparereq&&(this.Wait(!1),this.scheduleOnce(function(){t.sc_comparereq_tp_n(e.comparereq,e.lt,!0)},.5)),e.rechargdelay&&(e.rechargdelay.delay=e.lt,this.ui_rechargeWaitTimes.text=e.lt+"",this.sc_rechargedelay_tp_n(e.rechargdelay),this.ui_MERecharge.visible=!0,this.ui_btnTipRecharge.getChild("n4").asTextField.text="(-)"),this.ControllerBtnTask&&this.ControllerBtnTask.setSelectedIndex(0),this.taskFun=null,this.UpTaskData(e.TpTask),v.default.instance.Model._recover=null}},t.prototype.GetLocalPos=function(e){for(var t=0,i=[1,2,3,4,5],n=0,a=this.Model.palyerlist.length;n<a;n++)i.splice(i.indexOf(this.Model.palyerlist[n].pos),1),this.Model.palyerlist[n].py.userid==this.Model.mPlayerModel.userid&&(v.default.instance.Model._posServer=this.Model.palyerlist[n].pos,t=v.default.instance.Model._posServer);0==t&&(t=i[0]||1),(t<1||t>5)&&(t=1);var o=e-t;return(o<0?o+5:o)+1},t.prototype.RegistEvent=function(){var e=this;this.hideAllBtn(),this.ui_btnlook.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),e.isSendCardOver&&v.default.instance.cs_showcard_tp()}),this.ui_btnFollow.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),e.recharge350Tips()||(e.myManage.player.py.gold<v.default.instance.Model._CurMinGamble?e.tipView.ShowTipLabel(e.Model.GetLanguage(90004)):(v.default.instance.cs_gamble_tp(v.default.instance.Model._CurMinGamble,!1),e.Wait(!1),e.ClearAllUserBetState()))}),this.ui_btnAdd.onClick(function(){if(s.AudioManager.Singleton.play("ThreeCard","btn_click"),!e.recharge350Tips()){var t=2*v.default.instance.Model._CurMinGamble;t=t>v.default.instance.Model._CurMaxGamble?v.default.instance.Model._CurMaxGamble:t,e.myManage.player.py.gold<t?e.tipView.ShowTipLabel(e.Model.GetLanguage(90004)):(v.default.instance.cs_gamble_tp(t,!0),e.Wait(!1),e.ClearAllUserBetState())}}),this.ui_btnBipai.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),e.recharge350Tips()||(e.myManage.player.py.gold<v.default.instance.Model._CurMinGamble?e.tipView.ShowTipLabel(e.Model.GetLanguage(90004)):(e.myManage.StopClock(),v.default.instance.cs_comparereq_tp(),e.Wait(!1),e.ClearAllUserBetState()))}),this.ui_btnqipai.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),v.default.instance.cs_giveup_tp(e.myManage.player.pos),e.Wait(!1),e.ClearAllUserBetState()}),this.ui_BtnAddpanel.visible=!1},t.prototype.ShowSwitchTableButton=function(){},t.prototype.SwitchTalbeSuccess=function(){var e=this;this.unscheduleAllCallbacks(),this.isCanExeTexMas=!1,M.TPQueueMessages.instance.removeAllMes(),this.StopBipaiJiantou(),this.bipaiTip.Hide(),this.ui_WinPanel.visible=!1,this.ControllerBtnTask&&this.ControllerBtnTask.setSelectedIndex(0),this.taskFun=null,this.unschedule(this.FunTPEnd_UpdateGold),this.unschedule(this.FunTPEnd_ClearTable),this._bftable._DicPos2User.forEach(function(e){e.showWinLoseText(!1),e.GameOver(),e.Clear()}),this.scheduleOnce(function(){e.tipView.HideLoading(),e.initManager()},1.5)},t.prototype.ClearTable=function(){this.SetAllBetNum(0),this.AllBetNum=0,this.ChipsManager.clearAllChips()},t.prototype.sc_chat_n=function(e){var t=null,i=null;this._bftable.ForeashAllDo(function(n){null!=n.player&&n.serverpos==e.pos&&(t=n),null!=n.player&&n.serverpos==e.tpos&&(i=n)}),null!=t&&(1==e.type||(2==e.type?(this.ChatTip.addMsg({fromMe:t.isMySelf,content:e.content,head:t.player.py.wechat.wicon,type:e.type}),t.showEmj(e.content)):3==e.type?(this.ChatTip.addMsg({fromMe:t.isMySelf,content:e.content,head:t.player.py.wechat.wicon,type:e.type}),t.showChat(e.content)):5==e.type&&t&&t.ui_emoji&&i&&i.ui_emoji&&this.playerMessagePanel.show_Gift(t.ui_emoji.node,i.ui_emoji.node,e.content)))},t.prototype.sendChatMsg=function(e,t){v.default.instance.cs_chat(t,0,e)},t.prototype.GetPlayerForPos=function(e){var t=null;return this._bftable._DicPos2User.forEach(function(i){i.player&&i.player.py.userid==e&&(t=i)}),t},t.prototype.Execute=function(){if(v.default.instance.Model.isMyRound){this.myManage.SetFirstSite(),C.UIUtil.ButtonSwitch(this.ui_btnqipai,!0),this.ui_txtbipaiDynamic.text=this.getNotGiveUpNumber()>2?this.Model.GetLanguage(20007,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name):this.Model.GetLanguage(20008,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name);var e=C.UIUtil.formatNumber100(v.default.instance.Model._CurMinGamble),t=2*v.default.instance.Model._CurMinGamble;if(t=t>v.default.instance.Model._CurMaxGamble?v.default.instance.Model._CurMaxGamble:t,t=C.UIUtil.formatNumber100(t),this.ui_txtfollowDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"),this.ui_txtfollowDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+e),this.ui_txtaddDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"),this.ui_txtaddDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+t),this.myAction=!0,v.default.instance.Model._CurMinGamble>=this.myManage.player.py.gold)this.ui_btnAdd.visible=!0,this.ui_btnFollow.visible=!0,C.UIUtil.ButtonSwitch(this.ui_btnAdd,!1),C.UIUtil.ButtonSwitch(this.ui_btnFollow,!1);else{C.UIUtil.ButtonSwitch(this.ui_btnFollow,!0);var i=v.default.instance.Model.baserate,n=C.UIUtil.accAdd(v.default.instance.Model._CurMinGamble,i);n<=this.myManage.player.py.gold&&n<=v.default.instance.Model._CurMaxGamble?C.UIUtil.ButtonSwitch(this.ui_btnAdd,!0):(this.ui_btnAdd.visible=!0,C.UIUtil.ButtonSwitch(this.ui_btnAdd,!1))}this._Curaddvalue=C.UIUtil.accAdd(v.default.instance.Model.baserate,v.default.instance.Model._CurMinGamble),C.UIUtil.ButtonSwitch(this.ui_btnBipai,this.myManage.look&&v.default.instance.Model._CurTurnCount>=v.default.instance.Model._CurTurnCompare),this.Wait(!0)}},t.prototype.Wait=function(e){void 0===e&&(e=!0),this.ui_BtnAddpanel.visible=!1,this.setControllerProperty("StatusManager.btns.isShow",e?1:0),this.ui_btnAdd.enabled=e,this.ui_btnFollow.enabled=e,this.ui_btnqipai.enabled=e},t.prototype.FaPai=function(e){for(var t=this,i=[],n=0,a=0;a<e.length;a++){var o=this.GetPlayerForPos(e[a].val),l=a;o&&o.player&&(o.fguiComponent&&0==o.fguiComponent.visible&&o.Show(),o.Ready(!1),i.push(l),n=o.isbanker?l:n)}if(i.sort(function(e,t){return e-t}),1!=n){var r=[],u=[];for(a=0;a<i.length;a++)i[a]>n?r.push(i[a]):u.push(i[a]);i=[],r.forEach(function(e){i.push(e)}),u.forEach(function(e){i.push(e)})}var c=[];for(a=0;a<i.length;a++)this.GetPlayerForPos(e[i[a]].val),c.push(e[i[a]].val);for(this._baseRateSchFun&&this.unschedule(this._baseRateSchFun),this.scheduleOnce(this._baseRateSchFun=function(){for(var e=0;e<c.length;e++)t.GetPlayerForPos(c[e]).BaseRate(),s.AudioManager.Singleton.play("","chips_jiggle");0==t.AllBetNum&&(t.AllBetNum=c.length*v.default.instance.Model.baserate),t.SetAllBetNum(C.UIUtil.formatNumber100(t.AllBetNum))},1.1),a=0;a<3;a++)for(var h=0,p=function(){h++;var e=a,t=d.GetPlayerForPos(c[_]);d.scheduleOnce(function(){t.SendCard(e)},.2*a+.1*h)},d=this,_=0;_<c.length;_++)p();this._sendCardEndSchFun&&this.unschedule(this._sendCardEndSchFun),this.scheduleOnce(this._sendCardEndSchFun=function(){v.default.instance.Model.isPauseExit||(t.isCanExeTexMas=!0),t.isSendCardOver=!0,t.startShowLook&&(t.ui_btnlook.visible=!0),t.ui_globalinfo.visible=!0},.2*c.length+.1*c.length+0)},t.prototype.sc_showcard_tp=function(){this.ui_btnlook.visible=!1},t.prototype.sc_gamble_tp=function(e){this.Wait(!1),1==e.result&&this.addPourCnt++},t.prototype.sc_giveup_tp=function(e){this.myAction=!1,this.UpTaskData(e.TpTask)},t.prototype.hideAllBtn=function(){this.ui_btnFollow.visible=!1,this.ui_btnAdd.visible=!1,this.ui_btnqipai.visible=!1,this.ui_btnBipai.visible=!1,this.myAction=!1},t.prototype.sc_tablestart_tp_n=function(e){var t=this;this.gameCount++,f.default.Singleton.report("Game_level_"+this.gameCount),s.AudioManager.Singleton.play("","tc_start"),this.isCanExeTexMas=!1,this.ui_Wait.visible=!1,this.isSendCardOver=!1,this.ui_WinPanel.visible=!1,this.startShowLook=!1,this.ui_btnlook.visible=!1,this.ShowSwitchTableButton(!1),v.default.instance.Model.GameStatus=1,this._bftable._DicPos2User.forEach(function(e){e.GameOver()}),this.ui_globalinfo.visible=!1;var i=!1,n=[];C.UIUtil.Concat(n,v.default.instance.Model.palyerlist);for(var a=0;a<n.length;a++)null==e._pos2Gold.find(function(e){return e.pos==n[a].py.userid})&&(n[a].isW=1,i=!0);var o=e._pos2UserID,l=function(){var e=a,t=v.default.instance.Model.palyerlist.find(function(t){return t.py.userid==o[e].val});t&&(t.isW=0)};for(a=0;a<o.length;a++)l();if(this.ShowWatchPanel(!1),(null==this.myManage.player||!this.myManage.isMySelf||this.isUpdateTableUser()||i)&&this.entertable_tp(v.default.instance.Model.palyerlist),this.ui_personRemind.visible=!1,this.SetAllBetNum(0),this.AllBetNum=0,this.ui_Round.visible=!0,this.ui_txtRound.text=v.default.instance.Model.GetLanguage(10001,1,this.ui_txtRound,this.ui_txtRound.name)+":0/"+this.tabledata._recover.maxGambleTurn,this.ClearTable(),this.hideAllBtn(),v.default.instance.Model.MatchCode=e.MatchCode,v.default.instance.Model.showcard=!1,this.CurrentGamePlayer=[],e._pos2UserID.forEach(function(i){t.CurrentGamePlayer.push(i.val);var n=t.GetPlayerForPos(i.val);if(null!=n){t._reconnetcfirst||(n.player.isW=0),n.showWinLoseText(!1),n.resetBetLabel(),n.ResetUserCompUI(),n.UpdateMoney(n.player.py.gold);var a=i.val==e._bankerPos;n.SetBanker(a),n.player.py.userid==v.default.instance.Model.mPlayerModel.userid&&(t.ui_StatusManager.visible=!0,t.startShowLook=!0,g.AppConst.isGoldCosted=!0)}}),this._reconnetcfirst){this._reconnetcfirst=!1;var r=[0,0,0];e._pos2UserID.forEach(function(e){var i=t.GetPlayerForPos(e.val);null!=i&&0==i.player.isW&&i.ShowCard(r)}),this.scheduleOnce(function(){t.isCanExeTexMas=!0,t.isSendCardOver=!0},1),this.ui_globalinfo.visible=!0}else this.FaPai(e._pos2UserID)},t.prototype.sc_ready_tp_n=function(e){2==e.readynum&&(this.WaitGameStart(!0,3),this.ui_btnlook.visible=!1,this._bftable._DicPos2User.forEach(function(e){e.GameOver()}))},t.prototype.sc_end_tp_n=function(e){var t=this;e.ptime>=10&&v.default.instance.UnRegistNotify(),this.isCanExeTexMas=!1,2==e.SysOpen?this.scheduleOnce(function(){t.sc_end_tp_n2(e)},2):this.sc_end_tp_n2(e)},t.prototype.sc_end_tp_n2=function(e){var t=this;this.ui_Round.visible=!1,this.myAction=!1,this.ui_btnlook.visible=!1,this.NowPlayerDeal(!0),this.isExitGameTip&&(this.isExitGameTip=!1,this.tipView.Hide()),this.ui_txtAll.text=C.UIUtil.formatNumber100(this.AllBetNum)+"",this.AllBetNum=e.allmoney,this.CloseRechargeTip(),e._pos2Cards.forEach(function(i){var n=t.GetPlayerForPos(i.pos);if(null==n||null==n.player||0!=n.player.isW)return!0;if(i.pos==v.default.instance.Model.mPlayerModel.userid&&n.look)return!0;var a=e._pos2GoldWin.some(function(e){return e.pos==i.pos&&e.val>0});n.ShowCard(i.vallist,!a)});var i=this.GetPlayerForPos(v.default.instance.Model.mPlayerModel.userid);if(null!=i?e.mineCard&&e.mineCard.length>0&&!i.look&&!this.ui_HuizhuoPanel.visible&&i.player&&0==i.player.isW&&i.ShowCard(e.mineCard):this.ShowHuizhuoPanel(!1,e.cstatus),null!=e.winCard&&e.winCard.length>0){var n=this.GetPlayerForPos(e.winPos);null!=n&&(e.winPos==v.default.instance.Model.mPlayerModel.userid&&n.look||n.ShowCard(e.winCard))}this.SetAllBetNum(0),e._pos2GoldWin.forEach(function(e){var i=t.GetPlayerForPos(e.pos);if(i){if(i.showWinLoseText(!0,e.val),i.StopClock(),i.isMySelf&&e.val>=0&&e.val<30*v.default.instance.Model.baserate&&t.winnerSpine){t.ui_WinPanel.visible=!0;var n=t.winnerSpine.getChildByName("star");n.active=!1,t.winnerSpine.getComponent(sp.Skeleton).setAnimation(0,"animation_winner",!1),s.AudioManager.Singleton.play("","winner"),t.scheduleOnce(function(){n.active=!0,n.getComponent(cc.ParticleSystem).resetSystem()},.2),t.scheduleOnce(function(){t.ui_WinPanel.visible=!1,n.active=!1},3)}if(i.isMySelf&&e.val>=0&&e.val>=30*v.default.instance.Model.baserate&&(f.default.Singleton.report("game_share"),t.ShowShareButton(!0),t.scheduleOnce(function(){t.ShowShareButton(!1)},3)),i.isMySelf){var a=-e.val;f.default.Singleton.reportGameRound(C.UIUtil.formatNumber100(a))}}}),e._watchlist.forEach(function(e){if(1!=e.val)return!0;var i=t.GetPlayerForPos(e.pos);i&&i.player&&3!=i.player.isW&&(i.player.isW=1)}),this.scheduleOnce(this.FunTPEnd_UpdateGold=function(){e._pos2Gold.forEach(function(e){var i=t.GetPlayerForPos(e.pos);null!=i&&i.UpdateMoney(e.val)}),t.ui_StatusManager.visible=!1,t.hideAllBtn(),t.UpTaskData(e.taskdata)},1.2),1==e.SysOpen&&this.tipView.ShowTipLabel(this.Model.GetLanguage(90005)),v.default.instance.Model.GameStatus=0,this.scheduleOnce(this.FunTPEnd_ClearTable=function(){e._watchlist.forEach(function(i){if(1!=i.val)return!0;var n=t.GetPlayerForPos(i.pos);n&&n.player&&1==n.player.isW&&(n.isMySelf&&(g.AppConst.mPlayerModel.gold=n.player.py.gold,t.ShowHuizhuoPanel(!1,e.cstatus)),n.Clear(),v.default.instance.Model.RemovePlayerList(i.pos))}),0==v.default.instance.Model.GameStatus&&(t._bftable._DicPos2User.forEach(function(e){e.GameOver()}),t.ui_globalinfo.visible=!1),t.ui_WinPanel.visible=!1,v.default.instance.Model.isPauseExit||(t.isCanExeTexMas=!0),t.Model.isFirstTurntable&&2==l.BaseFrameNative.packType?t.onLuckyDraw("0"!=e.cstatus):(e.ptime>=10&&t.tipView.ShowTip(t.Model.GetLanguage(90018),function(){t.ExitGame()}),"0"==e.cstatus||0!=g.AppConst.isWithdr||t.ui_SharePanel.visible||("1"==e.cstatus&&r.CommonCtr.instance.ShowTipLabel("1"==g.AppConst.languageType?"Switched to higher field":"\u0909\u091a\u094d\u091a \u0915\u094d\u0937\u0947\u0924\u094d\u0930 \u092e\u0947\u0902 \u0938\u094d\u0935\u093f\u091a \u0915\u093f\u092f\u093e \u0917\u092f\u093e"),"-1"==e.cstatus&&r.CommonCtr.instance.ShowTipLabel("1"==g.AppConst.languageType?"Switched to low level field for you":"\u0906\u092a\u0915\u0947 \u0932\u093f\u090f \u0928\u093f\u092e\u094d\u0928 \u0938\u094d\u0924\u0930\u0940\u092f \u092b\u093c\u0940\u0932\u094d\u0921 \u092e\u0947\u0902 \u0938\u094d\u0935\u093f\u091a \u0915\u093f\u092f\u093e \u0917\u092f\u093e"),t.scheduleOnce(function(){0==g.AppConst.isWithdr&&0==t.ui_SharePanel.visible&&(v.default.instance.cs_entertablenum_tp(),t.tipView.ShowLoading())},1)),e.isWithdr&&2==l.BaseFrameNative.packType&&(f.default.Singleton.report("TP_Show_WinthdarwPanel"),t.ui_WinthdarwPanel.node.setScale(0),t.ui_WinthdarwPanel.visible=!0,t.ui_WinthdarwPanel.node.stopAllActions(),t.ui_WinthdarwPanel.node.runAction(cc.scaleTo(.2,1).easing(cc.easeSineOut())),v.default.instance.Model.isPauseExit=!0,v.default.instance.cs_applyexittable_tp(),t.isCanExeTexMas=!1,M.TPQueueMessages.instance.removeAllMes()),t.ChipsManager.clearAllChips(),t.ShowSwitchTableButton(!0))},3)},t.prototype.BiPaiLose=function(){this.hideAllBtn(),null!=this.myManage&&null!=this.myManage.player&&null!=this.myManage.player.py&&(v.default.instance.Model.MyEndMoney=this.myManage.player.py.gold)},t.prototype.entertable_tp=function(e){var t=this;if(this._bftable&&this._bftable.userList&&e){this._bftable.userList.forEach(function(e){var t=e;t&&(t.hideBetNode(),t.player=null)}),this.ChipsManager.Stop(),this.watchUserList=[],e.forEach(function(e){e.py.userid==v.default.instance.Model.mPlayerModel.userid&&(v.default.instance.Model._posServer=e.pos,e.pos<6&&1!=e.isW&&(v.default.instance.Model.isInTable=!0),t.ShowWatchPanel(2==e.isW))});for(var i=0;i<e.length;i++){var n=e[i],a=this.GetLocalPos(n.pos),o=this._bftable.userList[a-1];n&&1!=n.isW&&o&&(o.hideBetNode(),o.updateUserMessage(n),o.Replace(),o.UpdateMoney()),n&&1==n.isW&&this.watchUserList.push(n)}this._bftable.userList.forEach(function(e){var t=e;null==t.player&&t.Clear()}),this.showPersonRemind(),this.isShowSitdownBtn()}},t.prototype.userEnterRoom=function(e){this.watchUserList=[];for(var t=0;t<e.length;t++){var i=e[t];i&&1==i.isW&&(this.watchUserList.push(i),v.default.instance.Model.RemovePlayerList(i.py.userid))}},t.prototype.isShowSitdownBtn=function(){v.default.instance.Model.palyerlist.length<10&&v.default.instance.Model.isInTable},t.prototype.sc_gamble_tp_n=function(e){this.Model._CurTurnCount=e.curturn,s.AudioManager.Singleton.play("",e.addrate?"tc_xiazhuallin":"chips_jiggle"),e.addrate&&s.AudioManager.Singleton.play("","rise"),this.ui_globalinfo.visible=!0;var t=this.GetPlayerForPos(e.pos);if(t&&t.player){t.StopClock(),t.updateStateText(e.addrate?4:1);var i=C.UIUtil.formatNumber100(e.money);t.totalBetNum=C.UIUtil.formatNumber100(e.gambleAll-e.money),t.GenerateChip(i,C.UIUtil.accAdd(t.player.py.gold,-e.money)),e.curturn>=2&&e.money>=8*v.default.instance.Model.baserate&&t.ShowHeadBetAnim(!0)}this.ui_txtRound.text=v.default.instance.Model.GetLanguage(10001,1,this.ui_txtRound,this.ui_txtRound.name)+":"+(e.curturn?e.curturn:0)+"/"+this.tabledata._recover.maxGambleTurn,e._pot>0?this.AllBetNum=e._pot:this.AllBetNum=C.UIUtil.accAdd(this.AllBetNum,e.money),this.SetAllBetNum(C.UIUtil.formatNumber100(this.AllBetNum))},t.prototype.sc_giveup_tp_n=function(e){s.AudioManager.Singleton.play("","pack");var t=this.GetPlayerForPos(e.pos);null!=t&&(t.ShowGiveUp(),t.StopClock(),t.isMySelf&&(v.default.instance.Model.isgiveup=!0,this.myAction=!1,this.ui_btnlook.visible=!1,this.ShowSwitchTableButton(!0),this.isExitGameTip&&(this.isExitGameTip=!1,this.tipView.Hide())))},t.prototype.sc_comparereq_tp_n=function(e,t,i){var n=this;void 0===t&&(t=14),void 0===i&&(i=!1),this.bipaiApplyUser=null,this.bipaiTargetUser=null;var a=this.GetPlayerForPos(e._applyId),o=this.GetPlayerForPos(e._targetId);if(a&&o){this.isApplyBipai=!0,s.AudioManager.Singleton.play("","tp_sideshow");var l=C.UIUtil.formatNumber100(e.CompareGold);a.GenerateChip(l,e.curGold),this.AllBetNum=C.UIUtil.accAdd(this.AllBetNum,e.CompareGold),this.SetAllBetNum(C.UIUtil.formatNumber100(this.AllBetNum)),this.Model._CurTurnCount>=2&&e.CompareGold>=8*v.default.instance.Model.baserate&&a.ShowHeadBetAnim(!0),a.StopClock(),a.SetFirstSite(),o.ShowClock(),o.SetLastSite(),this.bipaiTargetUser=o,this.bipaiApplyUser=a,a.isMySelf&&(this.ui_bipaiWaitUser.visible=!0),o.isMySelf&&(i?this.bipaiTip.ShowTip(a.player,o.player,e.targrefuse,t):this.scheduleOnce(function(){n.bipaiTip.ShowTip(a.player,o.player,e.targrefuse,t)},1.5)),this.getNotGiveUpNumber()>2&&this.BipaiJiantou(a,o,i)}},t.prototype.bipaiJujue=function(e,t){if(!t){var i=this.GetPlayerForPos(e);i&&i.bipaiJujue()}this.bipaiApplyUser&&this.bipaiApplyUser.isMySelf&&(this.tipView.Hide(),this.bipaiApplyUser=null),this.ui_bipaiWaitUser.visible=!1},t.prototype.sc_compare_tp_n=function(e){var t=this;s.AudioManager.Singleton.play("","Vsbegin"),this.ui_bipaiWaitUser.visible=!1,this.bipaiApplyUser&&this.bipaiApplyUser.isMySelf&&(this.tipView.Hide(),this.bipaiApplyUser=null);var i=e._jackpot-this.AllBetNum;this.AllBetNum=e._jackpot,this.SetAllBetNum(C.UIUtil.formatNumber100(this.AllBetNum));var n=this.GetPlayerForPos(e._applypos),a=e._applypos!=e.failpos,o=this.GetPlayerForPos(e._targetpos),l=!a;if(n&&o){n.StopClock(),o.StopClock(),(n.isMySelf&&!a||o.isMySelf&&!l)&&(v.default.instance.Model.isgiveup=!0,this.myAction=!1);var r=[],u=[];r=a?e.wincard:e.failcard,u=l?e.wincard:e.failcard,n.isMySelf&&a&&r&&0==r.length&&n.look?r=n.ShoupaiCards:!n.isMySelf&&r&&3==r.length&&n.ShowCard(r,!a),o.isMySelf&&l&&u&&0==u.length&&o.look?u=o.ShoupaiCards:!o.isMySelf&&u&&3==u.length&&o.ShowCard(u,!l);var c=function(){a||(n.ShowLose(!0),n.bipaiLoseAnim()),l||(o.ShowLose(!0),o.bipaiLoseAnim()),t.StopBipaiJiantou(),t.bipaiApplyUser=null,t.bipaiTargetUser=null,t.isApplyBipai=!1,(!a&&n.isMySelf||!l&&o.isMySelf)&&(t.ShowSwitchTableButton(!0),t.ui_btnlook.visible=!1)};this.getNotGiveUpNumber()>2?(n.updateStateText(3),this.isApplyBipai?this.bipaiTip.ShowVS(c):(n.GenerateChip(C.UIUtil.formatNumber100(i),n.player.py.gold-i),this.BipaiJiantou(n,o),this.scheduleOnce(function(){t.bipaiTip.ShowVS(c)},1.3))):(this.isApplyBipai||n.GenerateChip(C.UIUtil.formatNumber100(i),n.player.py.gold-i),s.AudioManager.Singleton.play("","tp_show"),this.bipaiTip.ShowUserVS(n.player,o.player,r,u,a,c))}},t.prototype.sc_exittable_n=function(e){var t=this;e.disagree&&e.disagree.forEach(function(e){t.GetPlayerForPos(e).Clear()})},t.prototype.getNotGiveUpNumber=function(){var e=this,t=0;return this.CurrentGamePlayer?(this.CurrentGamePlayer.forEach(function(i){var n=e.GetPlayerForPos(i);n&&n.player&&!n.GiveUp&&!n.Lose&&0==n.player.isW||t++}),this.CurrentGamePlayer.length-t):0},t.prototype.isUpdateTableUser=function(){var e=0,t=0;return this._bftable.userList.forEach(function(t){t.player&&e++}),v.default.instance.Model.palyerlist.forEach(function(e){0==e.isW&&e.pos<6&&t++}),e!=t},t.prototype.sc_disconnect_n=function(e){var t=this.GetPlayerForPos(e.pos),i=1!=e.reconnect;null!=t&&t.DisconnetcOrReline(i)},t.prototype.sc_token_tp_n_Delay=function(e,t){var i=this;void 0===t&&(t=15),this.AllBetNum=e._jackpot,this.scheduleOnce(function(){i.sc_token_tp_n(e,t)},1)},t.prototype.sc_token_tp_n=function(e,t){void 0===t&&(t=15),this.ui_bipaiWaitUser.visible=!1,this.AllBetNum=e._jackpot;var i=this.GetPlayerForPos(e.pos);if(this.CloseRechargeTip(),this.isApplyBipai=!1,i)if(this.StopClockAllUser(),i.ShowClock(t,15),i.isMySelf){s.AudioManager.Singleton.play("","your_turn"),this.ui_StatusManager.visible=!0,this.myAction=!0,C.UIUtil.ButtonSwitch(this.ui_btnFollow,!0),C.UIUtil.ButtonSwitch(this.ui_btnAdd,!0),v.default.instance.Model.showcard||2==this.getNotGiveUpNumber()?C.UIUtil.ButtonSwitch(this.ui_btnBipai,e._turnCount>=v.default.instance.Model._CurTurnCompare):C.UIUtil.ButtonSwitch(this.ui_btnBipai,!1),C.UIUtil.ButtonSwitch(this.ui_btnqipai,!0);var n=v.default.instance.Model._CurMinGamble;this.followCoin=v.default.instance.Model._CurMinGamble,this.ui_betNumber.text=C.UIUtil.formatNumber100(this.followCoin)+"";var a=n,o=2*n;o=o>v.default.instance.Model._CurMaxGamble?v.default.instance.Model._CurMaxGamble:o,a=C.UIUtil.formatNumber100(a),o=C.UIUtil.formatNumber100(o),a>C.UIUtil.formatNumber100(i.player.py.gold)&&(this.ui_BtnAddpanel.visible=!1),this.ui_txtfollowDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"),this.ui_txtfollowDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+a),this.ui_txtaddDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"),this.ui_txtaddDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+o),this.ui_txtbipaiDynamic.text=this.getNotGiveUpNumber()>2?this.Model.GetLanguage(20007,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name):this.Model.GetLanguage(20008,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name),this.Wait(!0),this.ShowRechargeVerifyUserGold(t)}else this.Wait(!1),this.myAction=!1;this.StopBipaiJiantou(),null!=this.bipaiTargetUser&&(this.bipaiTargetUser.StopClock(),this.bipaiTargetUser=null),this.ui_Round.visible=!0,this.ui_txtRound.text=v.default.instance.Model.GetLanguage(10001,1,this.ui_txtRound,this.ui_txtRound.name)+":"+e._turnCount+"/"+this.tabledata._recover.maxGambleTurn},t.prototype.ShowRechargeVerifyUserGold=function(e){var t=this;if(2==l.BaseFrameNative.packType){var i=this.myManage.player.py.gold<4*v.default.instance.Model._CurMinGamble,n=this.myManage.player.py.gold<v.default.instance.Model._CurMinGamble;if((i||n)&&e<=15){this.ui_MERecharge.visible=!0,this.myManage.StopClock(),this.unschedule(this.MEwaitRechargeFun);var a=e,o=this.ui_btnTipRecharge.getChild("n4").asTextField;o.text="("+e+")",this.schedule(this.MEwaitRechargeFun=function(){o.text="("+a+")",0==a&&(v.default.instance.cs_giveup_tp(t.myManage.player.pos),t.Wait(!1),t.ui_MERecharge.visible=!1),a--},1,14)}else if(this.myManage.player.py.gold<v.default.instance.Model._CurMinGamble&&e>15&&(this.ui_MERecharge.visible=!0,this.ui_btnTipRecharge.getChild("n4").asTextField.text="(-)",this.ui_RechargeTip.visible=!0,this.myManage&&this.myManage.isMySelf&&(this.myManage.StopClock(),this.myManage.ShowClock(e+2,350,this.ui_rechargeWaitTimes),this.addCash&&this.addCash.fguiComponent.visible))){var s=C.UIUtil.formatNumber100(v.default.instance.Model._CurMinGamble-this.myManage.player.py.gold);R.default.instance.limitGold=this.Model.reChargeScore,this.addCash.init(v.default.instance.Model.tableid,s,s,e+1)}}},t.prototype.NextAction=function(e){v.default.instance.Model.isMyRound=!1,this._bftable.userList.forEach(function(t){return null==t||!t.player||void(t.player.py.userid==e&&(v.default.instance.Model.isMyRound=!0,t.Execute()))})},t.prototype.sc_showcard_tp_n=function(e,t){s.AudioManager.Singleton.play("","see card");var i=this.GetPlayerForPos(e);if(i)if(i.isMySelf){v.default.instance.Model.showcard=!0;var n=v.default.instance.Model._CurMinGamble,a=n,o=2*n;o=o>v.default.instance.Model._CurMaxGamble?v.default.instance.Model._CurMaxGamble:o,a=C.UIUtil.formatNumber100(a),o=C.UIUtil.formatNumber100(o),this.myAction&&this.myManage.player.py.gold<v.default.instance.Model._CurMinGamble&&2==l.BaseFrameNative.packType&&(this.ShowRechargeVerifyUserGold(15),i.StopClock(),i.ShowClock(15)),this.ui_txtfollowDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtfollowDynamic.asCom,"ui_txtfollowDynamic"),this.ui_txtfollowDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+a),this.ui_txtaddDynamic.text=v.default.instance.Model.showcard?this.Model.GetLanguage(20009,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"):this.Model.GetLanguage(20010,1,this.ui_txtaddDynamic.asCom,"ui_txtaddDynamic"),this.ui_txtaddDynamic2.text=(v.default.instance.Model.showcard,this.Model.CheckSymbol("R$:","")+o),this.ui_txtbipaiDynamic.text=this.getNotGiveUpNumber()>2?this.Model.GetLanguage(20007,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name):this.Model.GetLanguage(20008,1,this.ui_txtbipaiDynamic.asCom,this.ui_txtbipaiDynamic.name),C.UIUtil.formatNumber100(this.followCoin)<a&&(this.followCoin=n,this.ui_betNumber.text=C.UIUtil.formatNumber100(this.followCoin)+""),C.UIUtil.ButtonSwitch(this.ui_btnBipai,v.default.instance.Model._CurTurnCount>=v.default.instance.Model._CurTurnCompare),this.ui_btnBipai.visible=this.myAction,this.ui_btnlook.visible=!1,i.ShowLook(!0,t),s.AudioManager.Singleton.play("","TPG-Glowanimation"),v.default.instance.Model.isgiveup||(C.UIUtil.ButtonSwitch(this.ui_btnqipai,this.myAction),this.ui_btnqipai.visible=this.myAction)}else i.updateStateText(5),i.ShowLook(!0)},t.prototype.sc_compare_tp=function(e){this.myManage.StopClock(),e.win?s.AudioManager.Singleton.play("","tc_bipai_win"):s.AudioManager.Singleton.play("","tc_bipai_lose"),this.hideAllBtn()},t.prototype.show_roomid=function(){this.tableBrate=this.tabledata.brate,this.ui_roomidText.text=v.default.instance.Model.tableid+"",this.ui_bootAmountText.text=this.tabledata._recover.maxturn+"",this.ui_chaalLimitText.text=C.UIUtil.formatNumber100(this.tabledata._recover.maxGamble)+"",this.ui_maxBlindsText.text=C.UIUtil.formatNumber100(this.tabledata.brate)+"",this.ui_potLimit.text=C.UIUtil.formatNumber100(this.tabledata._recover.potlimit)+"",this.maxTurn=this.tabledata._recover.maxGambleTurn,this.maxCount=null==this.tabledata._recover.maxC?0:this.tabledata._recover.maxC,v.default.instance.Model.maxCount=this.maxCount},t.prototype.NowPlayerDeal=function(e){var t=this;if(void 0===e&&(e=!1),e)return null!=this.ChouMaAniCallBack&&(this.ChouMaAniCallBack.forEach(function(e){e()}),this.ChouMaAniCallBack=null),void(null!=this.CaechChouMaAniCallBack&&(this.CaechChouMaAniCallBack.forEach(function(e){e()}),this.CaechChouMaAniCallBack=null));null!=this.ChouMaAniCallBack&&(this.ChouMaAniCallBack.forEach(function(e){e()}),this.ChouMaAniCallBack=null),null!=this.CaechChouMaAniCallBack&&(this.ChouMaAniCallBack=[],this.CaechChouMaAniCallBack.forEach(function(e){t.ChouMaAniCallBack.push(e)}),this.CaechChouMaAniCallBack=null)},t.prototype.SetCeachChoumaAni=function(e){null==this.CaechChouMaAniCallBack&&(this.CaechChouMaAniCallBack=[]),this.CaechChouMaAniCallBack.push(e)},t.prototype.Reset=function(){this.initManager()},t.prototype.intcomponent=function(){this.tipView=this.addFguiComponent(u.default),this.playerMessagePanel=this.addFguiComponent(h.default),this.playerMessagePanel.MyStart(),this.ChatTip=this.addFguiComponent(L.default,!0),this.ChatTip.sendChatMsg=this.sendChatMsg.bind(this),this.ChatTip.IsInput=!1,this.bipaiTip=this.ui_BipaiPopup.node.addComponent(S.default),this.bipaiTip.fguiComponent=this.ui_BipaiPopup,this.ui_BipaiPopup.visible=!0,this.bipaiTip.active=!0,this.bipaiTip.MyStart(),this.TaskPanel=this.ui_TaskPanel.node.addComponent(x.default),this.TaskPanel.fguiComponent=this.ui_TaskPanel,this.TaskPanel.node.active=!0,this.TaskPanel.MyStart(),this.ChipsManager=this.ui_ChipsManager.node.addComponent(T.default),this.ChipsManager.fguiComponent=this.ui_ChipsManager},t.prototype.addListener=function(){var e=this;this.ui_btnSet.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_up"),e.ShowMenu(!0)}),this.ui_btn_close_help.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_close"),e.ui_HelpSettingPanel.visible=!1}),this.ui_addpanel_1.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click");var t=v.default.instance.Model._CurMaxGamble;2*e.followCoin>t||(e.followCoin=2*e.followCoin,e.ui_betNumber.text=C.UIUtil.formatNumber100(e.followCoin)+"")}),this.ui_addpanel_2.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click");var t=v.default.instance.Model._CurMinGamble;e.followCoin/2<t||(e.followCoin=e.followCoin/2,e.ui_betNumber.text=C.UIUtil.formatNumber100(e.followCoin)+"")}),this.ui_btnTableInfo.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_up"),e.ShowTableInfo(!0)}),this.ui_btnCloseRoomInfo.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_close"),e.ShowTableInfo(!1)}),this.ui_btn_toHall.onClick(function(){e.ShowMenu(!1);var t=v.default.instance.Model.levelid.toString().replace(v.default.instance.Model.gameid.toString(),"");if(e.bipaiTargetUser&&e.bipaiTargetUser.player&&e.bipaiTargetUser.isMySelf||e.bipaiApplyUser&&e.bipaiApplyUser.player&&e.bipaiApplyUser.isMySelf)e.tipView.ShowTipLabel(e.Model.GetLanguage(90006));else if(e.myManage.isMySelf&&(0==v.default.instance.Model.GameStatus||e.myManage.GiveUp||e.myManage.Lose||v.default.instance.Model.palyerlist.length<=1||null==e.myManage.player||2==e.myManage.player.isW||"0"==t))v.default.instance.cs_applyexittable_tp();else if(e.myManage.isMySelf){e.isExitGameTip=!0;var i=0==e.myManage.totalBetNum?C.UIUtil.formatNumber100(e.tabledata.brate):e.myManage.totalBetNum;e.tipView.ShowTip(e.Model.GetLanguage(90007)+i+e.Model.GetLanguage(90008),function(){v.default.instance.cs_applyexittable_tp(),e.isExitGameTip=!1},function(){e.isExitGameTip=!1})}else v.default.instance.cs_applyexittable_tp()}),this.ui_btnHuanzhuo.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),v.default.instance.cs_entertablenum_tp(),e.tipView.ShowLoading(),e.ShowSwitchTableButton(!1),e.ShowWatchPanel(!1)}),this.ui_btn_transposition.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_close"),e.ShowMenu(!1),e.ShowWatchPanel(!1),e.ShowSwitchTableButton(!1),v.default.instance.cs_entertablenum_tp(),e.tipView.ShowLoading(),e.ui_SharePanel.visible=!1}),this.ui_btn_situp.onClick(function(){e.ShowMenu(!1),v.default.instance.cs_situpkeep_tp()}),this.ui_btn_help.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_up"),e.ui_HelpSettingPanel.visible=!0,e.ShowMenu(!1)});var t=this.ui_btn_setting.getChild("menu_btn_setting_title").asTextField;t.text=this.Model.GetLanguage(70004,1,t.asCom,"settingTitle1"),this.ui_btn_setting.onClick(function(){e.ShowMenu(!1),e.settingView?e.settingView.Show():(e.settingView=e.addFguiComponent(G.default,!0),e.settingView.selectLanguageFun=function(){e.OnLoadLanguage(),e.Model.UpdateVariationLanguage()})});var i=this.ui_btn_addRobot.getChild("menu_btn_setting_title").asTextField;i.text=this.Model.GetLanguage(90016,1,i.asCom,"settingTitle2"),this.ui_btn_addRobot.onClick(function(){v.default.instance.cs_enterrobot_tp()}),this.ui_MenuTip.getChild("btn_CloseMenu").asButton.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_close"),e.ShowMenu(!1)}),this.ui_btnChat.clearClick(),this.ui_btnChat.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_slider"),e.ChatTip.Show()}),this.ui_btnBack.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),e.sitdown(),e.ui_HuizhuoPanel.visible=!1,e.myManage.player&&(e.myManage.player.isW=3)}),this.ui_btnTipRecharge.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_up"),e.ui_RechargeTip.visible=!0,e.ui_btnTipRecharge.getChild("n4").asTextField.text="(-)",e.unschedule(e.MEwaitRechargeFun),v.default.instance.cs_rechargedelay_tp(),r.CommonCtr.instance.ShowLoading()}),this.ui_btnRecharge.visible=!1,this.ui_btnRecharge.onClick(function(){e.ui_MERecharge.visible||(s.AudioManager.Singleton.play("ThreeCard","pop_up"),e.showAddCash())}),this.ui_btnTask.onClick(function(){e.ShowTaskJindu()}),this.ui_BtnShare.visible=!1,this.ui_BtnShare.onClick(function(){e.ui_BtnShare.visible=!1,d.MgrNative.getInstance().copyUserId(g.AppConst.inviteData.code,g.AppConst.mPlayerModel.userid,"\ud83d\udcb5Play Teen Patti and win Real Cash!\ud83d\udcb5\n\ud83d\udd25Install and got bonus + R$50\ud83d\udd25\n\ud83d\udcb0Daily winnings up to R$ 7 Lakhs\ud83d\udcb0\n\ud83d\ude0dSuper fast cash withdraw\ud83d\ude0d\n\ud83d\udc47\ud83d\udc47\ud83d\udc47"),e.scheduleOnce(function(){v.default.instance.cs_situpkeep_tp(),v.default.instance.Model.GameStatus=0,N.default.capture(e.fguiComponent.node,{width:e.fguiComponent.node.width,height:e.fguiComponent.node.height},"0"),e.ui_SharePanel.visible=!0},.2)}),this.ui_btn_Share_close.visible=!1,this.ui_btn_Share_close.onClick(function(){e.ui_SharePanel.visible=!1}),this.ui_btnWithdraw.onClick(function(){f.default.Singleton.report("TP_Click_btnWithdraw"),g.AppConst.isWithdr=!0,v.default.instance.Model.isPauseExit=!1,e.ExitGame()}),this.ui_btn_Share_facebook.onClick(function(){e.SahreAPP(d.EnumShareType.Facebook)}),this.ui_btn_Share_wechat.onClick(function(){d.MgrNative.getInstance().showWhatsAppService()})},t.prototype.SahreAPP=function(e){f.default.Singleton.report("game_share_click_share"),f.default.Singleton.report("game_share_share_success"),this.Model.mPlayerModel.ShareCount+=1,v.default.instance.cs_sharerewards(),d.MgrNative.getInstance().copyUserId(g.AppConst.inviteData.code,g.AppConst.mPlayerModel.userid,"\ud83d\udcb5Play Teen Patti and win Real Cash!\ud83d\udcb5\n\ud83d\udd25Install and got bonus + R$50\ud83d\udd25\n\ud83d\udcb0Daily winnings up to R$ 7 Lakhs\ud83d\udcb0\n\ud83d\ude0dSuper fast cash withdraw\ud83d\ude0d\n\ud83d\udc47\ud83d\udc47\ud83d\udc47"),N.default.share(e)},t.prototype.sitdown=function(){v.default.instance.cs_sitdown_tp(0,0)},t.prototype.sc_sitdown_tp_n=function(e){for(var t=!1,i=0;i<v.default.instance.Model.palyerlist.length;i++)if(v.default.instance.Model.palyerlist[i].py.userid==e.py.userid){var n=this.GetPlayerForPos(e.py.userid);n&&n.Clear(),v.default.instance.Model.palyerlist[i]=e,t=!0;break}t||v.default.instance.Model.palyerlist.push(e),this.userJoinTable(e),this.showPersonRemind()},t.prototype.userJoinTable=function(e){if((!v.default.instance.Model._recover||0==v.default.instance.Model._recover._status)&&e.py.userid==v.default.instance.Model.mPlayerModel.userid)return v.default.instance.Model._posServer=e.pos,void this.entertable_tp(v.default.instance.Model.palyerlist);var t=this.GetLocalPos(e.pos),i=this._bftable.userList[t-1],n=e;1!=n.isW&&i&&(i.player=n,i.isMySelf=n.py.userid==v.default.instance.Model.mPlayerModel.userid,i.Replace(),i.updateUserMessage(n),i.showZhanwei(!1),i.setCardType(0),i.ResetUserCompUI(),i.isMySelf&&(this.ui_btnlook.visible=!1,i.GameOver()),v.default.instance.Model._recover&&0!=v.default.instance.Model._recover._status&&i.isMySelf&&(v.default.instance.Model._posServer=e.pos,this.reconnectionInitView(v.default.instance.Model._recover)))},t.prototype.sc_one_exittable_n=function(e){var t=this.GetPlayerForPos(e.userid);t&&t.Clear(),e.userid==v.default.instance.Model.mPlayerModel.userid&&0==v.default.instance.Model.isPauseExit&&this.ExitGame(),v.default.instance.Model.RemovePlayerList(e.userid),this.showPersonRemind()},t.prototype.showPlayer=function(e){this.playerMessagePanel&&!e.isMySelf&&this.playerMessagePanel.showData(e,this.user1Manage.node,e.node)},t.prototype.sc_situpkeep_tp=function(){this.hideAllBtn(),this.ui_btnlook.visible=!1,this.ShowHuizhuoPanel(!0),this._bftable._DicPos2User.forEach(function(e){e.isMySelf||e.Clear()})},t.prototype.situpkeep_tp_n=function(e){if(!this._isBigend){for(var t=0;t<e.userid.length;t++){var i=this.GetPlayerForPos(e.userid[t]);if(!i)break;i.isMySelf&&(this.hideAllBtn(),this.ui_btnlook.visible=!1,this.ShowHuizhuoPanel(),g.AppConst.mPlayerModel.gold=i.player.py.gold),e.isK[t]}this.showPersonRemind()}},t.prototype.ExitGame=function(){if(!v.default.instance.Model.isPauseExit){this.isCanExeTexMas=!1,v.default.instance.UnRegistNotify();for(var e=0;e<this._bftable.userList.length;e++)this._bftable.userList[e].Clear();this.ui_btnlook.visible=!1,v.default.instance.Model.palyerlist=[],M.TPQueueMessages.instance.removeAllMes(),cc.audioEngine.stopAll(),y.SceneManager.Singleton.loadScene("GameHall","gameHall"),this.unscheduleAllCallbacks()}},t.prototype.showPersonRemind=function(){v.default.instance.Model.palyerlist.length<(v.default.instance.Model._recover?v.default.instance.Model._recover.cC:2)?(this.ui_personRemind.visible=!0,this.ui_personRemindTxt.text=this.Model.GetLanguage(30011,1,this.ui_personRemindTxt.asCom,this.ui_personRemindTxt.name)):(this.isShowed=!0,this.ui_personRemind.visible=!1)},t.prototype.ShowTableInfo=function(e){this.ui_tableinfo.visible=e},t.prototype.ShowMenu=function(e){this.ui_MenuTip.visible=e},t.prototype.onChangedSound=function(e){var t=e.value/100;s.AudioManager.Singleton.YinxiaoVolume=t},t.prototype.onChangedMusic=function(e){var t=e.value/100;s.AudioManager.Singleton.MusicVolume=t},t.prototype.BipaiJiantou=function(e,t,i){if(void 0===i&&(i=!1),e&&t){s.AudioManager.Singleton.play("","tc_bipaiJiantou");var n=this.convertNodeSpaceAR(e.ui_emoji.node,t.ui_emoji.node);2!=t.localpos&&3!=t.localpos||(n=cc.v3(n.x,n.y+25,0));var a=n.sub(e.ui_emoji.node.position),o=Math.abs(a.mag()),l=(C.UIUtil.NumberToInt(o/100),-cc.v2(a.x,a.y).signAngle(cc.v2(0,1))/Math.PI*180);this.ui_bipaiJiantouCom.visible=!0,this.moveN1toN2(this.ui_bipaiJiantouCom.node,e.ui_emoji.node),this.ui_bipaiJiantouCom.node.angle=l,this.jiantouPrefab.height=2*o;var r,u=this.jiantouPrefab.getChildByName("wanjiabipai").getComponent(sp.Skeleton);if(u.timeScale=2,i)return this.ui_bipaiQiu.visible=!0,this.ui_bipaiQiu.node.angle=l,this.moveN1toN2(this.ui_bipaiQiu.node,t.ui_emoji.node),(r=this.ui_bipaiQiu.getController("qiuAnim")).setSelectedIndex(1),void u.setAnimation(0,"liuguang1",!0);u.setAnimation(0,"wanjiabipai",!1),this.ui_bipaiQiu.visible=!0,this.ui_bipaiQiu.node.angle=l,this.moveN1toN2(this.ui_bipaiQiu.node,e.ui_emoji.node),(r=this.ui_bipaiQiu.getController("qiuAnim")).setSelectedIndex(0);var c=this.convertNodeSpaceAR(this.ui_bipaiQiu.node,e.ui_emoji.node),h=c.x-=76*Math.sin(-l/180*3.14),p=c.y-=76*Math.cos(-l/180*3.14),d=this.convertNodeSpaceAR(this.ui_bipaiQiu.node,t.ui_emoji.node);this.ui_bipaiQiu.node.stopAllActions(),this.ui_bipaiQiu.node.runAction(cc.sequence(cc.delayTime(.15),cc.moveTo(1.3,cc.v2(h,p)).easing(cc.easeOut(1.8)),cc.moveTo(.5,cc.v2(d.x,d.y)),cc.callFunc(function(){r.setSelectedIndex(1),u.setAnimation(0,"liuguang1",!0),t.ShakeHead()})))}},t.prototype.JiantouFade=function(e){if(this.isJiantouFade){var t=this;this.jiantouSch&&this.unschedule(this.jiantouSch);for(var i=0;i<e.length;i++)e[i].opacity=0;var n=0;this.schedule(this.jiantouSch=function(){n<e.length&&(e[n].stopAllActions(),e[n].runAction(cc.sequence(cc.fadeTo(.01,100),cc.fadeTo(.05,255),cc.callFunc(function(){n==e.length-1&&t.scheduleOnce(function(){t.JiantouFade(e)},.1),n++}))),e[n-1]&&e[n-1].runAction(cc.fadeTo(.1,100)))},.1,e.length-1)}},t.prototype.StopBipaiJiantou=function(){this.ui_bipaiJiantouCom.visible=!1,this.ui_bipaiQiu.visible=!1,this.ui_bipaiQiu.getController("qiuAnim").setSelectedIndex(0)},t.prototype.SetAllBetNum=function(e){var t=this;void 0===e&&(e=0),this.setallBetFun&&this.unschedule(this.setallBetFun),0!=e?this.scheduleOnce(this.setallBetFun=function(){C.UIUtil.deal(e)>2&&e.toFixed(3).slice(0,-1),t.ui_txtAll.text=e+""},.5):this.ui_txtAll.text=e+""},t.prototype.WaitGameStart=function(e,t){var i=this;if(this.ui_Wait.visible=e,e){var n=t;this.ui_waitTime.text=n+"",this.waitgametime&&this.unschedule(this.waitgametime),this.schedule(this.waitgametime=function(){if(--n<0||v.default.instance.Model.palyerlist.length<2)return i.ui_Wait.visible=!1,void i.unschedule(i.waitgametime);i.ui_waitTime.text=n+""},1,t+1)}},t.prototype.sc_rechargedelay_tp=function(e){var t=this;this.Model.reChargeScore=e.reChargeScore||0,this.scheduleOnce(function(){t.showAddCash(Number.parseInt(t.ui_rechargeWaitTimes.text)-2)},.3)},t.prototype.sc_rechargedelay_tp_n=function(e){this.ui_rechargeWaitTimes.text=e.delay+2+"";var t=this.GetPlayerForPos(e.userid);t&&(t.StopClock(),t.ShowClock(e.delay+2,352,this.ui_rechargeWaitTimes,t.isMySelf?v.default.instance.GetReChargeOrder.bind(this):null),this.ui_RechargeTip.visible=!0,this.ui_rechargeUserName.text="["+t.player.py._n+"]")},t.prototype.showAddCash=function(e){void 0===e&&(e=0);var t=0,i=0;this.myManage.player&&this.myManage.isMySelf&&(i=C.UIUtil.formatNumber100(v.default.instance.Model._CurMinGamble-this.myManage.player.py.gold),t=this.myManage.player.py.gold),R.default.instance.limitGold=this.Model.reChargeScore,this.addCash?this.addCash.Show():this.addCash=this.addFguiComponent(I.default),this.addCash.init(v.default.instance.Model.tableid,t,i,e)},t.prototype.sc_addgoldingame=function(e){v.default.instance.Model.MyEndMoney=e.lGold,this.myManage&&this.myManage.player&&this.myManage.isMySelf&&(this.myManage.UpdateMoney(e.lGold),e.lGold>=v.default.instance.Model._CurMinGamble&&(v.default.instance.Model.isPauseExit=!1,this.CloseRechargeTip())),this.ui_HuizhuoPanel.visible&&this.ShowHuizhuoPanel(),1==e.status&&this.tipView.ShowTipLabel(this.Model.GetLanguage(90009))},t.prototype.CloseRechargeTip=function(){this.tips350cnt=0,this.ui_RechargeTip.visible=!1,this.ui_MERecharge.visible=!1,this.MEwaitRechargeFun&&this.unschedule(this.MEwaitRechargeFun),v.default.instance.Model.isPauseExit&&this.ShowService()},t.prototype.recharge350Tips=function(){if(0!=this.ui_RechargeTip.visible)return!(0!=this.tips350cnt||!this.ui_RechargeTip.visible||(r.CommonCtr.instance.ShowTip("1"==g.AppConst.languageType?"Your order is being processed, please wait patiently for the account to arrive before playing the game.":"\u0906\u092a\u0915\u093e \u0906\u0926\u0947\u0936 \u0938\u0902\u0938\u093e\u0927\u093f\u0924 \u0915\u093f\u092f\u093e \u091c\u093e \u0930\u0939\u093e \u0939\u0948, \u0915\u0943\u092a\u092f\u093e \u0917\u0947\u092e \u0916\u0947\u0932\u0928\u0947 \u0938\u0947 \u092a\u0939\u0932\u0947 \u0916\u093e\u0924\u0947 \u0915\u0947 \u0906\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0927\u0948\u0930\u094d\u092f\u092a\u0942\u0930\u094d\u0935\u0915 \u092a\u094d\u0930\u0924\u0940\u0915\u094d\u0937\u093e \u0915\u0930\u0947\u0902\u0964"),this.tips350cnt=this.tips350cnt+1,0))},t.prototype.ShowHuizhuoPanel=function(e,t){var i=this;void 0===e&&(e=!1),void 0===t&&(t="0"),"0"==t&&(this.ui_txtHuizhuo.text=this.Model.GetLanguage(30013,1,this.ui_txtHuizhuo.asCom,this.ui_txtHuizhuo.name),this.ui_btnHuizhuo_text.text=this.Model.GetLanguage(30012,1,this.ui_btnHuizhuo_text.asCom,this.ui_btnHuizhuo_text.name),2!=l.BaseFrameNative.packType?(this.ui_btnBack.clearClick(),this.ui_btnBack.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","btn_click"),e?(i.tipView.ShowLoading(),v.default.instance.cs_entertablenum_tp()):i.sitdown(),i.myManage.player&&(i.myManage.player.isW=3),i.ui_SharePanel.visible=!1})):(this.myManage&&this.myManage.isMySelf&&this.myManage.player&&this.myManage.player.py.gold<v.default.instance.Model.limitgold||this.Model.MyEndMoney<v.default.instance.Model.limitgold)&&(this.ui_txtHuizhuo.text=this.Model.GetLanguage(30014,1,this.ui_txtHuizhuo.asCom,this.ui_txtHuizhuo.name),this.ui_btnHuizhuo_text.text=this.Model.GetLanguage(30017,1,this.ui_btnHuizhuo_text.asCom,this.ui_btnHuizhuo_text.name),this.ui_btnBack.clearClick(),this.ui_btnBack.onClick(function(){s.AudioManager.Singleton.play("ThreeCard","pop_up"),i.showAddCash()}),this.ui_HuizhuoPanel.visible=!0),this.ui_SharePanel.visible&&(this.ui_txtHuizhuo.text=""))},t.prototype.StopClockAllUser=function(){this._bftable._DicPos2User.forEach(function(e){e.StopClock()})},t.prototype.ClearAllUserBetState=function(){for(var e=0;e<this.Model.palyerlist.length;e++){var t=this.GetPlayerForPos(this.Model.palyerlist[e].py.userid);t&&t.player&&!t.isMySelf&&(t.ui_stateinfo.visible=!1,[1,4].indexOf(t.stateType)>=0&&t.updateStateText(0))}},t.prototype.ShowWatchPanel=function(e){this.ui_WatchPanel.visible=e,e&&this.ShowSwitchTableButton(e)},t.prototype.ShowTaskJindu=function(){var e=this;null==this.ControllerBtnTask&&(this.ControllerBtnTask=this.ui_btnTask.getController("showTask")),2!=this.TaskStatus?null==this.taskFun&&(this.ControllerBtnTask.setSelectedIndex(0),this.ControllerBtnTask.setSelectedIndex(1),this.taskFun&&this.unschedule(this.taskFun),this.scheduleOnce(this.taskFun=function(){e.ControllerBtnTask.setSelectedIndex(0)},2),this.scheduleOnce(function(){e.taskFun=null},2.5)):this.TaskPanel.Show()},t.prototype.UpTaskData=function(e){if(this.TaskStatus=0,e){e.sort(function(e,t){return e.sort-t.sort});for(var t=null,i=0;i<e.length;i++)if(0==e[i].receive&&e[i].progress<=e[i].TaskTarget){t=e[i];break}if(t){this.ui_btnTask.visible=!0,this.TaskStatus=t.progress==t.TaskTarget?2:1;var n=C.UIUtil.accDiv(t.progress,t.TaskTarget);this.ui_task_jindutiao.fillAmount=n,this.taskNowKey=t.key,this.ui_task_taskText.text=this.getTaskName(this.taskNowKey),this.ui_task_jintuText.text=t.progress+"/"+t.TaskTarget,null!=this.TaskBtnAnim&&this.TaskBtnAnim.getComponent(sp.Skeleton).setAnimation(0,1==this.TaskStatus?"jingzhi":"bofang",!0),this.ui_task_award_type.url="ui://ThreeCard/"+(1==this.TaskStatus?"task_Bonus":"task_Claim"),this.TaskPanel.SetTaskName(t.key)}else this.ui_btnTask.visible=!1}else this.ui_btnTask.visible=!1},t.prototype.getTaskName=function(e){if(""!=e){var t="";switch(e){case"play_one":t=this.Model.GetLanguage(100001);break;case"play_there":t=this.Model.GetLanguage(100002);break;case"win_one":t=this.Model.GetLanguage(100003);break;case"play_five":t=this.Model.GetLanguage(100004);break;case"win_there":t=this.Model.GetLanguage(100005);break;case"play_ten":t=this.Model.GetLanguage(100006);break;case"win_five":t=this.Model.GetLanguage(100007)}return t}},t.prototype.ShowShareButton=function(e){var t=this;this.ui_BtnShare.node.stopAllActions(),e?(this.ui_BtnShare.visible=!0,this.ui_BtnShare.getController("shareAdd").setSelectedIndex(0==this.Model.mPlayerModel.ShareCount?1:0),this.ui_BtnShare.getTransition("show").play()):this.ui_BtnShare.getTransition("hide").play(function(){t.ui_BtnShare.visible=!1})},t.prototype.moveN1toN2=function(e,t){e.position=e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.convertNodeSpaceAR=function(e,t){return e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.ShowService=function(){v.default.instance.cs_applyexittable_tp(),this.isCanExeTexMas=!1,M.TPQueueMessages.instance.removeAllMes(),this.service?this.service.Show():this.service=this.addFguiComponent(P.default,!0)},t.prototype.TPServiceClose=function(e){void 0===e&&(e=!1),v.default.instance.Model.isPauseExit=!1,M.TPQueueMessages.instance.removeAllMes(),this.isCanExeTexMas=!0,e?(v.default.instance.cs_entertablenum_tp(),this.tipView.ShowLoading()):this.sendReconnect()},t.prototype.onLuckyDraw=function(e){var t=this;if(this.Model.isFirstTurntable){this.Model.isFirstTurntable=!1,v.default.instance.Model.isPauseExit=!0,v.default.instance.cs_applyexittable_tp(),this.isCanExeTexMas=!1,M.TPQueueMessages.instance.removeAllMes();var i=Number.parseInt((Date.now()-g.AppConst.turntable.sevTime)/1e3+"");cc.warn("\u6253\u5f00\u8f6c\u76d8\u5df2\u7ecf\u8fc7\u4e86\uff1a",i,"\u79d2"),g.AppConst.turntable.time=g.AppConst.turntable.time-i}this.luckyDraw?this.luckyDraw.Show():(this.luckyDraw=this.addFguiComponent(U.default,!0),this.luckyDraw.HideCallback(function(){0==t.isCanExeTexMas&&0==t.Model.GameStatus&&t.TPServiceClose(e),t.ShowOnTurntableButton(),v.default.instance.Model.isPauseExit=!1})),this.luckyDraw.Tableid=this.Model.tableid},t.prototype.ShowOnTurntableButton=function(e){var t=this;if(e)if(0!=e.turntime)g.AppConst.turntable={prizeId:e.prizeIds,time:e.turntime-1,roomid:e.roomid};else{if(0==e.Rechargetime)return;g.AppConst.turntable={prizeId:[e.prizeId],time:e.Rechargetime-1,roomid:e.roomid}}if(null!=g.AppConst.turntable&&0!=g.AppConst.turntable.time){this.ui_btn_onTurntable.visible=g.AppConst.turntable.time>0,this.ui_btn_onTurntable.clearClick(),this.ui_btn_onTurntable.onClick(function(){t.onLuckyDraw(),t.ui_btn_onTurntable.visible=!1,t.onTurntable_countdown&&t.unschedule(t.onTurntable_countdown)});var i=this.ui_btn_onTurntable.getChild("text_time").asTextField,n=g.AppConst.turntable.time,a=n;this.onTurntable_countdown&&this.unschedule(this.onTurntable_countdown),i.text=C.UIUtil.getStringTime(a),this.schedule(this.onTurntable_countdown=function(){0==a&&(t.ui_btn_onTurntable.visible=!1);var e=C.UIUtil.getStringTime(a);i.text=e,a--},1,n)}},o([O],t)}(m.default));i.default=F,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/BaseCode":void 0,"../../../../Common/script/base/BaseFrameNative":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/CommonView":void 0,"../../../../Common/script/base/MgrNative":void 0,"../../../../Common/script/base/ReconnectManager":void 0,"../../../../Common/script/base/ReportManager":void 0,"../../../../Common/script/base/SceneManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/base/WebSocketManager":void 0,"../../../../Common/script/base/cs_base":void 0,"../../../../Common/script/util/UIUtil":void 0,"../../../../GameHall/dlc/script/Common/CaptureUtils":void 0,"../../../../GameHall/script/Module/ChatView/ChatView":void 0,"../../../../GameHall/script/Module/ComSettingView/ComSettingView":void 0,"../../../../GameHall/script/Module/LuckyDrawView/LuckyDrawView":void 0,"../../../../GameHall/script/Module/RechargeView/RechargeCon":void 0,"../../../../GameHall/script/Module/RechargeView/RechargeView":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl","../Contrl/TPQueueMessages":"TPQueueMessages","../Model/TPNetDataStruct":"TPNetDataStruct","./TPBipaiPopup":"TPBipaiPopup","./TPChipsManager":"TPChipsManager","./TPPlayerMessageComp":"TPPlayerMessageComp","./TPService":"TPService","./TPTable":"TPTable","./TPTask":"TPTask","./TPUserComp":"TPUserComp"}],TPBipaiPopup:[function(e,t,i){"use strict";cc._RF.push(t,"d76c0eRtK9O57G3xVEAsJg1","TPBipaiPopup");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=e("../../../../Common/script/util/UIUtil"),r=e("../Contrl/F_TPViewCtrl"),u=e("../Model/TeenPatti"),c=cc._decorator,h=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLoadEnd=!1,t.ui_headImg1=null,t.ui_headImg2=null,t.ui_nameText1=null,t.ui_nameText2=null,t.ui_btnRetuse=null,t.ui_btnAgree=null,t.ui_bipaiTimes=null,t.ui_BipaiVS1=null,t.ui_BipaiVS2=null,t.ui_winCom1=null,t.ui_winCom2=null,t.ui_vsAnimNode=null,t.ui_bipai_text_title=null,t._timeout=null,t.P1head=null,t.P2head=null,t.P1Name=null,t.P2Name=null,t.P1Cards=[],t.P2Cards=[],t.P1CardType=null,t.P2CardType=null,t._bipaiAnimPrfab=null,t.vsAnim=null,t}return a(t,e),t.prototype.AutoSetGoProperty=function(){},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t.prototype.OnLoadCompleted=function(){this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},t.prototype.iniAnim=function(e){!this._bipaiAnimPrfab&&e&&(this._bipaiAnimPrfab=e,this.vsAnim=cc.instantiate(this._bipaiAnimPrfab),this.ui_vsAnimNode.node.addChild(this.vsAnim),r.default.instance.Model.GetLanguage(60001,1,this.ui_bipai_text_title.asCom,this.ui_bipai_text_title.name))},t.prototype.MyStartEx=function(){e.prototype.AutoSetGoProperty.call(this),this.P1head=this.ui_BipaiVS1.getChild("headImg").asCom.getChild("headLoad").asLoader,this.P2head=this.ui_BipaiVS2.getChild("headImg").asCom.getChild("headLoad").asLoader,this.P1Name=this.ui_BipaiVS1.getChild("VSNickName").asTextField,this.P2Name=this.ui_BipaiVS2.getChild("VSNickName").asTextField,this.P1Cards=[],this.P2Cards=[];for(var t=0;t<3;t++)this.P1Cards[t]=this.ui_BipaiVS1.getChild("card"+(t+1)).asLoader,this.P2Cards[t]=this.ui_BipaiVS2.getChild("card"+(t+1)).asLoader;this.P1CardType=this.ui_BipaiVS1.getChild("cardType").asCom.getChild("loadType").asLoader,this.P2CardType=this.ui_BipaiVS2.getChild("cardType").asCom.getChild("loadType").asLoader,this.Hide()},t.prototype.ShowTip=function(e,t,i,n){var a=this;if(void 0===n&&(n=14),e&&t){this.setControllerProperty("bipai",0),this.setControllerProperty("bipai",1),l.UIUtil.loadImage(this.ui_headImg1.getChild("headLoad").asLoader,e.py.wechat.wicon),l.UIUtil.loadImage(this.ui_headImg2.getChild("headLoad").asLoader,t.py.wechat.wicon),this.ui_nameText1.text=e.py._n,this.ui_nameText2.text=t.py._n,this.Show(),this.ui_bipaiTimes.text=i+"";var o=n,s=this.ui_btnRetuse.getChild("bipai_butRetuse_text").asTextField,u=this.ui_btnAgree.getChild("bipai_btnAgree_text").asTextField;s.text=r.default.instance.Model.GetLanguage(60002)+"  "+o,u.text=r.default.instance.Model.GetLanguage(60003),this.schedule(this._timeout=function(){o--,s.text=r.default.instance.Model.GetLanguage(60002)+"  "+o,0==o&&(r.default.instance.cs_dealapplycompare_tp(!1,e.py.userid),a.Hide())},1,o),this.ui_btnRetuse.clearClick(),this.ui_btnRetuse.onClick(function(){r.default.instance.cs_dealapplycompare_tp(!1,e.py.userid),a.unschedule(a._timeout),a.Hide()}),this.ui_btnAgree.clearClick(),this.ui_btnAgree.onClick(function(){r.default.instance.cs_dealapplycompare_tp(!0,e.py.userid),a.unschedule(a._timeout),a.Hide()})}},t.prototype.ShowVS=function(e){var t=this;void 0===e&&(e=null),this.mystart&&this.isLoadEnd&&this.vsAnim&&(this.unschedule(this._timeout),this.Show(),this.setControllerProperty("bipai",0),this.setControllerProperty("bipai",3),this.vsAnim.getComponent(sp.Skeleton).setAnimation(0,"vs",!1),this.scheduleOnce(function(){e&&e(),t.setControllerProperty("bipai",0),t.Hide()},1.5))},t.prototype.ShowUserVS=function(e,t,i,n,a,o){var s=this;if(void 0===o&&(o=null),this.mystart&&this.isLoadEnd&&this.vsAnim){this.unschedule(this._timeout),l.UIUtil.loadImage(this.P1head,e.py.wechat.wicon),l.UIUtil.loadImage(this.P2head,t.py.wechat.wicon),this.P1Name.text=e.py._n,this.P2Name.text=t.py._n,i&&3==i.length&&(i=u.TeenPatti.GetCardsSort(i)),n&&3==n.length&&(n=u.TeenPatti.GetCardsSort(n));for(var r=0;r<3;r++)this.setCardValue(this.P1Cards[r],i&&i[r]?i[r]:0),this.setCardValue(this.P2Cards[r],n&&n[r]?n[r]:0);this.setCardType(this.P1CardType,u.TeenPatti.GetTeenParttiType(i)),this.setCardType(this.P2CardType,u.TeenPatti.GetTeenParttiType(n)),this.Show(),this.setControllerProperty("winorlose",0),this.setControllerProperty("bipai",0),this.setControllerProperty("bipai",2);var c=this.vsAnim.getComponent(sp.Skeleton);a?(c.setAnimation(0,"zuowin",!1),this.scheduleOnce(function(){s.setControllerProperty("winorlose",1),s.ui_winCom1.getController("win").setSelectedIndex(1),s.ui_winCom2.getController("win").setSelectedIndex(0)},1.33)):(c.setAnimation(0,"youwin",!1),this.scheduleOnce(function(){s.setControllerProperty("winorlose",2),s.ui_winCom1.getController("win").setSelectedIndex(0),s.ui_winCom2.getController("win").setSelectedIndex(1)},1.33)),this.scheduleOnce(function(){o&&o(),s.Hide()},2)}},t.prototype.setCardValue=function(e,t){var i=t;i%100==14&&(i-=13),e.asLoader.url=i&&0!=i?"ui://ThreeCard/"+i.toString():r.default.instance.Model.CheckSymbol("ui://ThreeCard/0000","ui://ThreeCard/0000_GS")},t.prototype.setCardType=function(e,t){switch(t){case u.PokerTeenParttiType.None:e.visible=!1;break;case u.PokerTeenParttiType.Single:e.visible=!0,e.url="ui://ThreeCard/Gaopai_n";break;case u.PokerTeenParttiType.Double:e.visible=!0,e.url="ui://ThreeCard/Duizi_n";break;case u.PokerTeenParttiType.Flush:e.visible=!0,e.url="ui://ThreeCard/Tonghua_n";break;case u.PokerTeenParttiType.Straight:e.visible=!0,e.url="ui://ThreeCard/Shunzi_n";break;case u.PokerTeenParttiType.Flush_Straight:e.visible=!0,e.url="ui://ThreeCard/Tonghuashun_n";break;case u.PokerTeenParttiType.Three:e.visible=!0,e.url="ui://ThreeCard/Santiao_n";break;case u.PokerTeenParttiType.O235:e.visible=!1}},t.prototype.Hide=function(){this._timeout,this.unscheduleAllCallbacks(),e.prototype.Hide.call(this)},o([h],t)}(s.default));i.default=p,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl","../Model/TeenPatti":"TeenPatti"}],TPChat:[function(e,t,i){"use strict";cc._RF.push(t,"e78eelo0/hK1qD78vGLGvLa","TPChat");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),i.TPChat=void 0;var s=e("../../../../Common/script/base/ViewBase"),l=cc._decorator,r=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLoadEnd=!1,t.ui_btnCloseChat=null,t}return a(t,e),t.prototype.AutoSetGoProperty=function(){},t.prototype.OnLoadCompleted=function(){this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},t.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},t.prototype.MyStartEx=function(){e.prototype.AutoSetGoProperty.call(this),this.addlistener(),this.Hide()},t.prototype.addlistener=function(){var e=this;this.ui_btnCloseChat.onClick(function(){e.Hide()})},t.prototype.Show=function(){this.node.active=!0,e.prototype.Show.call(this)},o([r],t)}(s.default));i.TPChat=u,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0}],TPChipsManager:[function(e,t,i){"use strict";cc._RF.push(t,"c169c4phCJAaYDe9MYz38rx","TPChipsManager");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Common/script/base/ViewBase"),s=e("../../../../Common/script/util/UIUtil"),l=e("../Contrl/F_TPViewCtrl"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unuedChips=[],t.inUseChips=[],t.isLoadEnd=!1,t}return a(t,e),t.prototype.AutoSetGoProperty=function(){},t.prototype.OnLoadCompleted=function(){e.prototype.OnLoadCompleted.call(this),this.mystart=!0},t.prototype.OnBetClick=function(e,t,i){if(this.mystart)for(var n=this.getChips(t),a=0;a<n.length;a++){var o=a;this.BetMove(e,n[o],.1*o,i)}},t.prototype.RecycleAllChips=function(e){if(this.mystart){var t=this.inUseChips.shift();if(t){var i=this.convertNodeSpaceAR(t.node,e);t.node.stopAllActions(),t.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(i.x,i.y)),cc.callFunc(function(){t.visible=!1}))),this.unuedChips.push(t),this.RecycleAllChips(e)}}},t.prototype.BetMove=function(e,t,i,n){this.moveN1toN2(t.node,e),t.visible=!0;var a=this.convertNodeSpaceAR(t.node,this.node),o=this.getRandomNumInt(a.x,a.x+this.node.width),s=this.getRandomNumInt(a.y,a.y-this.node.height);t.node.stopAllActions(),n?t.node.runAction(cc.moveTo(.3,cc.v2(o,s))):t.node.setPosition(o,s)},t.prototype.getChips=function(e){for(var t=[],i=e,n=l.default.instance.Model.LevePermitGolds;i>=.1;)for(var a=n.length-1;a>=0;a--)if(i>=n[a]){var o=this.createChip(n[a],a);t.push(o),this.inUseChips.push(o),i=s.UIUtil.accAdd(i,-n[a]);break}return t},t.prototype.createChip=function(e,t){var i=null;return(i=this.unuedChips[0])?i=this.unuedChips.shift():((i=fgui.UIPackage.createObject("ThreeCard","xiazhuNumNode2").asCom).node.anchorX=.5,i.node.anchorY=.5,i.setScale(1.5,1.5),this.fguiComponent.addChild(i)),i.getChild("chip_number").asTextField.text=e>=500?"":e+"",i.getChild("chip_bg").asLoader.url="ui://ThreeCard/tpchips_"+t,i.visible=!1,i},t.prototype.Stop=function(){if(this.mystart){this.unscheduleAllCallbacks();for(var e=0,t=this.inUseChips.length;e<t;e++)this.stopChipAnim(this.inUseChips[e]);this.inUseChips=[]}},t.prototype.stopChipAnim=function(e){e.node.stopAllActions(),e.visible=!1,this.unuedChips.push(e)},t.prototype.clearAllChips=function(){this.inUseChips=[];for(var e=this.fguiComponent._children,t=0,i=e.length;t<i;t++)1==e[t].visible&&(this.unuedChips.find(function(i){return i==e[t]})||this.unuedChips.push(e[t].asCom),e[t].visible=!1)},t.prototype.moveN1toN2=function(e,t){e.position=e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.convertNodeSpaceAR=function(e,t){return e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.getRandomNumInt=function(e,t){var i=t-e,n=Math.random();return e+Math.round(n*i)},t}(o.default);i.default=r,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl"}],TPChip:[function(e,t,i){"use strict";cc._RF.push(t,"e51e5EOxNNB3oQAKyGeZuwI","TPChip");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=cc._decorator,r=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.twe=null,t.isLoadEnd=!1,t}return a(t,e),t.prototype.AutoSetGoProperty=function(){},t.prototype.OnLoadCompleted=function(){e.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},t.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},t.prototype.MyStartEx=function(){e.prototype.AutoSetGoProperty.call(this),this.Show(),this.Hide()},t.prototype.GambleAnim=function(e,t,i,n,a){var o=this,s=a;this.node.active=!0,this.node.stopAllActions(),this.Show(),this.getChild("numText").asTextField.text=i+"",this.node.anchorX=1,this.node.opacity=255,this.moveN1toN2(this.node,e);var l=this.convertNodeSpaceAR(this.node,t);if(this.node.setScale(.6),this.twe&&this.twe.stop(),n){var r=this.convertNodeSpaceAR(this.node,n);r.x=r.x+60,this.twe=cc.tween(this.node).delay(.1).call(function(){o.node.setScale(0,.6)}).to(.2,{scale:.6}).delay(.1).to(.3,{position:r}).delay(.1).call(function(){s&&s()}).to(.2,{position:cc.v3(l.x,l.y,0)}).to(.2,{opacity:10}).call(function(){o.Hide()}).start()}else this.twe=cc.tween(this.node).delay(.1).call(function(){o.node.setScale(0,.6)}).to(.2,{scale:.6}).delay(.1).call(function(){s&&s()}).to(.4,{position:cc.v3(l.x,l.y,0)}).to(.2,{opacity:10}).call(function(){o.Hide()}).start()},t.prototype.Stop=function(){this.twe&&this.twe.stop(),this.node.active=!1,this.Hide()},t.prototype.moveN1toN2=function(e,t){e.position=e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.convertNodeSpaceAR=function(e,t){return e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},o([r],t)}(s.default));i.default=u,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0}],TPMaxSettlementComp:[function(e,t,i){"use strict";cc._RF.push(t,"b8b6chZjyBFbKmaVa/wg4b1","TPMaxSettlementComp");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=cc._decorator,r=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_list=null,t.ui_Template=null,t.ui_SelBtnClose=null,t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"ThreeCardMain"},enumerable:!1,configurable:!0}),t.prototype.MyStart=function(){var e=this;this.ui_SelBtnClose.onClick(function(){e.Hide()})},t.prototype.Clear=function(){},t.prototype.hideAllChild=function(){},t.prototype.GetChildByIndex=function(){return null},t.prototype.ShowEx=function(){e.prototype.Show.call(this),this.hideAllChild()},o([r],t)}(s.default));i.default=u,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0}],TPNetDataStruct:[function(e,t,i){"use strict";cc._RF.push(t,"d3827/lroRMzIqbZGclEgLD","TPNetDataStruct");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.TableClubLoseWinTP=i.TableGainSDTP=i.BigEndInfoSD_tp=i.sc_bigend_tp_n=i.sc_situpkeep_tp_n=i.sc_situpkeep_tp=i.cs_situpkeep_tp=i.sc_applyexittable_tp=i.cs_applyexittable_tp=i.sc_end_tp_n=i.sc_giveup_tp_n=i.sc_giveup_tp=i.cs_giveup_tp=i.sc_dealcomparenotice_tp_n=i.sc_dealapplycompare_tp=i.cs_dealapplycompare_tp=i.sc_comparereq_tp_n=i.sc_comparereq_tp=i.cs_comparereq_tp=i.sc_compare_tp_n=i.sc_compare_tp=i.cs_compare_tp=i.sc_gamble_tp_n=i.sc_gamble_tp=i.cs_gamble_tp=i.sc_showcard_tp_n=i.sc_showcard_tp=i.cs_showcard_tp=i.sc_token_tp_n=i.sc_tablestart_tp_n=i.sc_ready_tp_n=i.sc_ready_tp=i.cs_ready_tp=i.sc_enterrobot_tp=i.cs_enterrobot_tp=i.sc_entertable_tp=i.cs_entertable_tp=i.sc_entertablenum_tp_n=i.TableRecoverTPSD=i.sc_entertablenum_tp=i.cs_entertablenum_tp=i.sc_sitdown_tp_n=i.sc_sitdown_tp=i.cs_sitdown_tp=i.sc_createtable_tp=i.cs_createtable_tp=i.cinfo=i.TableRoomInfoTP=i.sc_gettablelist_tp=i.cs_gettablelist_tp=void 0,i.sc_sharerewards=i.cs_sharerewards=i.sc_tptask_n=i.sc_receivetask_tp=i.cs_receivetask_tp=i.PullUserTask=i.sc_rechargedelay_tp_n=i.sc_rechargedelay_tp=i.cs_rechargedelay_tp=i.sc_one_exittable_n=void 0;var o=e("../../../../Common/script/base/cs_base"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_gettablelist_tp=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_gettablelist_tp=l;i.TableRoomInfoTP=function(){};i.cinfo=function(){};var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_createtable_tp=r;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_createtable_tp=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_sitdown_tp=c;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_sitdown_tp=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_sitdown_tp_n=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_entertablenum_tp=d;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_entertablenum_tp=_;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.TableRecoverTPSD=f;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_entertablenum_tp_n=y;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_entertable_tp=m;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_entertable_tp=b;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_enterrobot_tp=g;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_enterrobot_tp=C;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_ready_tp=v;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_ready_tp=M;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_ready_tp_n=w;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_tablestart_tp_n=S;var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_token_tp_n=T;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_showcard_tp=P;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_showcard_tp=x;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_showcard_tp_n=k;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_gamble_tp=A;var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_gamble_tp=N;var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_gamble_tp_n=L;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_compare_tp=G;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_compare_tp=U;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_compare_tp_n=R;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_comparereq_tp=I;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_comparereq_tp=B;var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_comparereq_tp_n=O;var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_dealapplycompare_tp=F;var V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_dealapplycompare_tp=V;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_dealcomparenotice_tp_n=E;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_giveup_tp=D;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_giveup_tp=j;var W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_giveup_tp_n=W;var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_end_tp_n=H;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_applyexittable_tp=z;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_applyexittable_tp=J;var Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_situpkeep_tp=Q;var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_situpkeep_tp=q;var Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_situpkeep_tp_n=Y;var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_bigend_tp_n=X;var Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.BigEndInfoSD_tp=Z;var K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.TableGainSDTP=K;var $=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.TableClubLoseWinTP=$;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_one_exittable_n=ee;var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_rechargedelay_tp=te;var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_rechargedelay_tp=ie;var ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_rechargedelay_tp_n=ne;i.PullUserTask=function(){};var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_receivetask_tp=ae;var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_receivetask_tp=oe;var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_tptask_n=se;var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.cs_base);i.cs_sharerewards=le;var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.sc_base);i.sc_sharerewards=re,cc._RF.pop()},{"../../../../Common/script/base/cs_base":void 0}],TPPlayerMessageComp:[function(e,t,i){"use strict";cc._RF.push(t,"47fc8IkfKVAq6kA88RNpSWE","TPPlayerMessageComp");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=e("../../../../GameHall/script/Module/GiftView/GiftView"),r=e("../Contrl/F_TPViewCtrl"),u=cc._decorator,c=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_btn_close=null,t.ui_gift=null,t.giftView=null,t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"playerMessage"},enumerable:!1,configurable:!0}),t.prototype.MyStart=function(){this.mystart=!0},t.prototype.OnLoadCompleted=function(){this.mystart&&this.MyStartEx(),this.AddLister(),this.giftView=this.addFguiComponent(l.default),this.giftView.SendChatFun=this.SendChat.bind(this),this.giftView.fguiX=this.giftView.node.parent.convertToNodeSpaceAR(this.ui_gift.node.parent.convertToWorldSpaceAR(this.ui_gift.node.position)).x,this.giftView.fguiY=this.giftView.node.parent.convertToNodeSpaceAR(this.ui_gift.node.parent.convertToWorldSpaceAR(this.ui_gift.node.position)).y,this.giftView.fguiY=this.giftView.fguiY+260,this.Hide()},t.prototype.MyStartEx=function(){},t.prototype.AddLister=function(){var e=this;this.ui_btn_close.onClick(function(){e.Hide()})},t.prototype.showData=function(e,t,i){this.giftView.initListSize(525,120),this.giftView.setFromNode(t,i),this.giftView.Show(),e.player.py,this.giftView.Pos=e.serverpos,this.giftView.fguiX=this.giftView.node.parent.convertToNodeSpaceAR(e.ui_emojiList.node.parent.convertToWorldSpaceAR(e.ui_emojiList.node.position)).x,this.giftView.fguiY=e.fguiY+10,[2,3].indexOf(e.localpos)>=0&&(this.giftView.fguiY=e.fguiY-40),cc.view.getVisibleSize().width<=1921&&(this.giftView.fguiX=this.giftView.fguiX+.1*this.giftView.fguiX),this.Show()},t.prototype.show_Gift=function(e,t,i){this.Hide(),this.giftView.show_Gift(e,t,i)},t.prototype.SendChat=function(e,t){r.default.instance.cs_chat(5,e,t)},t.prototype.moveN1toN2=function(e,t){e.position=e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.convertNodeSpaceAR=function(e,t){return e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},o([c],t)}(s.default));i.default=h,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0,"../../../../GameHall/script/Module/GiftView/GiftView":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl"}],TPPregame:[function(e,t,i){"use strict";cc._RF.push(t,"c99068MtGpO1YbP5Kv+xZvs","TPPregame");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/BaseCode"),l=e("../../../../Common/script/base/CommonCtr"),r=e("../../../../Common/script/base/CommonView"),u=e("../../../../Common/script/base/SceneManager"),c=e("../../../../Common/script/base/ViewBase"),h=e("../../../../Common/script/base/WebSocketManager"),p=e("../../../../Boot/scirpt/AppConst"),d=e("../../../../Common/script/util/UIUtil"),_=e("../Contrl/F_TPViewCtrl"),f=e("../Model/TPNetDataStruct"),y=e("./F_TPView"),m=cc._decorator,b=m.ccclass,g=m.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.percentNode=null,t.percentLabel=null,t.view=null,t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/TCCommon/TCCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"GameLoading"},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){fgui.addLoadHandler(),fgui.GRoot.create(),e.prototype.onLoad.call(this)},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),this.fguiComponent.makeFullScreen()},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.LoginSuccess(),this.addFguiComponent(r.default)},t.prototype.LoginSuccess=function(){if(_.default.instance.Model.mPlayerModel=p.AppConst.mPlayerModel,0!=p.AppConst.mPlayerModel.state){var e=p.AppConst.mPlayerModel.state.toString();this.cs_entertable_tp(e)}else this.cs_entertable_tp("0")},t.prototype.createtable=function(){_.default.instance.CreateTableCallBack=this.cs_entertable_tp.bind(this),_.default.instance.cs_createtable_tp()},t.prototype.cs_entertable_tp=function(e){void 0===e&&(e=""),_.default.instance.RegistNotify();var t=new f.cs_entertable_tp;t.levelid=d.UIUtil.CheckGameLeveID(_.default.instance.Model.gameid,p.AppConst.currentlevelid),t.tableid=Number.parseInt(e),t._g=_.default.instance.Model.gameid,t.fn="cs_entertable_tp",h.WebSocketManager.getInstance.SendJSON(t,this.sc_entertable_tp.bind(this))},t.prototype.sc_entertable_tp=function(e){_.default.instance.Model.mPlayerModel.state=0,cc.sys.localStorage.setItem("tableid",""),1==e.result?(p.AppConst.currentlevelid=e.levelid,_.default.instance.Model.levelid=e.levelid,_.default.instance.Model.tableid=e.tableid,_.default.instance.Model.palyerlist=e.plist,_.default.instance.Model.baserate=e.brate,_.default.instance.Model._recover=e._recover,_.default.instance.Model.limitgold=e.limitgold,this.view?(this.view.tabledata=e,this.view.fguiComponent.visible=!0,this.view.initManager()):(this.view=this.addComponent(y.default),this.view.tabledata=e),_.default.instance.view=this.view):-205==e.result||-211==e.result?l.CommonCtr.instance.ShowTipCallback(s.BaseCode[p.AppConst.languageType][e.result+""],function(){_.default.instance.cs_applyexittable_tp(),u.SceneManager.Singleton.loadScene("GameHall","gameHall")}):l.CommonCtr.instance.ShowTipCallback(_.default.instance.Model.GetLanguage(90003),function(){_.default.instance.cs_applyexittable_tp(),u.SceneManager.Singleton.loadScene("GameHall","gameHall")})},o([g(cc.Node)],t.prototype,"percentNode",void 0),o([g(cc.Label)],t.prototype,"percentLabel",void 0),o([b],t)}(c.default);i.default=C,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/BaseCode":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/CommonView":void 0,"../../../../Common/script/base/SceneManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/base/WebSocketManager":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl","../Model/TPNetDataStruct":"TPNetDataStruct","./F_TPView":"F_TPView"}],TPQueueMessages:[function(e,t,i){"use strict";cc._RF.push(t,"c62c05pF2xLdK9+sCio5zmF","TPQueueMessages"),Object.defineProperty(i,"__esModule",{value:!0}),i.TPQueueMessages=void 0;var n=function(){function e(){this.listMessages=[],this.oldMsgid=0}return Object.defineProperty(e,"instance",{get:function(){return null==this._texms&&(this._texms=new e),this._texms},enumerable:!1,configurable:!0}),e.prototype.AddTexMes=function(e,t,i){var n=new a;n.name=e,n.status=!1,n.data=t,n.fun=i,this.listMessages.push(n)},e.prototype.isCanExeNext=function(){return 0!=this.listMessages.length&&0==this.listMessages[0].status},e.prototype.ExeNextMes=function(){this.listMessages.length>0&&(this.oldMsgid,this.listMessages[0].data._msgid,this.oldMsgid=this.listMessages[0].data._msgid,this.listMessages[0].status=!0,this.listMessages[0].fun(this.listMessages[0].data),this.listMessages.shift())},e.prototype.RemoveFirstMes=function(){this.listMessages.length>0&&1==this.listMessages[0].status&&this.listMessages.shift()},e.prototype.removeAllMes=function(){this.listMessages=[]},e}();i.TPQueueMessages=n;var a=function(){};cc._RF.pop()},{}],TPService:[function(e,t,i){"use strict";cc._RF.push(t,"51cf9i5BIZGHpXek5eAXMRn","TPService");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("../../../../Common/script/base/ViewBase"),s=e("../../../../Boot/scirpt/AppConst"),l=e("../Contrl/F_TPViewCtrl"),r=e("../../../../Common/script/base/MgrNative"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_serveice_title=null,t.ui_btnCloseService=null,t.ui_textLine=null,t.ui_btnOpen=null,t.ui_n4=null,t.ui_btn_tgVIP=null,t.ui_tgVIPLable=null,t.tgUrl="https://t.me/TeenpattiNewa",t.tgUrlVIP="https://t.me/VIP_HW",t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"Service"},enumerable:!1,configurable:!0}),t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this),this.vipController=this.fguiComponent.getController("vip"),this.ui_btnCloseService.onClick(this.Hide,this),this.ui_btnOpen.onClick(this.openTGLink,this),this.ui_btn_tgVIP.onClick(this.openTGVipLink,this),this.Show()},t.prototype.setLanguage=function(){"1"==s.AppConst.languageType?(this.ui_serveice_title.url="ui://ThreeCard/Serveice_Tips",this.ui_btnOpen.getChild("n2").asLoader.url="ui://ThreeCard/Serveice_Open",this.getChild("n8").asTextField.text="Click the link to join Telegram group",this.ui_n4.text="Sorry! You lost the game because your recharge did not arrive inyour account.\nYou can contact the customer service and provide relevant information, and the\ncustomer service will compensate you forthe loss.",this.ui_btn_tgVIP.icon="ui://ThreeCard/icn_open"):(this.ui_serveice_title.url="ui://ThreeCard/Serveice_Tips2",this.ui_btnOpen.getChild("n2").asLoader.url="ui://ThreeCard/Serveice_Open2",this.getChild("n8").asTextField.text="\u091f\u0947\u0932\u0940\u0917\u094d\u0930\u093e\u092e \u0917\u094d\u0930\u0941\u092a \u0938\u0947 \u091c\u0941\u0921\u093c\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0932\u093f\u0902\u0915 \u092a\u0930 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930\u0947\u0902",this.ui_n4.text="\u092e\u093e\u092b\u093c \u0915\u0930\u0928\u093e! \u0906\u092a \u0917\u0947\u092e \u0939\u093e\u0930 \u0917\u090f \u0915\u094d\u092f\u094b\u0902\u0915\u093f \u0906\u092a\u0915\u093e \u0930\u093f\u091a\u093e\u0930\u094d\u091c \u0906\u092a\u0915\u0947 \u0905\u0915\u093e\u0909\u0902\u091f \u092e\u0947\u0902 \u0928\u0939\u0940\u0902 \u0906\u092f\u093e\u0964 \u0906\u092a \u0917\u094d\u0930\u093e\u0939\u0915 \u0938\u0947\u0935\u093e \u0938\u0947 \u0938\u0902\u092a\u0930\u094d\u0915 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902 \u0914\u0930 \u092a\u094d\u0930\u093e\u0938\u0902\u0917\u093f\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940 \u092a\u094d\u0930\u0926\u093e\u0928 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902, \u0914\u0930 \u0917\u094d\u0930\u093e\u0939\u0915 \u0938\u0947\u0935\u093e \u0906\u092a\u0915\u094b \u0928\u0941\u0915\u0938\u093e\u0928 \u0915\u0940 \u092d\u0930\u092a\u093e\u0908 \u0915\u0930\u0947\u0917\u0940\u0964",this.ui_btn_tgVIP.icon="ui://ThreeCard/icn_open_yd"),this.ui_textLine.text=this.tgUrl,this.ui_tgVIPLable.text=this.tgUrlVIP},t.prototype.Show=function(){var t;e.prototype.Show.call(this),this.setLanguage();var i=(null===(t=s.AppConst.mPlayerModel)||void 0===t?void 0:t.TotalReGold)||0;this.vipController.setSelectedIndex(i>=1e5?1:0)},t.prototype.Hide=function(){l.default.instance.view.TPServiceClose(),e.prototype.Hide.call(this)},t.prototype.openTGLink=function(){r.MgrNative.getInstance().openUrl(this.tgUrl)},t.prototype.openTGVipLink=function(){r.MgrNative.getInstance().openUrl(this.tgUrlVIP)},t}(o.default);i.default=u,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/MgrNative":void 0,"../../../../Common/script/base/ViewBase":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl"}],TPSettlementComp:[function(e,t,i){"use strict";cc._RF.push(t,"52685W6jatEnpXF8ZPS+xm7","TPSettlementComp");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=cc._decorator,r=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_list=null,t.ui_Template=null,t.ui_SelBtnClose=null,t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/Threecard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"ThreeCardMain"},enumerable:!1,configurable:!0}),t.prototype.MyStart=function(){var e=this;this.ui_SelBtnClose.onClick(function(){e.Hide()})},t.prototype.Clear=function(){},t.prototype.hideAllChild=function(){},t.prototype.GetChildByIndex=function(){return null},t.prototype.ShowEx=function(){e.prototype.Show.call(this),this.hideAllChild()},o([r],t)}(s.default));i.default=u,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0}],TPTable:[function(e,t,i){"use strict";cc._RF.push(t,"60ae4JlP9NKSIvJ/lE8zEtR","TPTable");var n=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var a=e("../Contrl/F_TPViewCtrl"),o=cc._decorator,s=o.ccclass,l=(o.property,function(){function e(){this.user1Manage=null,this.user2Manage=null,this.user3Manage=null,this.user4Manage=null,this.user5Manage=null,this.userList=new Array,this._DicPos2User=new Map}return e.prototype.Init=function(){var e=this,t=1;this.userList.forEach(function(i){e._DicPos2User.set(t,i),t++})},e.prototype.ForeashAllDo=function(e){null!=this._DicPos2User&&null!=e&&this._DicPos2User.forEach(function(t){e(t)})},e.prototype.GetBankerUserComp=function(){return this.userList.forEach(function(e){if(e.player.py.userid==a.default.instance.Model.targetpos)return e}),null},e.prototype.Clear=function(){this.userList=[],this._DicPos2User=new Map},n([s],e)}());i.default=l,cc._RF.pop()},{"../Contrl/F_TPViewCtrl":"F_TPViewCtrl"}],TPTask:[function(e,t,i){"use strict";cc._RF.push(t,"4682f17FytMn5e+UQ5fE7S5","TPTask");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=e("../../../../Common/script/util/UIUtil"),r=e("../Contrl/F_TPViewCtrl"),u=cc._decorator,c=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_btnClose=null,t.ui_taskCloseText=null,t.taskCardList=[],t.isLoadEnd=!1,t.winGold=0,t.arrGold=[],t._taskName="",t._selectCardIndex=-1,t._imgNames=["task_jb_0","task_jb_1","task_jb_2","task_jb_3","task_jb_4"],t._gold2icon=new Map,t}return a(t,e),t.prototype.AutoSetGoProperty=function(){},t.prototype.OnLoadCompleted=function(){e.prototype.OnLoadCompleted.call(this),this.fguiComponent.center(),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},t.prototype.MyStart=function(){this.mystart=!0,this.isLoadEnd&&this.MyStartEx()},t.prototype.MyStartEx=function(){var t=this;e.prototype.AutoSetGoProperty.call(this),this.Hide(),this.taskCardList=[];for(var i=function(){var e=a;n.taskCardList.push(n.getChild("taskCard"+e).asButton),n.taskCardList[e].getChild("task_img_card").asLoader.url=r.default.instance.Model.CheckSymbol("ui://ThreeCard/task_img_card1","ui://ThreeCard/task_img_card1_gs"),n.taskCardList[e].onClick(function(){-1==t._selectCardIndex&&(t._selectCardIndex=e,r.default.instance.cs_receivetask_tp(t._taskName),t.ui_btnClose.visible=!1)})},n=this,a=0;a<5;a++)i();this.ui_btnClose.onClick(function(){t.Hide()}),this.Hide()},t.prototype.allChildCreated=function(){e.prototype.allChildCreated.call(this)},t.prototype.OnclickDrawCard=function(e,t,i){var n=this,a=this.taskCardList[e];a.node.stopAllActions(),a.node.anchorX=.5,a.node.anchorY=.5,a.node.setScale(1),a.node.skewY=0;var o=t?1.2:1,s=cc.sequence(cc.spawn(cc.scaleTo(.1,0,1),cc.skewTo(.1,0,20)),cc.callFunc(function(){n.SetCardValue(a,t,i),a.node.skewY=-20}),cc.spawn(cc.scaleTo(.1,1,1),cc.skewTo(.1,0,0)),cc.scaleTo(.1,1.3,1.3),cc.scaleTo(.1,o,o),cc.delayTime(1),cc.callFunc(function(){t&&n.ShowOtherCard()}));a.node.runAction(s)},t.prototype.SetTaskName=function(e){this._taskName=e},t.prototype.DrawCard=function(e){this.winGold=e.Gold[e.index],this.arrGold=[],l.UIUtil.Concat(this.arrGold,e.Gold),this.arrGold.sort(function(e,t){return e-t}),this._gold2icon=new Map;for(var t=0;t<this.arrGold.length;t++)this._gold2icon.set(this.arrGold[t],this._imgNames[t]);this.arrGold=[],l.UIUtil.Concat(this.arrGold,e.Gold),this.arrGold.splice(e.index,1),this.OnclickDrawCard(this._selectCardIndex,!0,this.winGold)},t.prototype.ShowOtherCard=function(){for(var e=this,t=0;this.arrGold.length>0;){t==this._selectCardIndex&&t++;var i=this.getRandomNumInt(0,this.arrGold.length-1);this.OnclickDrawCard(t,!1,this.arrGold[i]),this.arrGold.splice(i,1),t++}this.ui_btnClose.visible=!0,this.ui_taskCloseText.text=r.default.instance.Model.GetLanguage(100009),this.scheduleOnce(function(){e.Hide()},5)},t.prototype.SetCardValue=function(e,t,i){e.getController("status").setSelectedIndex(t?2:1),e.getChild("awardNumber").asTextField.text=r.default.instance.Model.CheckSymbol("R$","")+l.UIUtil.formatNumber100(i),e.getChild("awardTypeLoader").asLoader.url="ui://ThreeCard/"+this._gold2icon.get(i)},t.prototype.ShowWinCard=function(){},t.prototype.getRandomNumInt=function(e,t){var i=t-e,n=Math.random();return e+Math.round(n*i)},t.prototype.Show=function(){if(0!=this.taskCardList.length){for(var t=0;t<this.taskCardList.length;t++)this.taskCardList[t].node.stopAllActions(),this.taskCardList[t].getController("status").setSelectedIndex(0),this.taskCardList[t].node.anchorX=.5,this.taskCardList[t].node.anchorY=.5,this.taskCardList[t].node.setScale(1),this.taskCardList[t].node.skewY=0;this.node.active=!0,this.ui_taskCloseText.text=r.default.instance.Model.GetLanguage(100011),this.ui_btnClose.visible=!0,e.prototype.Show.call(this)}},t.prototype.Hide=function(){this.unscheduleAllCallbacks();for(var t=0;t<this.taskCardList.length;t++)this.taskCardList[t].node.stopAllActions(),this.taskCardList[t].getController("status").setSelectedIndex(0),this.taskCardList[t].node.setScale(1);this.node&&(this.node.active=!1),this._selectCardIndex=-1,e.prototype.Hide.call(this)},o([c],t)}(s.default));i.default=h,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl"}],TPUserComp:[function(e,t,i){"use strict";cc._RF.push(t,"b8e3dXSLQxMdqB4QHMcht1Y","TPUserComp");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/AudioManager"),l=e("../../../../Common/script/base/BaseFrameNative"),r=e("../../../../Common/script/base/ViewBase"),u=e("../../../../Boot/scirpt/AppConst"),c=e("../../../../Common/script/util/UIUtil"),h=e("../Contrl/F_TPViewCtrl"),p=e("../Model/TeenPatti"),d=cc._decorator,_=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serverpos=0,t.ui_TableScenter=null,t.CardsBeginPos=[],t.ShoupaiCards=[],t.ShoupaiIsGray=!1,t.Lose=!1,t.GiveUp=!1,t.Aciton=!1,t.ui_banker=null,t.ui_headImage=null,t.ui_nameText=null,t.ui_golbText=null,t.ui_Cards=null,t.ui_card1=null,t.ui_card2=null,t.ui_card3=null,t.cardList=[],t.ui_endtimetips=null,t.ui_endtimeblutips=null,t.ui_endtimeblutips2=null,t.ui_endtimeImg=null,t.ui_endtimetipsText=null,t.MAXCD=15,t.cd=15,t.ui_stateinfo=null,t.ui_stateimg=null,t.ui_statelook=null,t.ui_disbanker=null,t.ui_disnormal=null,t.ui_userInfo=null,t.ui_emoji=null,t.ui_headLoad=null,t.ui_winloseNode=null,t.ui_xiazhuNumNode=null,t.ui_cardType=null,t.ui_loadType=null,t.ui_userGold=null,t.ui_emojiList=null,t.ui_chaalTypeNode=null,t.ui_endTimeXing=null,t.ui_jujueTip=null,t.ui_UserItem=null,t.ui_winAnimPos=null,t.isMySelf=!1,t.isLoadEnd=!1,t.OnLoadEndCallBack=null,t.cardPosList=null,t.totalBetNum=0,t.localpos=0,t.isShowCard=!1,t.ui_ChipPos=null,t.ui_btnClickUser=null,t.stateType=0,t.chaalAniNode=null,t.ChaalAniAke=null,t.headAniNode=null,t.headAnimAke=null,t.ui_endTimeSpineNode=null,t.headWinnerNode=null,t.superwinNode=null,t.ui_SuperWinCom=null,t.ui_superwinPos=null,t.ui_bipaiAnimNode=null,t.bipaiAniNode=null,t.bipaiAniAke=null,t.ui_headSui=null,t.headSuiNode=null,t.headSuiAniAke=null,t.ui_player_jinbi_GS=null,t.ui_player1_jinbi_GS=null,t.ui_ComUserMsg=null,t.ui_text_msg1=null,t.ui_text_msg2=null,t.headBetAnimNode=null,t.isHeadLoading=!1,t.headUrlList=[],t.isSendCardOver=!1,t.last3s=!1,t.showWInGoldFun=null,t.tewMsg=null,t}return a(t,e),Object.defineProperty(t.prototype,"Empty",{get:function(){return null==this.player},enumerable:!1,configurable:!0}),t.prototype.AutoSetGoProperty=function(){},t.prototype.createChildComponents=function(){e.prototype.createChildComponents.call(this)},t.prototype.OnLoadCompleted=function(){e.prototype.OnLoadCompleted.call(this),this.isLoadEnd=!0,this.mystart&&this.MyStartEx()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.MyStart=function(e,t){this.mystart=!0,this.localpos=e,this.OnLoadEndCallBack=t,this.isLoadEnd&&this.MyStartEx()},t.prototype.MyStartEx=function(){e.prototype.AutoSetGoProperty.call(this),this.OnLoadEndCallBack&&this.OnLoadEndCallBack(),this.AddLister(),this.Init(),this.resetBetLabel(),this.ui_winAnimPos.visible=!1,this.ui_winloseNode.visible=!1,this.ui_xiazhuNumNode.visible=!1;var t=h.default.instance.Model.CheckSymbol("ui://ThreeCard/jinbiIcon_GS","ui://ThreeCard/jinbiIcon_GS2");this.ui_player1_jinbi_GS?this.ui_player1_jinbi_GS.url=t:this.ui_player_jinbi_GS.url=t,this.ui_xiazhuNumNode.getChild("xiazhuNumNode_jinbi_GS").asLoader.url=t},t.prototype.AddLister=function(){var e=this;this.ui_btnClickUser.clearClick(),this.ui_btnClickUser.onClick(function(){e.ShowPlayerMessage(),s.AudioManager.Singleton.play("ThreeCard","btn_click")})},t.prototype.ShowPlayerMessage=function(){h.default.instance.view.showPlayer(this)},t.prototype.Init=function(){this.MAXCD=15,this.cd=15,this.ui_emoji.node.zIndex=10,this.ui_banker.visible=!1,this.initCardPosList(),this.ResetUserCompUI(),this.Clear();var e=cc.assetManager.getBundle("ThreeCard"),t=this;null==t.chaalAniNode&&e.load("res/prefabs/Chaal",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.chaalAniNode=cc.instantiate(i),t.ui_chaalTypeNode.node.addChild(t.chaalAniNode),t.ChaalAniAke=t.chaalAniNode.getComponent(sp.Skeleton),t.ChaalAniAke.timeScale=2)}),null==t.headAniNode&&(e.load("res/prefabs/skeleton",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.headAniNode=cc.instantiate(i),t.ui_endTimeSpineNode.node.addChild(t.headAniNode),t.headAnimAke=t.headAniNode.getComponent(sp.Skeleton))}),e.load("res/prefabs/daojishi_lizi",cc.Prefab,function(e,i){if(cc.isValid(t.node)){var n=cc.instantiate(i);t.ui_endTimeXing.node.addChild(n),t.moveN1toN2(n,t.ui_endTimeXing.node)}})),null==t.headWinnerNode&&e.load("res/prefabs/touxiangwinner",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.headWinnerNode=cc.instantiate(i),t.ui_winAnimPos.node.addChild(t.headWinnerNode),t.headWinnerNode.active=!0,t.moveN1toN2(t.headWinnerNode,t.ui_winAnimPos.node),t.headWinnerNode.setScale(.99),t.headWinnerNode.x-=2,t.ui_winAnimPos.visible=!1)}),null==t.superwinNode&&1==t.localpos&&e.load("res/prefabs/superwin",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.ui_superwinPos.y+=30,t.superwinNode=cc.instantiate(i),t.ui_SuperWinCom.node.addChild(t.superwinNode),t.superwinNode.active=!0,t.moveN1toN2(t.superwinNode,t.ui_superwinPos.node),t.ui_SuperWinCom.visible=!1)}),null==t.bipaiAniNode&&e.load("res/prefabs/sideshow",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.bipaiAniNode=cc.instantiate(i),t.ui_bipaiAnimNode.node.addChild(t.bipaiAniNode),t.bipaiAniAke=t.bipaiAniNode.getComponent(sp.Skeleton),t.bipaiAniAke.timeScale=2)}),null==t.headSuiNode&&e.load("res/prefabs/txps",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.headSuiNode=cc.instantiate(i),t.ui_headSui.node.addChild(t.headSuiNode),t.headSuiNode.active=!0,t.moveN1toN2(t.headSuiNode,t.ui_headSui.node),t.headSuiAniAke=t.headSuiNode.getComponent(sp.Skeleton),t.headSuiAniAke.timeScale=.7,t.ui_headSui.node.setScale(.69),t.ui_headSui.visible=!1)}),null==t.headBetAnimNode&&e.load("res/prefabs/touxiangBetAnim",cc.Prefab,function(e,i){cc.isValid(t.node)&&(t.headBetAnimNode=cc.instantiate(i),t.node.addChild(t.headBetAnimNode),t.moveN1toN2(t.headBetAnimNode,t.ui_emoji.node),t.headBetAnimNode.active=!1)})},t.prototype.initCardPosList=function(){var e=this.ui_Cards.node.position;this.cardPosList=e,this.ui_Cards.node.position=cc.v3(0,0),this.ui_Cards.node.setScale(1,1),this.cardList=[],this.CardsBeginPos=[],this.cardList[0]=this.ui_card1,this.cardList[1]=this.ui_card2,this.cardList[2]=this.ui_card3;for(var t=0;t<3;++t)this.cardList[t].node.y=0,this.cardList[t].node.x=30*t,this.cardList[t].visible=!1,this.ResetColor(this.cardList[t]),this.cardList[t].getChild("val").asLoader.url=h.default.instance.Model.CheckSymbol("ui://ThreeCard/0000","ui://ThreeCard/0000_GS"),this.CardsBeginPos[t]=this.cardList[t].node.position},t.prototype.initCards=function(){var e;if(this.ui_Cards&&(this.ui_Cards.node.position=cc.v3(0,0),this.ui_Cards.node.setScale(1,1),this.cardList&&!((null===(e=this.cardList)||void 0===e?void 0:e.length)<=0)))for(var t=0;t<this.cardList.length;++t)this.cardList[t].getChild("val").node.stopAllActions(),this.cardList[t].node.stopAllActions(),this.cardList[t].visible=!1,this.cardList[t].node.y=0,this.cardList[t].node.x=30*t,this.cardList[t].node.setScale(1,1),this.cardList[t].node.skewX=0,this.cardList[t].node.skewY=0,this.ResetColor(this.cardList[t]),this.cardList[t].getChild("val").asLoader.url=h.default.instance.Model.CheckSymbol("ui://ThreeCard/0000","ui://ThreeCard/0000_GS")},t.prototype.GameOver=function(){this.ResetUserCompUI()},t.prototype.UpdateMoney=function(e){void 0===e&&(e=-999999),this.ui_userGold.visible=this.isMySelf,this.player&&(this.player.py.gold=-999999==e?this.player.py.gold:e,this.isMySelf&&(h.default.instance.Model.MyEndMoney=this.player.py.gold),this.ui_golbText.text=c.UIUtil.formatNumber100(this.player.py.gold)+"")},t.prototype.SetBanker=function(e){this.ui_banker.visible=e,this.isbanker=e},t.prototype.updateUserMessage=function(e){if(this.player=e,null!=e){null!=this.player.py&&(null!=this.player.py.wechat?c.UIUtil.SetLimitTxt(this.ui_nameText,this.player.py.wechat.wName,6):c.UIUtil.SetLimitTxt(this.ui_nameText,this.player.py._n,6)),this.SetBanker(!1),this.showWinLoseText(!1),e.py.userid==h.default.instance.Model.mPlayerModel.userid?(this.isMySelf=!0,1==this.localpos&&(this.ui_userGold.visible=this.isMySelf)):this.isMySelf=!1,this.serverpos=e.pos,this.ui_userInfo.visible=!0,this.ui_golbText.text=c.UIUtil.formatNumber100(this.player.py.gold)+"";var t=1==e.isDis;this.showduanxian(t),this.ui_winAnimPos.visible=!1,this.ui_headSui.visible=!1,this.ui_winloseNode.visible=!1;var i=1==e.isR;this.Ready(i),this.hideBetNode();var n;n=this.isMySelf?u.AppConst.mPlayerModel.wechat.wicon:e.py.wechat.wicon,this.headUrlList.push(l.BaseFrameNative.serverlistItem.api2+n),0==this.isHeadLoading&&this.QueueLoadHeadImg(),this.Show()}},t.prototype.QueueLoadHeadImg=function(){var e=this;this.isHeadLoading=!0;var t=this.headUrlList.shift();t&&(t==this.ui_headLoad.url&&this.QueueLoadHeadImg(),this.ui_headLoad.url="",cc.assetManager.loadRemote(t,function(t,i){i instanceof cc.Texture2D&&e.ui_headLoad&&(e.ui_headLoad.texture=new cc.SpriteFrame(i)),e.headUrlList&&e.headUrlList.length>0?e.QueueLoadHeadImg():e.isHeadLoading=!1}))},t.prototype.ResetUserCompUI=function(){this.SetBanker(!1),this.Ready(!1),this.ShowLook(!1,null),this.ShowLose(!1),this.initCards(),this.ui_SuperWinCom&&(this.ui_SuperWinCom.visible=!1),this.ui_banker.visible=!1,this.ui_disbanker.visible=!1,this.ui_disnormal.visible=!1,this.GiveUp=!1,this.Lose=!1,this.ui_statelook.visible=!1,this.ui_cardType.visible=!1,this.ui_winAnimPos.visible=!1,this.ui_headSui.visible=!1,this.ui_winloseNode.visible=!1,this.ui_xiazhuNumNode.visible=!1,this.ui_userInfo.getController("headState").setSelectedIndex(0),this.isShowCard=!1,this.totalBetNum=0,this.StopClock(),this.ui_stateinfo.visible=!1,this.ui_cardType.visible=!1,this.ShoupaiCards=[],this.ui_emoji.url="",this.stateType=0,this.ShowHeadBetAnim(!1),this.unscheduleAllCallbacks()},t.prototype.Replace=function(){c.UIUtil.SetLimitTxt(this.ui_nameText,this.player.py._n,6),this.ui_golbText.text=c.UIUtil.formatNumber100(this.player.py.gold)+"",this.isMySelf&&(u.AppConst.mPlayerModel.gold=this.player.py.gold)},t.prototype.showduanxian=function(){},t.prototype.Ready=function(){},t.prototype.ShowCard=function(e,t){void 0===t&&(t=!1);var i=p.TeenPatti.GetCardsSort(e);if(!this.isShowCard){this.ui_Cards.node.setScale(1,1),this.ui_Cards.node.x=0,this.ui_Cards.node.y=0,this.CardsBeginPos=[],this.ui_Cards.node.x=0,this.ui_Cards.node.y=0,this.ui_Cards.node.setScale(1,1);for(var n=0;n<this.cardList.length;n++){var a=n;t?this.SetColorGary(this.cardList[a]):this.ResetColor(this.cardList[a]);var o=this.cardList[n];o.node.angle=0,o.getChild("val").node.stopAllActions(),o.node.stopAllActions(),o.node.position=cc.v3(30*n,0,0),o.node.runAction(cc.fadeTo(.1,255)),this.cardList[a].visible=!0,i&&i[a]&&0!=i[a]?(this.isShowCard=!0,this.ui_statelook.visible=!1,this.Turnover(o,i[a])):this.SetCardValue(o,0)}this.ZhankaiCard(!1),this.ShoupaiIsGray=t,this.ShoupaiCards=[],c.UIUtil.Concat(this.ShoupaiCards,i),this.setCardType(p.TeenPatti.GetTeenParttiType(this.ShoupaiCards))}},t.prototype.ShowGiveUp=function(){if(this.GiveUp=!0,this.totalBetNum=0,this.updateStateText(2),null!=this.CardsBeginPos&&null!=this.cardList)for(var e=0;e<this.cardList.length;e++){var t=e;this.SetColorGary(this.cardList[t])}},t.prototype.Execute=function(){this.Ready(!1),this.Aciton=!0,this.isMySelf&&h.default.instance.view.Execute(),null!=this.player.py.wechat?c.UIUtil.SetLimitTxt(this.ui_nameText,this.player.py.wechat.wName,6):c.UIUtil.SetLimitTxt(this.ui_nameText,this.player.py._n,6),this.ShowClock()},t.prototype.SendCard=function(e){if(null!=this.cardList&&null!=this.cardList[e]){s.AudioManager.Singleton.play("","fapai"),this.ui_Cards.node.setScale(1,1),this.ui_Cards.node.x=0,this.ui_Cards.node.y=0,this.cardList[e].node.stopAllActions();var t=this.cardList[e].getChild("val").asLoader;t.url=h.default.instance.Model.CheckSymbol("ui://ThreeCard/0000","ui://ThreeCard/0000_GS"),t.node.anchorX=.5,t.node.anchorY=.5,t.node.y=-49,t.node.angle=0,t.node.setScale(1),t.node.skewY=0,this.cardList[e].visible=!0,this.ResetColor(this.cardList[e]),this.moveN1toN2(this.cardList[e].node,h.default.instance.view.ui_SendCardScenter.node);var i=30*e;if(this.setCardType(p.PokerTeenParttiType.None),2==e){var n=this,a=function(){n.ZhankaiCard(!0)};this.cardList[e].node.runAction(cc.sequence(cc.moveTo(.2,cc.v2(i,0)),cc.callFunc(function(){n.scheduleOnce(a,.2)})))}else this.cardList[e].node.runAction(cc.moveTo(.2,cc.v2(i,0)))}},t.prototype.ZhankaiCard=function(e){for(var t=0;t<3;t++){var i=this.cardList[t].getChild("val"),n=new cc.Vec2(0,0),a=0;switch(t){case 0:n=cc.v2(i.node.x,-51),a=15*(t-1);break;case 1:n=cc.v2(i.node.x,-54),a=20*(t-1);break;case 2:n=cc.v2(i.node.x,-54),a=15*(t-1)}i.node.angle=0,e?(0!=t&&2!=t||i.node.runAction(cc.moveTo(.2,n)),0!=t&&2!=t||i.node.runAction(cc.rotateTo(.2,a))):(0!=t&&2!=t||(i.node.y=n.y),0!=t&&2!=t||(i.node.angle=-a)),this.cardList[t].visible=!0}},t.prototype.BaseRate=function(){this.ui_Cards&&this.player&&(this.totalBetNum=0,this.setBetLabel(0),this.GenerateChip(c.UIUtil.formatNumber100(h.default.instance.Model.baserate),this.player.py.gold-h.default.instance.Model.baserate),this.isMySelf&&h.default.instance.view.myAction&&this.player.py.gold-h.default.instance.Model.baserate<h.default.instance.Model.baserate&&2==l.BaseFrameNative.packType&&this.scheduleOnce(function(){h.default.instance.view.ShowRechargeVerifyUserGold(15)},2))},t.prototype.ShowClock=function(e,t,i,n){var a=this;void 0===e&&(e=15),void 0===t&&(t=0),this.ui_endtimetips.visible=!0,this.cd=1e3*e,0==t&&(t=e),this.ui_endtimeblutips.visible=!0,this.ui_endtimeblutips2.visible=!1,this.ui_endtimeblutips.fillAmount=0,this.ui_endtimeblutips2.fillAmount=0,this.ui_endTimeXing.visible=!0;var o=this.convertNodeSpaceAR(this.ui_endTimeXing.node,this.ui_endTimeSpineNode.node);this.headAniNode&&(this.headAniNode.active=!1),this.ui_endtimetipsText.text=t+"",this._tempClockTimer&&this.unschedule(this._tempClockTimer);var l=Date.now();this.ui_endTimeXing.x=o.x+14+117*Math.sin(6.28),this.ui_endTimeXing.y=o.y+78+90-90*1.4*Math.cos(5.495),this.schedule(this._tempClockTimer=function(){var e=Date.now()-l;if(l=Date.now(),!h.default.instance.IsDestory)if(null!=a.ui_endtimeblutips&&(a.ui_endtimeblutips.fillAmount=(1e3*t-a.cd)/(1e3*t),a.ui_endtimeblutips2.fillAmount=(1e3*t-a.cd)/(1e3*t)),n&&"10"==a.ui_endtimetipsText.text&&(n(),n=null),a.cd<=0)a.StopClock();else{a.cd=a.cd-e,a.ui_endtimetipsText.text=c.UIUtil.NumberToInt(a.cd/1e3)+"",i&&(i.text=a.ui_endtimetipsText.text),3==c.UIUtil.NumberToInt(a.cd/1e3)&&a.headAnimAke&&!a.last3s&&(a.last3s=!0,a.headAniNode&&(a.headAniNode.active=!0),a.headAnimAke.setAnimation(0,"3miaodaojishi",!0),a.ui_endtimeblutips.visible=!1,a.ui_endtimeblutips2.visible=!0,s.AudioManager.Singleton.play("","tick1"));var r=360*-a.ui_endtimeblutips.fillAmount;(r>=-360&&r<=-315||r>=-225&&r<=-135||r>=-45&&r<=0)&&(a.ui_endTimeXing.x=o.x+14+117*Math.sin(-r/180*3.14)),(r>=-315&&r<=-225||r>=-135&&r<=-45)&&(a.ui_endTimeXing.y=o.y+78+90-90*1.4*Math.cos(-r/180*3.14),a.ui_endTimeXing.node.angle=r+90)}},0,1e3*e)},t.prototype.StopClock=function(){s.AudioManager.Singleton.stopEffect("tick1"),this.unschedule(this._tempClockTimer),null!=this.ui_endtimetips&&(this.ui_endtimetips.visible=!1,this.ui_endtimetipsText.text="",this.cd=0)},t.prototype.ShowLook=function(e,t){void 0===t&&(t=null),this.look=e,this.isMySelf||(this.ui_statelook.visible=e,this.ui_statelook.getController("c1").setSelectedIndex(0)),e&&this.isMySelf&&this.ShowLookCard(t),this.last3s=!1},t.prototype.ShowLookCard=function(e){null!=e&&this.ShowCard(e)},t.prototype.ShowLose=function(e){if(this.Lose=e,this.isMySelf&&e&&h.default.instance.view.BiPaiLose(),e){for(var t=0;t<this.cardList.length;t++){var i=t;this.SetColorGary(this.cardList[i])}s.AudioManager.Singleton.play("","PK_LOSE")}},t.prototype.GenerateChip=function(e,t,i){var n=this;void 0===i&&(i=!0),this.player&&(this.player.py.gold=t),h.default.instance.view.ChipsManager.OnBetClick(this.ui_emoji.node,e,i),this.scheduleOnce(function(){0==n.player.isW?n.setBetLabel(e):n.hideBetNode(),n.UpdateMoney()},.2)},t.prototype.bipaiJujue=function(){var e=this;this.ui_jujueTip.visible=!0,this.scheduleOnce(function(){e.ui_jujueTip.visible=!1},1.5)},t.prototype.setCardType=function(e){switch(e){case p.PokerTeenParttiType.None:this.ui_cardType.visible=!1;break;case p.PokerTeenParttiType.Single:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Gaopai_n";break;case p.PokerTeenParttiType.Double:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Duizi_n";break;case p.PokerTeenParttiType.Flush:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Tonghua_n";break;case p.PokerTeenParttiType.Straight:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Shunzi_n";break;case p.PokerTeenParttiType.Flush_Straight:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Tonghuashun_n";break;case p.PokerTeenParttiType.Three:this.ui_cardType.visible=!0,this.ui_loadType.url="ui://ThreeCard/Santiao_n";break;case p.PokerTeenParttiType.O235:this.ui_cardType.visible=!1}},t.prototype.updateStateText=function(e){var t=this;switch(this.stateType=e,e){case 0:this.ui_stateinfo.visible=!1,this.ui_headSui.visible=!1;break;case 1:this.bipaiAniNode&&(this.bipaiAniNode.active=!1),this.chaalAniNode&&(this.chaalAniNode.active=!0),this.ChaalAniAke&&(this.ChaalAniAke.clearTracks(),this.scheduleOnce(function(){t.ui_stateinfo.visible=!0,t.ChaalAniAke.setToSetupPose(),t.ChaalAniAke.setAnimation(0,t.look?"Chaal":"Blind",!1)},.4)),s.AudioManager.Singleton.play("",this.look?"tp_betChaal":"tp_betBlind");break;case 2:this.ui_stateinfo.visible=!1,this.ui_userInfo.getController("headState").setSelectedIndex(2),this.ShowHeadBetAnim(!1),this.ui_statelook.visible=!0,this.ui_statelook.getController("c1").setSelectedIndex(1);break;case 3:this.bipaiAniNode&&(this.bipaiAniNode.active=!0),this.chaalAniNode&&(this.chaalAniNode.active=!1),this.bipaiAniAke&&(this.bipaiAniAke.clearTracks(),this.scheduleOnce(function(){t.ui_stateinfo.visible=!0,t.bipaiAniAke.setAnimation(0,"sideshow",!1)},.4));break;case 4:this.bipaiAniNode&&(this.bipaiAniNode.active=!1),this.chaalAniNode&&(this.chaalAniNode.active=!0),this.ChaalAniAke&&(this.ChaalAniAke.clearTracks(),this.scheduleOnce(function(){t.ui_stateinfo.visible=!0,t.ChaalAniAke.setAnimation(0,t.look?"Chaalx2":"Blindx2",!1)},.4)),s.AudioManager.Singleton.play("","tp_betAdd");break;case 5:this.ui_statelook.visible=!0,this.ui_statelook.getController("c1").setSelectedIndex(0),this.ui_userInfo.getController("headState").setSelectedIndex(1);break;case 6:this.ui_stateinfo.visible=!1,this.ui_userInfo.getController("headState").setSelectedIndex(3),this.ui_statelook.visible=!0,this.ui_statelook.getController("c1").setSelectedIndex(2),this.ui_disbanker.visible=!1,this.ui_disnormal.visible=!1,this.ShowHeadBetAnim(!1)}},t.prototype.bipaiLoseAnim=function(){if(this.headSuiAniAke){var e=this;this.ui_headSui.visible=!0,this.headSuiAniAke.clearTracks(),this.headSuiAniAke.setAnimation(0,"animation",!1),this.headSuiAniAke.setCompleteListener(function(t){"animation"===(t.animation?t.animation.name:"")&&(e.ui_headSui.visible=!1)}),this.scheduleOnce(function(){e.updateStateText(6)},.33)}},t.prototype.getRandomNumInt=function(e,t){var i=t-e,n=Math.random();return e+Math.round(n*i)},t.prototype.Clear=function(){this.initCards();for(var e=0;e<this.cardList.length;e++)this.cardList[e].visible=!1;this.setCardType(p.PokerTeenParttiType.None),this.ui_nameText.text="",this.ui_golbText.text="",this.ui_userInfo.getController("headState").setSelectedIndex(0),this.ui_stateinfo.visible=!1,this.ui_statelook.visible=!1,this.GiveUp=!1,this.look=!1,this.ui_userGold.visible=!1,this.StopClock(),this.player=null,this.showWinLoseText(!1),this.Hide()},t.prototype.DisconnetcOrReline=function(e){0==e&&1==this.isbanker?this.ui_disbanker.visible=!0:0==e&&0==this.isbanker?this.ui_disnormal.visible=!0:(this.ui_disbanker.visible=!1,this.ui_disnormal.visible=!1)},t.prototype.SetLastSite=function(){this.node.zIndex},t.prototype.SetFirstSite=function(){this.node.zIndex},t.prototype.SetCardValue=function(e,t){var i=t;i%100==14&&(i-=13),e.getChild("val").asLoader.url=i&&0!=i?"ui://ThreeCard/"+i.toString():h.default.instance.Model.CheckSymbol("ui://ThreeCard/0000","ui://ThreeCard/0000_GS"),e.visible=!0},t.prototype.ResetColor=function(e){e.getChild("val").asLoader.color=cc.color(255,255,255)},t.prototype.SetColorGary=function(e){e.getChild("val").asLoader.color=cc.Color.GRAY},t.prototype.moveN1toN2=function(e,t){e.position=e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.convertNodeSpaceAR=function(e,t){return e.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position))},t.prototype.getIsLoseOrGiveup=function(){return this.ui_Cards.getChild("card1").visible},t.prototype.hideBetNode=function(){this.ui_xiazhuNumNode.visible=!1},t.prototype.showWinLoseText=function(e,t){var i=this;if(void 0===t&&(t=0),e&&t>=0){if(t=c.UIUtil.formatNumber100(t),this.ui_winloseNode.getChild("winTxt").visible=t>=0,this.ui_winloseNode.getChild("loseTxt").visible=t<0,t>=0?this.ui_winloseNode.getChild("winTxt").text="R$+"+t:this.ui_winloseNode.getChild("loseTxt").text="",h.default.instance.view.ChipsManager.RecycleAllChips(this.ui_emoji.node),this.isMySelf){if(this.ui_winAnimPos.visible=!1,this.ui_SuperWinCom&&t>=30*h.default.instance.Model.baserate/100){s.AudioManager.Singleton.play("","superwin"),this.ui_SuperWinCom.visible=!0;var n=this.superwinNode.getChildByName("coin"),a=this.superwinNode.getChildByName("caipian");n.active=!1,a.active=!1,this.superwinNode&&this.superwinNode.getComponent(sp.Skeleton).setAnimation(0,"animation_supperwin",!1),this.scheduleOnce(function(){n.active=!0,a.active=!0,n.getComponent(cc.ParticleSystem).resetSystem(),a.getComponent(cc.ParticleSystem).resetSystem()},.2),this.scheduleOnce(function(){i.ui_SuperWinCom.visible=!1,n.active=!1,a.active=!1},3)}}else this.ui_winAnimPos.visible=!0,this.headWinnerNode&&this.headWinnerNode.getComponent(sp.Skeleton).setAnimation(0,"animation",!1);this.scheduleOnce(this.showWInGoldFun=function(){i.ui_winloseNode.visible=!0,i.ui_winloseNode.getController("winGold").setSelectedIndex(0),i.ui_winloseNode.getController("winGold").setSelectedIndex(1),i.scheduleOnce(function(){i.ui_winloseNode.visible=!1},2.5)},1)}else this.ui_winloseNode.getChild("winTxt").text="",this.ui_winloseNode.getController("winGold").setSelectedIndex(0),this.ui_winAnimPos.visible=!1,this.ui_winloseNode.visible=!1,this.headWinnerNode&&this.headWinnerNode.getComponent(sp.Skeleton).clearTracks(),this.showWInGoldFun&&this.unschedule(this.showWInGoldFun),this.isMySelf&&this.ui_SuperWinCom&&this.superwinNode&&(this.ui_SuperWinCom.visible=!1,this.superwinNode.getComponent(sp.Skeleton).clearTracks())},t.prototype.resetBetLabel=function(){this.totalBetNum=0,this.ui_xiazhuNumNode.getChild("numText").text="0",this.ui_xiazhuNumNode.visible=!0},t.prototype.setBetLabel=function(e){this.totalBetNum=c.UIUtil.accAdd(this.totalBetNum,e);var t;t=c.UIUtil.deal(this.totalBetNum)>2?this.totalBetNum.toFixed(3).slice(0,-1):this.totalBetNum+"",this.ui_xiazhuNumNode.getChild("numText").text=t,this.ui_xiazhuNumNode.visible=!0},t.prototype.showZhanwei=function(e,t){void 0===t&&(t=0),this.player&&(this.player.isK=t)},t.prototype.Turnover=function(e,t){var i=this,n=e.getChild("val").asLoader;e.node.stopAllActions(),n.node.stopAllActions(),n.node.anchorX=.5,n.node.anchorY=.5,n.node.setScale(1),n.node.skewY=0;var a=cc.sequence(cc.spawn(cc.scaleTo(.2,0,1),cc.skewTo(.2,0,20)),cc.callFunc(function(){i.SetCardValue(e,t),n.node.skewY=-20}),cc.spawn(cc.scaleTo(.2,1,1),cc.skewTo(.2,0,0)));n.node.runAction(a)},t.prototype.showEmj=function(e){var t=this;this.unschedule(this.emjTimer),this.ui_emoji.url="ui://ChatView/"+e,this.scheduleOnce(this.emjTimer=function(){t.ui_emoji.url=""},2)},t.prototype.showChat=function(e){var t=this;this.ui_text_msg1.text=e,this.ui_text_msg2.text=e,this.ui_ComUserMsg.getController("msgDire").setSelectedIndex([2,3].indexOf(this.localpos)>=0?1:0),this.ui_ComUserMsg.visible=!0,this.ui_ComUserMsg.node.setScale(0),this.tewMsg&&this.tewMsg.stop(),this.tewMsg=cc.tween(this.ui_ComUserMsg.node).to(.4,{scale:1},{easing:cc.easing.bounceOut}).delay(2).to(.2,{scale:0}).call(function(){t.ui_ComUserMsg.visible=!1}).start()},t.prototype.ShakeHead=function(){var e=this.ui_UserItem.getController("shake");e.setSelectedIndex(0),e.setSelectedIndex(1)},t.prototype.ShowHeadBetAnim=function(e){this.headBetAnimNode&&(this.headBetAnimNode.active=e)},o([_],t)}(r.default));i.default=f,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/BaseFrameNative":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/F_TPViewCtrl":"F_TPViewCtrl","../Model/TeenPatti":"TeenPatti"}],TPZhanji:[function(e,t,i){"use strict";cc._RF.push(t,"6d6594HYYJFR4DG6biPi5Fb","TPZhanji");var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var a,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(o<3?a(s):o>3?a(t,i,s):a(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../../../Common/script/base/ViewBase"),l=e("../../../../Common/script/util/UIUtil"),r=cc._decorator,u=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_btn_backhome=null,t.ui_btn_fenxiang=null,t.ui_txtroomid=null,t.ui_txtjushu=null,t.ui_txtdifen=null,t.ui_txttime=null,t.ui_zhanjilist=null,t.ui_btn_break=null,t}return a(t,e),Object.defineProperty(t.prototype,"packageResourceName",{get:function(){return"ThreeCard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageName",{get:function(){return"res/TCCommon/TCCommon"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"componentName",{get:function(){return"zhanjiinfo"},enumerable:!1,configurable:!0}),t.prototype.OnLoadCompleted=function(){this.mystart&&this.MyStartEx(),this.fguiComponent.node.zIndex=10,this.fguiComponent.node.x=(this.fguiComponent.node.parent.width-this.fguiComponent.node.width)/2,this.fguiComponent.node.y=(this.fguiComponent.node.parent.height-this.fguiComponent.node.height)/2,this.AddListener(),this.Hide()},t.prototype.MyStart=function(e){this.view=e,this.mystart=!0},t.prototype.MyStartEx=function(){},t.prototype.AddListener=function(){var e=this;this.ui_btn_backhome.onClick(function(){e.view.ExitGame(),e.Hide()}),this.ui_btn_fenxiang.onClick(function(){}),this.ui_btn_break.onClick(function(){e.view.ExitGame(),e.Hide()})},t.prototype.OpenZhanji=function(e,t,i,n){this.ui_txtroomid.text=t+"",this.ui_txtjushu.text=i+"",this.ui_txtdifen.text=n+"",this.ui_txttime.text=e.btime,this.LoadUserInfo(e.gainlist),this.Show()},t.prototype.LoadUserInfo=function(e){var t=this;this.ui_zhanjilist.removeChildrenToPool(0,-1),e.sort(function(e,t){return t.gain-e.gain}),e.forEach(function(i,n){var a=t.ui_zhanjilist.addItem().asCom;a.getChild("txtusername").asTextField.text=i.wechat.wName,a.getChild("txtuserid").asTextField.text=i.UserID+"",i.gain=i.gain/100,a.getChild("txtchengji").asTextField.text=i.gain>0?"+"+i.gain:"[color=#ff0000]"+i.gain.toString()+"[/color]",l.UIUtil.loadImage(a.getChild("headicon").asLoader,i.wechat.wicon,"Common"),0==n?t.setRankIcon(a.getChild("usericon").asLoader,0):t.setRankIcon(a.getChild("usericon").asLoader,3),n==e.length-1&&t.setRankIcon(a.getChild("usericon").asLoader,1)})},t.prototype.setRankIcon=function(e,t){switch(t){case 0:e.url="ui://GameCommon/winp";break;case 1:e.url="ui://GameCommon/winth";break;default:e.url=""}},o([u],t)}(s.default));i.default=c,cc._RF.pop()},{"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0}],TeenPatti:[function(e,t,i){"use strict";cc._RF.push(t,"af51eYSESVM/KPYZzCA72+f","TeenPatti"),Object.defineProperty(i,"__esModule",{value:!0}),i.PokerTeenParttiType=i.TeenPatti=void 0;var n,a=e("../../../../Common/script/util/UIUtil"),o=function(){function e(){}return e.GetCardsSort=function(t){var i=[];a.UIUtil.Concat(i,t);for(var o=0;o<i.length;o++)i[o]=i[o]%100,1==i[o]&&(i[o]=14);i=e.OrderPai(i);var s=[],l=[];for(a.UIUtil.Concat(l,t),o=0;o<i.length;o++)for(var r=0;r<l.length;r++)if(i[o]==l[r]%100||14==i[o]&&1==l[r]%100){s.push(l[r]),l.splice(r,1);break}var u=e.GetTeenParttiType(t);if(u==n.Double){if(s[0]%100==s[1]%100);else if(s[0]%100!=s[1]%100&&s[0]%100==s[2]%100){var c=s[2];s[2]=s[1],s[1]=c}else s[0]%100!=s[1]%100&&s[0]%100!=s[2]%100&&(c=s[2],s[2]=s[0],s[0]=c);if(this.ColorCompare(s[0],s[1])<0){var h=s[1];s[1]=s[0],s[0]=h}}else u==n.Three&&(this.ColorCompare(s[0],s[1])<0&&(c=s[1],s[1]=s[0],s[0]=c),this.ColorCompare(s[1],s[2])<0&&(h=s[2],s[2]=s[1],s[1]=h));return s},e.ColorCompare=function(e,t){return e/100-t/100},e.GetTeenParttiType=function(t){if(null==t)return n.None;if(3!=t.length)return n.None;if(t[0]==t[1]&&t[0]==t[2]&&0==t[0])return n.None;var i=e.QuSeOrder(t);return e.GetThreeTypeValue(i)>0?n.Three:e.IsTongHua(t)&&e.IsSunZhi(i)?n.Flush_Straight:e.IsTongHua(t)&&e.IsSunZhi123(i)?n.Flush_Straight:e.IsTongHua(t)?n.Flush:e.IsSunZhi(i)?n.Straight:e.IsSunZhi123(i)?n.Straight:e.GetDoubleValue(i)>0?n.Double:n.Single},e.OrderPai=function(e){var t=[];return a.UIUtil.Concat(t,e),t.sort(function(e,t){return e-t}),t},e.GetThreeTypeValue=function(e){return e[0]==e[1]&&e[0]==e[2]?e[0]:0},e.IsTongHua=function(e){var t=a.UIUtil.NumberToInt(e[0]/100),i=a.UIUtil.NumberToInt(e[1]/100),n=a.UIUtil.NumberToInt(e[2]/100);return t==i&&t==n&&0!=t},e.IsSunZhi=function(e){return e[0]-1==e[1]&&e[1]-1==e[2]},e.IsSunZhi123=function(e){return 14==e[0]&&3==e[1]&&2==e[2]},e.prototype.IsSunZhiA23=function(t){var i=e.QuSeOrder(t);return 14==i[0]&&3==i[1]&&2==i[2]},e.prototype.Is235=function(t){if(e.IsTongHua(t))return!1;var i=e.QuSeOrder(t);return null!=i&&3==i.length&&5==i[0]&&3==i[1]&&2==i[2]},e.GetDoubleValue=function(e){return e[0]==e[1]?e[0]:e[1]==e[2]?e[1]:0},e.QuSeOrder=function(t){var i=[];a.UIUtil.Concat(i,t);for(var n=0;n<i.length;n++)i[n]=i[n]%100;return(i=e.OrderPai(i)).reverse(),i},e.prototype.QuSeOrder4Compare=function(t){var i=this.IsSunZhiA23(t),n=[];a.UIUtil.Concat(n,t);for(var o=0;o<n.length;o++)n[o]=n[o]%100,14==n[o]&&i&&(n[o]=1);return(n=e.OrderPai(n)).reverse(),n},e}();i.TeenPatti=o,function(e){e[e.None=0]="None",e[e.Single=1e4]="Single",e[e.Double=2e4]="Double",e[e.Flush=4e4]="Flush",e[e.Straight=5e4]="Straight",e[e.Flush_Straight=7e4]="Flush_Straight",e[e.Three=8e4]="Three",e[e.O235=9e4]="O235"}(n=i.PokerTeenParttiType||(i.PokerTeenParttiType={})),cc._RF.pop()},{"../../../../Common/script/util/UIUtil":void 0}]},{},["F_TPViewCtrl","TPQueueMessages","F_TPModel","TPNetDataStruct","TeenPatti","ChipPosition","F_TPView","TPBipaiPopup","TPChat","TPChip","TPChipsManager","TPMaxSettlementComp","TPPlayerMessageComp","TPPregame","TPService","TPSettlementComp","TPTable","TPTask","TPUserComp","TPZhanji"]);
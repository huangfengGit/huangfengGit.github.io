window.__require=function t(e,i,n){function o(a,l){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var c="function"==typeof __require&&__require;if(!l&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return o(e[a][1][t]||t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({DT100Model:[function(t,e,i){"use strict";cc._RF.push(e,"bc83bBcJ7ZPbaZuzXs/JZCq","DT100Model"),Object.defineProperty(i,"__esModule",{value:!0}),i.TableTD100StatusEnum=void 0,function(t){t[t.WaitForGamble=1]="WaitForGamble",t[t.Gambling=2]="Gambling",t[t.ShowPrize=3]="ShowPrize",t[t.NoBanker=4]="NoBanker"}(i.TableTD100StatusEnum||(i.TableTD100StatusEnum={}));i.default=function(){this.gameid=102,this.levelid=0,this.tableid=0,this.historyData=null,this.hasGame=!1,this.win10000={}},cc._RF.pop()},{}],DT100NetData:[function(t,e,i){"use strict";cc._RF.push(e,"01db7us/jhBfaWgyefHcKK7","DT100NetData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.sc_chat100_n=i.historygamble_td100=i.sc_gethistorygamble_td100=i.cs_gethistorygamble_td100=i.sc_gethistory_td100=i.cs_gethistory_td100=i.sc_applyexittable_td100=i.cs_applyexittable_td100=i.sc_end_td100_n=i.ShowDownSD_TD100=i.sc_gamblearea_td100_n=i.sc_gambleone_td100_n=i.sc_gambleone_td100=i.cs_gambleone_td100=i.sc_tablestart_td100_n=i.roomplayersd_td100=i.sc_getroomplayerlist_td100=i.cs_getroomplayerlist_td100=i.sc_entertable_td100=i.cs_entertable_td100=void 0;var s=t("../../../../Common/script/base/cs_base"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_entertable_td100=a;var l,r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_entertable_td100=r,function(t){t[t.WaitForGamble=1]="WaitForGamble",t[t.Gambling=2]="Gambling",t[t.ShowPrize=3]="ShowPrize",t[t.NoBanker=4]="NoBanker"}(l||(l={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_getroomplayerlist_td100=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_getroomplayerlist_td100=u;i.roomplayersd_td100=function(){};var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_tablestart_td100_n=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_gambleone_td100=d;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_gambleone_td100=p;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_gambleone_td100_n=_;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_gamblearea_td100_n=f;i.ShowDownSD_TD100=function(){};var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_end_td100_n=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_applyexittable_td100=m;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_applyexittable_td100=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_gethistory_td100=b;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_gethistory_td100=v;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.cs_base);i.cs_gethistorygamble_td100=C;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_gethistorygamble_td100=w;i.historygamble_td100=function(){};var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(s.sc_base);i.sc_chat100_n=A,cc._RF.pop()},{"../../../../Common/script/base/cs_base":void 0}],DT100ViewCtr:[function(t,e,i){"use strict";cc._RF.push(e,"e56d1V6YHpPK67JZ/UdIteB","DT100ViewCtr"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../Boot/scirpt/AppConst"),o=t("../../../../Common/script/base/BaseCode"),s=t("../../../../Common/script/base/CommonCtr"),a=t("../../../../Common/script/base/cs_base"),l=t("../../../../Common/script/base/WebSocketManager"),r=t("../../../../Common/script/util/UIUtil"),c=t("../Model/DT100Model"),u=t("../Model/DT100NetData"),h=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._viewCtr&&(this._viewCtr=new t,this._viewCtr.RegistNotify()),this._viewCtr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Model",{get:function(){return null==this._model&&(this._model=new c.default),this._model},enumerable:!1,configurable:!0}),t.prototype.RegistNotify=function(){var t=l.WebSocketManager.getInstance;t.RegistNotify("sc_tablestart_td100_n",this.sc_tablestart_td100_n,this),t.RegistNotify("sc_gambleone_td100_n",this.sc_gambleone_td100_n,this),t.RegistNotify("sc_gamblearea_td100_n",this.sc_gamblearea_td100_n,this),t.RegistNotify("sc_end_td100_n",this.sc_end_td100_n,this),t.RegistNotify("sc_entertable_td100",this.changeTable,this),t.RegistNotify("sc_chat100_n",this.sc_chat100_n,this),t.RegistNotify("sc_addgoldingame",this.sc_addgoldingame,this),t.RegistNotify("sc_freshgold_n",this.sc_freshgold_n,this),t.RegistNotify("sc_one_exittable_n",this.sc_one_exittable_n,this)},t.prototype.UnRegistNotify=function(){var t=l.WebSocketManager.getInstance;t.UnRegistNotify("sc_tablestart_td100_n",this.sc_tablestart_td100_n,this),t.UnRegistNotify("sc_gambleone_td100_n",this.sc_gambleone_td100_n,this),t.UnRegistNotify("sc_gamblearea_td100_n",this.sc_gamblearea_td100_n,this),t.UnRegistNotify("sc_end_td100_n",this.sc_end_td100_n,this),t.UnRegistNotify("sc_entertable_td100",this.changeTable,this),t.UnRegistNotify("sc_chat100_n",this.sc_chat100_n,this),t.UnRegistNotify("sc_addgoldingame",this.sc_addgoldingame,this),t.UnRegistNotify("sc_freshgold_n",this.sc_freshgold_n,this),t.UnRegistNotify("sc_one_exittable_n",this.sc_one_exittable_n,this)},t.Destroy=function(){this._viewCtr&&(this._viewCtr.UnRegistNotify(),this._viewCtr._model=null,this._viewCtr=null)},t.prototype.acceptMsg=function(){return!cc.isValid(this.view)||cc.game.isPaused()||!this.Model.isjoinGame},t.prototype.sc_addgoldingame=function(t){if(this.view&&1==t.result){if(1==t.status){n.AppConst.mPlayerModel.bReCharge=!0,2==this.view.state?this.view.isCanUpdateGold=!1:this.view.isCanUpdateGold=!0;var e="1"==n.AppConst.languageType?"english":"hindi",i=xgameTable.getComplanguageSevenUpDownById(46)[e];s.CommonCtr.instance.ShowTipLabel(i)}this.view.setUserGold(t.lGold)}},t.prototype.sc_freshgold_n=function(t){this.view&&1==t.result&&2==t.freshType&&this.view.setUserGold(t.gold)},t.prototype.changeTable=function(t){cc.log("=====changeTable=========",t),this.Model.tableid=t.tableid},t.prototype.cs_entertable_td100=function(){var t=new u.cs_entertable_td100;t.gameid=102,t.levelid=r.UIUtil.CheckGameLeveID(102,n.AppConst.currentlevelid),t.tableid=n.AppConst.tableid||0,t._limit=0,t.fn="cs_entertable_td100",t._g=102,l.WebSocketManager.getInstance.SendJSON(t,this.sc_entertable_td100.bind(this))},t.prototype.sc_entertable_td100=function(t){var e,i=this;cc.log("sc_entertable_td100\u8fdb\u5165\u6e38\u620f = ",t),cc.isValid(this.view)&&(this.Model.hasGame=!0,1==t.result?(n.AppConst.tableid=null,n.AppConst.mPlayerModel.state=0,this.Model.tableid=t.tableid,this.Model.levelid=t.levelid,this.Model.pos=t.pos,this.Model.tableData=t,this.view.sc_entertable_td100(t),this.cs_gethistory_td100(),this.view.otherPlayer.first=!0,this.cs_getroomplayerlist_td100(0),this.Model.isjoinGame=!0):(this.Model.isjoinGame=!1,e=o.BaseCode[n.AppConst.languageType][t.result]||o.BaseCode[n.AppConst.languageType][0],s.CommonCtr.instance.ShowTipCallback(e,function(){i.view.sc_applyexittable_td100()})))},t.prototype.cs_getroomplayerlist_td100=function(t){var e=new u.cs_getroomplayerlist_td100;e.levelid=this.Model.levelid,e.tableid=this.Model.tableid,e.pageIndex=t,e.pageSize=100,e.fn="cs_getroomplayerlist_td100",e._g=this.Model.gameid,l.WebSocketManager.getInstance.SendJSON(e,this.sc_getroomplayerlist_td100.bind(this))},t.prototype.sc_getroomplayerlist_td100=function(t){console.log("sc_getroomplayerlist_td100 = ",t),this.acceptMsg()||1==t.result&&this.view.otherPlayer.handleData(t.playerlist,t.iCount)},t.prototype.cs_gambleone_td100=function(t,e){var i=new u.cs_gambleone_td100;i.levelid=this.Model.levelid,i.tableid=this.Model.tableid,i._tpos=t,i.gamble=e,i.fn="cs_gambleone_td100",i._g=this.Model.gameid,n.AppConst.isGoldCosted=!0,l.WebSocketManager.getInstance.SendJSON(i,this.sc_gambleone_td100.bind(this))},t.prototype.sc_gambleone_td100=function(t){cc.log("sc_gambleone_td100 = ",t),1==t.result||s.CommonCtr.instance.ShowTipLabel(o.BaseCode[n.AppConst.languageType][t.result])},t.prototype.sc_gambleone_td100_n=function(t){cc.log("sc_gambleone_td100_\u81ea\u5df1\u4e0b\u6ce8 = ",t),this.acceptMsg()||(this.view.setUserGold(t._curGold),this.view.selfStake(t))},t.prototype.sc_gamblearea_td100_n=function(t){cc.log("sc_gamblearea_td100_n\u5176\u4ed6\u4eba = ",t),this.acceptMsg()||(this.view.sc_gamblearea_sud_n(t),this.view.updatePlaterNum(t.pc))},t.prototype.sc_tablestart_td100_n=function(t){cc.log("sc_tablestart_td100_n\u5f00\u59cb\u4e0b\u6ce8 = ",t),this.Model.tableid=t.tableid,this.acceptMsg()||(this.view.isCanUpdateGold=!0,this.view.sc_tablestart_td100_n(t))},t.prototype.sc_end_td100_n=function(t){this.Model.endData=t,this.acceptMsg()||(cc.log("sc_end_td100_n =\u6e38\u620f\u7ed3\u7b97 ",t),this.view.sc_end_td100_n(t))},t.prototype.cs_applyexittable_td100=function(){if(this.Model.hasGame){var t=new u.cs_applyexittable_td100;t.gameid=this.Model.gameid,t.levelid=this.Model.levelid,t.tableid=this.Model.tableid,t.pos=this.Model.pos,t.fn="cs_applyexittable_td100",t._g=this.Model.gameid,l.WebSocketManager.getInstance.SendJSON(t,this.sc_applyexittable_td100.bind(this))}},t.prototype.sc_applyexittable_td100=function(t){cc.log("sc_applyexittable_td100 = ",t),this.acceptMsg()||1==t.result&&this.view.sc_applyexittable_td100()},t.prototype.sc_one_exittable_n=function(t){var e;if(cc.isValid(this.view)&&(cc.log("========sc_one_exittable_n========",t),1==t.result)){if(t.gameid!=this.Model.gameid)return;t.userid==n.AppConst.mPlayerModel.userid&&(this.Model.endData&&(null===(e=this.Model.endData)||void 0===e?void 0:e._tickme)?this.view.exitGame():this.view.sc_applyexittable_td100())}},t.prototype.cs_gethistory_td100=function(){var t=new u.cs_gethistory_td100;t.levelid=this.Model.levelid,t.tableid=this.Model.tableid,t.fn="cs_gethistory_td100",t._g=this.Model.gameid,l.WebSocketManager.getInstance.SendJSON(t,this.sc_gethistory_td100.bind(this))},t.prototype.sc_gethistory_td100=function(t){cc.log("sc_gethistory_td100 = ",t),this.acceptMsg()||1==t.result&&(this.Model.historyData||this.view.tableTrendInfo(t),this.Model.historyData=t,this.view.trend.handleData())},t.prototype.cs_chat=function(t,e,i){var n=new a.cs_chat;n.fn="cs_chat",n.levelid=this.Model.levelid,n.tableid=this.Model.tableid,n._g=this.Model.gameid,n.content=t,n.type=e,n.tpos=i,l.WebSocketManager.getInstance.SendJSON(n,this.sc_chat.bind(this))},t.prototype.sc_chat=function(t){cc.log("=========msg------",t),this.view&&(1==t.result||s.CommonCtr.instance.ShowTipLabel(o.BaseCode[n.AppConst.languageType][t.result]))},t.prototype.sc_chat100_n=function(t){this.acceptMsg()||1==t.result&&this.view.sc_chat100_n(t)},t}();i.default=h,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/BaseCode":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/WebSocketManager":void 0,"../../../../Common/script/base/cs_base":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Model/DT100Model":"DT100Model","../Model/DT100NetData":"DT100NetData"}],DT100View:[function(t,e,i){"use strict";cc._RF.push(e,"fe122A0bA9FDqD8ErSH5RBk","DT100View");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a},a=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{r(n.next(t))}catch(e){s(e)}}function l(t){try{r(n.throw(t))}catch(e){s(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,l)}r((n=n.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var i,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(t){return function(e){return r([t,e])}}function r(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],n=0}finally{i=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../../Boot/scirpt/AppConst"),c=t("../../../../Common/script/base/AudioManager"),u=t("../../../../Common/script/base/BaseFrameNative"),h=t("../../../../Common/script/base/CommonCtr"),d=t("../../../../Common/script/base/CommonView"),p=t("../../../../Common/script/base/ReconnectManager"),_=t("../../../../Common/script/base/ReportManager"),f=t("../../../../Common/script/base/SceneManager"),g=t("../../../../Common/script/base/ViewBase"),m=t("../../../../Common/script/util/UIUtil"),y=t("../../../../GameHall/script/Module/ChatView/ChatPeopleMsg"),b=t("../../../../GameHall/script/Module/ChatView/ChatView"),v=t("../../../../GameHall/script/Module/ComSettingView/ComSettingView"),C=t("../../../../GameHall/script/Module/RechargeView/RechargeView"),w=t("../Contrl/DT100ViewCtr"),A=t("./DTAddCash"),T=t("./DTAreaCom"),D=t("./DTChipsNow"),P=t("./DTDrwaprize"),M=t("./DTHelp"),S=t("./DTHistory"),x=t("./DTPlayer"),N=t("./DTPlayList"),k=t("./DTPlayListItem"),B=cc._decorator,I=B.ccclass,O=(B.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.players=[],e.ui_btn_trend=null,e.ui_btn_other=null,e.ui_chip0=null,e.ui_chip1=null,e.ui_chip2=null,e.ui_chip3=null,e.ui_chip4=null,e.ui_selectLinght=null,e.state=0,e.bets=[10,50,100,1e3,5e3],e.ui_btn_break=null,e.ui_menu=null,e.ui_btn_toHall=null,e.ui_btn_setting=null,e.ui_backHide=null,e.ui_btn_chat=null,e.ui_btn_help=null,e.ui_btn_dmswitch=null,e.ui_btn_addcash1=null,e.ui_star=null,e.ui_star1=null,e.ui_btn_clickarea1=null,e.ui_btn_clickarea2=null,e.ui_btn_clickarea3=null,e.ui_player0=null,e.ui_player1=null,e.ui_player2=null,e.ui_player3=null,e.ui_player4=null,e.ui_player5=null,e.ui_player6=null,e.ui_myName=null,e.ui_myGold=null,e.addCash=null,e.updateTable=!1,e.chatView=null,e.settingView=null,e.chipPool=[],e.ui_betGroup=null,e.centerBet2=[],e.centerBet1=[],e.centerBet3=[],e.endBetPos=[[446,522],[1450,522],[950,522]],e.ui_otherPlayerNum=null,e.tableincreaseBet={},e.ui_endpos1=null,e.ui_endpos2=null,e.ui_endpos3=null,e.ui_times=null,e.ui_wait=null,e.ui_betbegins=null,e.ui_card1=null,e.ui_card2=null,e.ui_card3=null,e.ui_card4=null,e.ui_card0=null,e.ui_betstops=null,e.ui_waitTime=null,e.ui_recordList=null,e.ui_newrecord=null,e.helpView=null,e.ui_center=null,e.ui_long=null,e.longAni=null,e.ui_hu=null,e.huAni=null,e.ui_outcard=null,e.ui_allcard=null,e.dTAddCash=null,e.cardNum=0,e.ui_xiangnode=null,e.xiangAni=null,e.ui_huwinnode=null,e.huwinAni=null,e.ui_longwinnode=null,e.longwinAni=null,e.vsAni=null,e.ShuffleCard=!1,e.ui_timeAninode=null,e.timeAni=null,e.isCanUpdateGold=!0,e.ui_vscom=null,e.ui_countDown=null,e.ui_long2=null,e.longAni2=null,e.ui_menu_lab1=null,e.ui_menu_lab2=null,e.ui_menu_lab3=null,e.ui_waitTime_lab=null,e.vshunode=null,e.vslongnode=null,e.ui_left_cards=null,e.ui_right_cards=null,e.ui_card1node=null,e.ui_card2node=null,e.countDownTimes=0,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"MainView"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){fgui.GRoot.create(),w.default.instance.view=this,fgui.UIObjectFactory.setExtension("ui://DT100/player",x.default),fgui.UIObjectFactory.setExtension("ui://DT100/chipsNow",D.default),fgui.UIObjectFactory.setExtension("ui://DT100/btn_area1",T.default),fgui.UIObjectFactory.setExtension("ui://DT100/btn_area2",T.default),fgui.UIObjectFactory.setExtension("ui://DT100/btn_area3",T.default),fgui.UIObjectFactory.setExtension("ui://DT100/otherPlayerItem",k.default),fgui.UIObjectFactory.setExtension("ui://DT100/trendItem",P.default),t.prototype.onLoad.call(this)},e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),fgui.GRoot.inst.addChild(this.fguiComponent),this.fguiComponent.makeFullScreen(),this.peopleMsg=this.addFguiComponent(y.default,!0),this.otherPlayer=this.addFguiComponent(N.default,!0),this.trend=this.addFguiComponent(S.default,!0),this.chatView=this.addFguiComponent(b.default,!0),this.addFguiComponent(d.default,!0),this.init(),u.BaseFrameNative.isInHall=!1,u.BaseFrameNative.nowGameView=this,this.initCreat(),this.loadSoundResources(),"2"==r.AppConst.languageType&&this.setLanguage()},e.prototype.allChildCreated=function(){return a(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return t.prototype.allChildCreated.call(this),this.chatView.sendChatMsg=this.sendChatMsg.bind(this),cc.game.off(cc.game.EVENT_SHOW),cc.game.on(cc.game.EVENT_SHOW,this.gameEventShow.bind(this)),cc.game.off(cc.game.EVENT_HIDE),cc.game.on(cc.game.EVENT_HIDE,this.gameEventHide.bind(this)),this.node.getChildByName("bg").removeFromParent(),[4,this.loadAnimation()];case 1:return e.sent(),w.default.instance.cs_entertable_td100(),[2]}})})},e.prototype.initCreat=function(){for(var t=0;t<300;t++){var e=new fgui.AsyncOperation;e.callback=this.completed.bind(this),e.createObject("DT100","chipsNow")}},e.prototype.completed=function(t){this.chipPool.push(t)},e.prototype.gameEventShow=function(){console.log("---gameEventShow---"),cc.game.resume(),this.sendReconnect()},e.prototype.sendReconnect=function(){p.ReconnectManager.getInstance.reconnect(this.connectSuccess.bind(this),this.connectFail.bind(this))},e.prototype.connectSuccess=function(){cc.isValid(this.node)&&this.scheduleOnce(function(){w.default.instance.cs_entertable_td100()},1)},e.prototype.connectFail=function(t){var e=this;h.CommonCtr.instance.ShowTipCallback(t,function(){e.sendReconnect()})},e.prototype.gameEventHide=function(){var t,e;console.log("---gameEventHide---"),this.unscheduleAllCallbacks(),this.longwinAni.setCompleteListener(null),this.huwinAni.setCompleteListener(null),this.xiangAni.setCompleteListener(null),this.vsAni.setCompleteListener(null),this.ui_betbegins.visible=!1,this.ui_card1.node.stopAllActions(),this.ui_card2.node.stopAllActions(),this.ui_card3.node.stopAllActions(),this.ui_times.node.stopAllActions(),this.isCanUpdateGold=!0,(null===(e=null===(t=w.default.instance)||void 0===t?void 0:t.Model)||void 0===e?void 0:e.historyData)&&(w.default.instance.Model.historyData=null),cc.game.pause()},e.prototype.loadAnimation=function(){var t=this;return new Promise(function(e){t.bundle=cc.assetManager.getBundle(t.packageResourceName),t.bundle.loadDir("res/prefab",function(i,n){if(i)e(!1);else{for(var o=0;o<n.length;o++)switch(n[o].name){case"timebg":var s=cc.instantiate(n[o]);t.ui_timeAninode.node.addChild(s),t.timeAni=s.getComponent(sp.Skeleton),t.timeAni.setAnimation(0,"animation",!0);break;case"streak":var a=cc.instantiate(n[o]),l=cc.instantiate(n[o]);t.ui_star.node.addChild(a),t.ui_star1.node.addChild(l),t.ui_star1.node.opacity=180;break;case"long":var r=cc.instantiate(n[o]);t.ui_long.node.addChild(r),t.longAni=r.getComponent(sp.Skeleton),t.longAni.setAnimation(0,"daiji",!0);break;case"long2":var c=cc.instantiate(n[o]);t.ui_long2.node.addChild(c),t.longAni2=c.getComponent(sp.Skeleton),t.longAni2.setAnimation(0,"daiji",!0);break;case"hu":var u=cc.instantiate(n[o]);t.ui_hu.node.addChild(u),t.huAni=u.getComponent(sp.Skeleton),t.huAni.setAnimation(0,"daiji",!0);break;case"xiang":var h=cc.instantiate(n[o]);t.ui_xiangnode.node.addChild(h),t.ui_xiangnode.visible=!1,t.xiangAni=h.getComponent(sp.Skeleton);break;case"huwin":var d=cc.instantiate(n[o]);t.ui_huwinnode.node.addChild(d),t.ui_huwinnode.visible=!1,t.huwinAni=d.getComponent(sp.Skeleton);break;case"longwin":var p=cc.instantiate(n[o]);t.ui_longwinnode.node.addChild(p),t.ui_longwinnode.visible=!1,t.longwinAni=p.getComponent(sp.Skeleton);break;case"vsani":var _=cc.instantiate(n[o]);t.ui_betbegins.node.addChild(_),t.ui_betbegins.visible=!1,t.vsAni=_.getComponent(sp.Skeleton),t.vshunode=cc.find("ATTACHED_NODE_TREE/ATTACHED_NODE:root/ATTACHED_NODE:zhuti/ATTACHED_NODE:hu/hu",_),t.vslongnode=cc.find("ATTACHED_NODE_TREE/ATTACHED_NODE:root/ATTACHED_NODE:zhuti/ATTACHED_NODE:long/long",_)}e(!0)}})})},e.prototype.init=function(){this.ui_btn_trend.onClick(this.showTrend,this),this.ui_btn_other.onClick(this.showOtherPlayer,this);for(var t=1;t<4;t++)this["areaCom"+t]=this.ui_center.getChild("btn_area"+t),this["ui_btn_clickarea"+t].pos=t,this["ui_btn_clickarea"+t].onClick(this.clickArea,this);for(this.ui_chip0.y-=20,this.selectChip=this.ui_chip0,this.ui_selectLinght.setPosition(this.selectChip.x,this.selectChip.y),t=0;t<5;t++)this["ui_chip"+t].onClick(this.clickSelectChip,this);for(this.ui_btn_break.onClick(this.openMenu,this),t=0;t<6;t++)this.players.push(this["ui_player"+t]),this.players[t].initPos(t);this.ui_btn_chat.onClick(this.showChat,this),this.ui_btn_help.onClick(this.showHelp,this),this.ui_btn_setting.onClick(this.showSetting,this),this.ui_btn_toHall.onClick(this.prepareToHall,this),this.ui_backHide.onClick(this.closeMenu,this),this.ui_btn_dmswitch.onClick(this.barrageSwitch,this),this.ui_btn_addcash1.onClick(this.showAddCash,this),this.ui_btn_dmswitch.selected=!0},e.prototype.loadSoundResources=function(){cc.assetManager.getBundle(this.packageResourceName).loadDir("res/Sounds",cc.AudioClip,function(t,e){for(var i=c.AudioManager.Singleton,n=0;n<e.length;n++)i.add(e[n].name,e[n]);i.playBGM("game_bgm")})},e.prototype.sendChatMsg=function(t,e){w.default.instance.cs_chat(t,e,r.AppConst.mPlayerModel.userid)},e.prototype.sc_chat100_n=function(t){cc.log("----------------------------",t);for(var e=this.ui_btn_dmswitch.selected,i=this.ui_player0.userid,n=this.ui_player1.userid,o=0;o<t.chatinfos.length;o++)t.chatinfos[o].pos==i?t.chatinfos[o].wLType=1:t.chatinfos[o].pos==n?t.chatinfos[o].wLType=2:t.chatinfos[o].wLType=0;for(e&&this.peopleMsg.addManyPeopleMsg(t.chatinfos),o=0;o<t.chatinfos.length;o++)""!=t.chatinfos[o].content&&this.chatView.addMsg({fromMe:t.chatinfos[o].pos==r.AppConst.mPlayerModel.userid,content:t.chatinfos[o].content,head:t.chatinfos[o].head,type:t.chatinfos[o].type})},e.prototype.showAddCash=function(){this.addCash?this.addCash.Show():this.addCash=this.addFguiComponent(C.default,!0),this.addCash.init(w.default.instance.Model.tableid,this.mygold)},e.prototype.setSelfInfo=function(t){this.ui_myName.text=m.UIUtil.getNickNameSub(r.AppConst.mPlayerModel.wechat.wName,6),this.ui_player6.setHead(r.AppConst.mPlayerModel.wechat.wicon),this.setUserGold(t)},e.prototype.setUserGold=function(t){this.mygold=t;var e=r.AppConst.gameStatus[1]==r.EnumGameStatus.Hide?"":"R$:";this.ui_myGold.text=e+m.UIUtil.formatNumber100(t);for(var i=0;i<6;i++)if(!this.players[i].empty&&this.players[i].userid==r.AppConst.mPlayerModel.userid){this.players[i].setGold(t);break}},e.prototype.prepareToHall=function(){if(this.showMenu(),1==this.state&&this.areaCom1.getSelfBet()+this.areaCom2.getSelfBet()+this.areaCom3.getSelfBet()>0){var t="1"==r.AppConst.languageType?"english":"hindi";h.CommonCtr.instance.ShowTipCallback(xgameTable.getComplanguageSevenUpDownById(44)[t],function(){w.default.instance.cs_applyexittable_td100()},function(){})}else w.default.instance.cs_applyexittable_td100()},e.prototype.barrageSwitch=function(){this.peopleMsg.fguiComponent.visible=this.ui_btn_dmswitch.selected},e.prototype.showSetting=function(){this.showMenu(),this.settingView?this.settingView.Show():(this.settingView=this.addFguiComponent(v.default,!0),this.settingView.selectLanguageFun=this.selectLanguage.bind(this))},e.prototype.setLanguage=function(){for(var t="1"==r.AppConst.languageType?"english":"hindi",e=20;e<25;e++){var i=xgameTable.getComplanguageSevenUpDownById(e);i&&i.comp&&this[i.comp]&&(1==i.type?this[i.comp].text=i[t]:this[i.comp].url=i[t])}},e.prototype.selectLanguage=function(){var t,e,i;this.setLanguage(),this.dTAddCash&&this.dTAddCash.setLanguage(),this.helpView&&this.helpView.setLanguage(),this.trend.setLanguage(),this.otherPlayer.setLanguage(),null===(t=h.CommonCtr.instance.view)||void 0===t||t.setLanguage(),null===(e=this.addCash)||void 0===e||e.setLanguage(),null===(i=this.chatView)||void 0===i||i.setLanguage()},e.prototype.showHelp=function(){this.showMenu(),this.helpView?this.helpView.Show():this.helpView=this.addFguiComponent(M.default,!0)},e.prototype.showChat=function(){this.chatView.Show()},e.prototype.openMenu=function(){c.AudioManager.Singleton.play("","pop_slider"),this.showMenu()},e.prototype.showMenu=function(){this.ui_backHide.visible=!this.ui_backHide.visible,this.ui_menu.visible=!this.ui_menu.visible},e.prototype.closeMenu=function(){this.ui_backHide.visible=!1,this.ui_menu.visible=!1},e.prototype.clickSelectChip=function(t){var e=fgui.GObject.cast(t.currentTarget);this.selectChip!=e&&(c.AudioManager.Singleton.play("","select"),this.lastSelectChip=this.selectChip,this.selectChip=e,this.moveTopChip(),this.lastSelectChip&&this.moveBottonChip())},e.prototype.moveTopChip=function(){var t=this;fgui.GTween.kill(this.selectChip),fgui.GTween.to2(this.selectChip.x,this.selectChip.y,this.selectChip.x,this.selectChip.y-20,.1).setTarget(this.selectChip,this.selectChip.setPosition).onUpdate(function(){t.ui_selectLinght.setPosition(t.selectChip.x,t.selectChip.y)})},e.prototype.moveBottonChip=function(){fgui.GTween.kill(this.lastSelectChip),fgui.GTween.to2(this.lastSelectChip.x,this.lastSelectChip.y,this.lastSelectChip.x,this.lastSelectChip.y+20,.1).setTarget(this.lastSelectChip,this.lastSelectChip.setPosition)},e.prototype.showTrend=function(t){t.bubbles=!1,this.trend.Show()},e.prototype.showOtherPlayer=function(){this.otherPlayer.Show()},e.prototype.clickArea=function(t){var e;if(1==this.state)if((null===(e=r.AppConst.mPlayerModel)||void 0===e?void 0:e.TotalReGold)<3e4)this.showUpDownAddCash();else if(this.mygold<100*this.selectChip.getIndex()){var i="1"==r.AppConst.languageType?"english":"hindi";h.CommonCtr.instance.ShowTipLabel(xgameTable.getComplanguageSevenUpDownById(24)[i])}else{var n=fgui.GObject.cast(t.currentTarget),o=-this.convertNodeSpaceAR(this.selectChip.node,n.node).sub(this.selectChip.node.position).signAngle(cc.v2(0,1))/Math.PI*180,s=this.selectChip.node.x+20*Math.sin(-o/180*3.14),a=this.selectChip.node.y+20*Math.cos(-o/180*3.14),l=this.selectChip.node.x,c=this.selectChip.node.y;fgui.GTween.to2(l,c,s,a,.05).setTarget(this.selectChip.node,this.selectChip.node.setPosition).setRepeat(1,!0).setEase(fgui.EaseType.ElasticIn),w.default.instance.cs_gambleone_td100([n.pos],[100*this.selectChip.getIndex()])}},e.prototype.showUpDownAddCash=function(){this.dTAddCash?this.dTAddCash.Show():this.dTAddCash=this.addFguiComponent(A.default,!0)},e.prototype.convertNodeSpaceAR=function(t,e){return t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position))},e.prototype.cleanTable=function(){this.clean(),this.unscheduleAllCallbacks()},e.prototype.sc_applyexittable_td100=function(){c.AudioManager.Singleton.stopBGM(),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE),this.ui_card1.node.stopAllActions(),this.ui_card2.node.stopAllActions(),this.ui_card3.node.stopAllActions(),this.ui_star1.node.stopAllActions(),this.ui_star.node.stopAllActions(),this.ui_times.node.stopAllActions(),this.huAni&&(this.huAni.clearTracks(),this.longAni.clearTracks(),this.longAni2.clearTracks(),this.longwinAni.clearTracks(),this.huwinAni.clearTracks(),this.xiangAni.clearTracks(),this.vsAni.clearTracks(),this.timeAni.clearTracks(),this.huAni.skeletonData=null,this.longAni.skeletonData=null,this.longAni2.skeletonData=null,this.longwinAni.skeletonData=null,this.huwinAni.skeletonData=null,this.xiangAni.skeletonData=null,this.vsAni.skeletonData=null,this.timeAni.skeletonData=null),u.BaseFrameNative.nowGameView=null,this.cleanTable(),this.trend.clean(),this.cleanPool(),this.ui_recordList.dispose(),this.peopleMsg&&this.peopleMsg.destroyItem(),w.default.Destroy(),this.destroy(),f.SceneManager.Singleton.loadScene("GameHall","gameHall")},e.prototype.exitGame=function(){var t=this,e="1"==r.AppConst.languageType?"english":"hindi";h.CommonCtr.instance.ShowTipCallback(xgameTable.getComplanguageSevenUpDownById(45)[e],function(){t.sc_applyexittable_td100()})},e.prototype.showWait=function(t){0!=t&&(this.ui_wait.visible=!0,this.startTime=t,this.ui_waitTime.text=t+"",this.unschedule(this.showTime),this.schedule(this.showTime,1,t-1))},e.prototype.showTime=function(){this.startTime-=1,this.ui_waitTime.text=this.startTime+"",this.startTime<=0&&(this.ui_wait.visible=!1)},e.prototype.sc_entertable_td100=function(t){for(var e=0;e<t._pos2Gold.length;e++)if(t._pos2Gold[e].pos==t.pos){this.setSelfInfo(t._pos2Gold[e].val);break}for(this.mygold>=3e4?this.bets=[10,50,100,1e3,5e3]:this.bets=[1,5,10,50,100],e=0;e<5;e++)this["ui_chip"+e].setBetNum(this.bets[e],!1);this.cardNum=t.sendpoker,this.initPlayerInfo(),this.updatePlaterNum(t.TotalNum),this.ui_wait.visible=!1,this.ui_card3.visible=!1,this.ui_xiangnode.visible=!1,this.ui_hu.visible=!0,this.ui_long.visible=!0,this.ui_long2.visible=!0,this.ui_hu.node.opacity=255,this.ui_long.node.opacity=255,this.ui_long2.node.opacity=255,this.ui_hu.node.x=750,this.ui_long.node.x=750,this.ui_long2.node.x=750,3==t.state||1==t.state?(this.clearTable(),this.showWait(t.Endtime),this.cardNum+=3,this.ui_outcard.text=t.sendpoker+"",this.ui_allcard.text=416-t.sendpoker+""):2==t.state&&(this.ui_times.visible=!0,this.ui_times.node.scaleX=1,this.cardNum+=1,this.ui_outcard.text=this.cardNum+"",this.ui_allcard.text=416-this.cardNum-2+"",this.state=1,this.ui_card1.getChildAt(0).asLoader.url="ui://DT100/cards18",this.ui_card2.getChildAt(0).asLoader.url="ui://DT100/cards18",this.ui_card1.node.setScale(.6,.6),this.ui_card2.node.setScale(.6,.6),this.ui_card1.node.skewY=0,this.ui_card2.node.skewY=0,this.ui_card1.node.rotation=0,this.ui_card2.node.rotation=0,this.ui_card1.node.setPosition(this.ui_card1node.node.position.x,this.ui_card1node.node.position.y),this.ui_card2.node.setPosition(this.ui_card2node.node.position.x,this.ui_card2node.node.position.y),this.ui_card2.visible=!0,this.ui_card1.visible=!0,this.initTableBet()),this.showCardByNum()},e.prototype.initTableBet=function(){var t=this;this.clean();var e=w.default.instance.Model.tableData._p2GT,i=w.default.instance.Model.tableData.otherBetList,n=w.default.instance.Model.tableData._userlist,o=w.default.instance.Model.tableData._pos2Gameble,s=w.default.instance.Model.tableData.Endtime;this.countDownTimes=s,this.ui_times.text=this.countDownTimes+"",this.schedule(this.countDown,1,s-1);for(var a=-1,l=0;l<n.length;l++)if(2==n[l].s||3==n[l].s){a=n[l].userid;break}for(l=0;l<i.length;l++){var c=this.findUserById(i[l].pos);if(c)for(var u in 3==c.getBaseData().s&&(c=this.ui_player1),i[l].pos2Gameble){var h=m.UIUtil.formatNumber100(i[l].pos2Gameble[u]);a==i[l].pos&&this["areaCom"+ +u].chengedStar(h),c.setNowBet(+u,h)}}for(l=0;l<o.length;l++)h=m.UIUtil.formatNumber100(o[l].val),a==r.AppConst.mPlayerModel.userid&&this["areaCom"+o[l].pos].chengedStar(h),this["areaCom"+o[l].pos].setMyBet(h);var d=function(i){var n=e[i].pos,o=m.UIUtil.formatNumber100(e[i].val);o>0&&(p["areaCom"+n].setAllBetLabel(o),p.getBetList(o,[],!0,p.bets.length-1,p.bets,function(e){for(var i=0,o=e.length;i<o;i++){var s=t.getChip();s.touchable=!1,1e3==e[i]?s.setScale(1,1):s.setScale(.45,.45),s.setBetNum(e[i]),t.ui_betGroup.addChild(s),5e3==e[i]?s.setEff(!0):s.setEff(!1),1==n?t.centerBet1.push(s):2==n?t.centerBet2.push(s):t.centerBet3.push(s);var a=t.endBetPos[n-1][0]+Math.floor(360*Math.random()+40),l=t.endBetPos[n-1][1]+Math.floor(250*Math.random()+40);s.node.setPosition(a,-l)}}))},p=this;for(l=0;l<e.length;l++)d(l)},e.prototype.initPlayerInfo=function(){for(var t=w.default.instance.Model.tableData._userlist,e=t.filter(function(t){return 1==t.s||2==t.s||3==t.s}),i=t.filter(function(t){return 0==t.s}).sort(function(t,e){return e.gold-t.gold}),n=0;n<e.length;n++){var o={head:e[n]._wechat.wicon,nickName:e[n]._wechat.wName,gold:e[n].gold,userid:e[n].userid};1==e[n].s?(this.ui_player0.setData(o,e[n]),e[n].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(1)):2==e[n].s?(this.ui_player1.setData(o,e[n]),e[n].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(2)):3==e[n].s&&(this.ui_player0.setData(o,e[n]),this.ui_player1.setData(o,e[n]),e[n].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(1))}var s=2;for(n=0;n<i.length;n++)s>=6||(o={head:i[n]._wechat.wicon,nickName:i[n]._wechat.wName,gold:i[n].gold,userid:i[n].userid},this["ui_player"+s].setData(o,i[n]),s+=1)},e.prototype.sc_tablestart_td100_n=function(t){return a(this,void 0,void 0,function(){var e=this;return l(this,function(i){switch(i.label){case 0:return this.ShuffleCard=t.ShuffleCard,[4,this.playVSAni()];case 1:return i.sent(),this.playAfterVS(),this.startGame(t.Endtime),this.cardNum=t.sendpoker,[4,this.shuffleCard()];case 2:return i.sent(),[4,this.passOneCard()];case 3:return i.sent(),this.cardNum+=1,this.ui_outcard.text=this.cardNum+"",this.ui_allcard.text=416-this.cardNum+"",this.showCardByNum(),this.ui_card1.node.setPosition(1772,-412),this.ui_card2.node.setPosition(1772,-412),this.ui_card1.node.setScale(.2,.2),this.ui_card2.node.setScale(.2,.2),this.ui_card2.node.rotation=58,this.ui_card1.node.rotation=58,this.ui_card1.getChildAt(0).asLoader.url="ui://DT100/cards18",this.ui_card2.getChildAt(0).asLoader.url="ui://DT100/cards18",this.ui_card1.visible=!0,c.AudioManager.Singleton.play("","send_card"),this.ui_card1.node.runAction(cc.sequence(cc.spawn(cc.rotateTo(.25,0),cc.scaleTo(.25,.6,.6),cc.moveTo(.25,this.ui_card1node.node.position.x,this.ui_card1node.node.position.y),cc.callFunc(function(){e.ui_allcard.text=416-e.cardNum-1+""})),cc.callFunc(function(){e.ui_allcard.text=416-e.cardNum-2+"",e.ui_card2.visible=!0,c.AudioManager.Singleton.play("","send_card"),e.ui_card2.node.runAction(cc.spawn(cc.rotateTo(.2,0),cc.scaleTo(.2,.6,.6),cc.moveTo(.2,e.ui_card2node.node.position.x,e.ui_card2node.node.position.y)))}))),[2]}})})},e.prototype.showCardByNum=function(){this.ui_right_cards.visible=!0,this.ui_left_cards.visible=!0;var t=+this.ui_outcard.text/416;this.ui_left_cards.y=30-30*t;var e=+this.ui_allcard.text/416;this.ui_right_cards.y=-(20-20*e),this.ui_right_cards.x=20-20*e},e.prototype.passOneCard=function(){var t=this;return new Promise(function(e){t.ui_card3.node.setPosition(1772,-412),t.ui_card3.visible=!0,c.AudioManager.Singleton.play("","send_card"),t.ui_card3.node.runAction(cc.sequence(cc.bezierTo(.5,[cc.v2(1772,-412),cc.v2(1161,50),cc.v2(550,-418)]),cc.callFunc(function(){t.ui_card3.visible=!1,t.ui_left_cards.visible=!0,e(!0)})))})},e.prototype.shuffleCard=function(){var t=this;return new Promise(function(e){t.ShuffleCard?(t.ui_left_cards.visible=!1,t.ui_right_cards.visible=!1,t.ui_card3.node.setPosition(1772,-412),t.ui_card3.visible=!0,t.ui_card3.node.runAction(cc.sequence(cc.moveTo(.1,cc.v2(2400,-412)),cc.delayTime(.1),cc.moveTo(.1,cc.v2(1772,-412)),cc.callFunc(function(){t.ui_card3.visible=!1,t.ui_right_cards.y=-0,t.ui_right_cards.x=0,t.ui_right_cards.visible=!0,t.ui_allcard.text="0",t.ui_outcard.text="416",e(!0)}))),t.ui_card4.node.setPosition(550,-418),t.ui_card4.visible=!0,t.ui_card4.node.runAction(cc.sequence(cc.moveTo(.1,cc.v2(-100,-418)),cc.delayTime(.1),cc.moveTo(.1,cc.v2(1772,-418)),cc.callFunc(function(){t.ui_card4.visible=!1})))):e(!0)})},e.prototype.playVSAni=function(){var t=this;return new Promise(function(e){t.ui_hu.visible=!1,t.ui_long.visible=!1,t.ui_long2.visible=!1,t.ui_betbegins.visible=!0,t.vslongnode&&(t.vslongnode.opacity=0,t.vshunode.opacity=0,t.vshunode.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(1),cc.fadeOut(.3))),t.vslongnode.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(1),cc.fadeOut(.3)))),c.AudioManager.Singleton.play("","effectVs"),t.vsAni?(t.vsAni.setAnimation(0,"animation",!1),t.vsAni.setCompleteListener(function(){cc.isValid(t.ui_hu)&&(t.ui_hu.node.opacity=0,t.ui_long.node.opacity=0,t.ui_long2.node.opacity=0,t.ui_hu.visible=!0,t.ui_long.visible=!0,t.ui_long2.visible=!0,t.ui_betbegins.visible=!1,e(!0))})):e(!0)})},e.prototype.playAfterVS=function(){this.ui_hu.node.opacity=0,this.ui_long.node.opacity=0,this.ui_long2.node.opacity=0,this.ui_hu.node.x=850,this.ui_hu.node.runAction(cc.spawn(cc.fadeIn(.5),cc.moveTo(.5,cc.v2(750,-500)))),this.ui_long.node.x=650,this.ui_long2.node.x=650,this.ui_long.node.runAction(cc.spawn(cc.fadeIn(.5),cc.moveTo(.5,cc.v2(750,-500)))),this.ui_long2.node.runAction(cc.spawn(cc.fadeIn(.5),cc.moveTo(.5,cc.v2(750,-500))))},e.prototype.recoveryCard=function(){var t=this;this.ui_card1.node.runAction(cc.sequence(cc.spawn(cc.rotateTo(.5,140),cc.scaleTo(.5,.2,.2),cc.moveTo(.5,cc.v2(550,-418))),cc.callFunc(function(){t.ui_card1.visible=!1}))),this.ui_card2.node.runAction(cc.sequence(cc.spawn(cc.rotateTo(.5,140),cc.scaleTo(.5,.2,.2),cc.moveTo(.5,cc.v2(550,-418))),cc.callFunc(function(){t.ui_card2.visible=!1,t.cardNum+=2,t.ui_outcard.text=t.cardNum+"",t.ui_allcard.text=416-t.cardNum+""})))},e.prototype.startGame=function(t){t<=0||(this.ui_wait.visible=!1,this.updateTable=!1,this.state=1,this.countDownTimes=t,this.ui_times.node.scaleX=1,this.ui_times.visible=!0,this.ui_times.text=this.countDownTimes+"",this.unschedule(this.countDown),this.schedule(this.countDown,1,t-1))},e.prototype.countDown=function(){this.countDownTimes-=1,this.ui_times.text=this.countDownTimes+"",this.countDownTimes<=0&&c.AudioManager.Singleton.play("","end_bet")},e.prototype.report=function(){return a(this,void 0,void 0,function(){var t,e,i,n;return l(this,function(){return t=0,e=w.default.instance.Model.endData.sdlist,i=e.money,n=e.gamble,t=-(t=i-n),_.default.Singleton.reportGameRound(m.UIUtil.formatNumber100(t)),[2]})})},e.prototype.sc_end_td100_n=function(t){var e;return a(this,void 0,void 0,function(){var i,n,o,s,a,u,h,d,p,_=this;return l(this,function(l){switch(l.label){case 0:return this.state=2,this.report(),this.storage(),i=w.default.instance.Model.endData,[4,this.closeBetstops1()];case 1:return l.sent(),this.ui_betstops.visible=!0,[4,this.closeBetstops()];case 2:return l.sent(),[4,this.closeBetstops2()];case 3:return l.sent(),[4,this.Game_ShowPrize(t.sdlist._pos2CardList)];case 4:return l.sent(),[4,this.playAniByWin(i.rpos)];case 5:for(l.sent(),this.addTableTrend(i.rpos),(null===(e=this.trend.fguiComponent)||void 0===e?void 0:e.visible)&&w.default.instance.cs_gethistory_td100(),n=i.rpos,1==i.rpos?(this.areaCom1.showEff(),o=this.centerBet2.concat(this.centerBet3)):3==i.rpos?(this.areaCom3.showEff(),o=this.centerBet1.concat(this.centerBet2)):(this.areaCom2.showEff(),o=this.centerBet1.concat(this.centerBet3)),o.length>0&&c.AudioManager.Singleton.play("","wingetcoins"),a=function(t){u.scheduleOnce(function(){o[t].node.runAction(cc.sequence(cc.moveTo(.15,1166,-324),cc.callFunc(function(){o[t].removeFromParent(),_.addChipToPool(o[t])})))},.001*t+.01)},u=this,h=0;h<o.length;h++)a(h);return d=[],p=i.sdlist.money,this.scheduleOnce(function(){if(p>0){p=m.UIUtil.formatNumber100(p),_.getBetList(p,[],!0,_.bets.length-1,_.bets,function(t){for(var e=0,i=t.length;e<i;e++){var n=_.getChip();n.touchable=!1,1e3==t[e]?n.setScale(1,1):n.setScale(.45,.45),n.node.x=1166,n.node.y=-324,n.setBetNum(t[e]),_.ui_betGroup.addChild(n),d.push(n)}});for(var t=0;t<d.length;t++){var e=_.endBetPos[n-1][0]+Math.floor(250*Math.random()+40),o=_.endBetPos[n-1][1]+Math.floor(200*Math.random()+40);d[t].node.runAction(cc.moveTo(.15+.01*t,e,-o))}}var a=[],l={},u=[];for(t=0;t<i._pos2Gold.length;t++)if(i._pos2Gold[t].pos&&i._pos2Gold[t].val>0&&i._pos2Gold[t].pos!=r.AppConst.mPlayerModel.userid){var h=_.findUserIndex(i._pos2Gold[t].pos);if(_.players[0].userid==_.players[1].userid&&1==h)continue;h>=0&&!a.includes(h)&&(a.push(h),u.push(m.UIUtil.formatNumber100(i._pos2Gold[t].val)))}var f=0;u.length>0&&(f=u.reduce(function(t,e){return t+e}));var g=_["areaCom"+n].getAllBet();3==n&&(g*=8);var y=cc.v2(1166,324),b=g-f/.9-(p<0?0:p/.9);cc.log("================",g,f,p),b>0&&(c.AudioManager.Singleton.play("","wingetcoins"),_.getBetList(b,[],!0,_.bets.length-1,_.bets,function(t){for(var e=function(e){_.scheduleOnce(function(){_.flyChip(y,n,t[e])},.002*e+.02)},i=0,o=t.length;i<o;i++)e(i)}));var v=function(t){l[a[t]]=[],_.getBetList(u[t],[],!0,_.bets.length-1,_.bets,function(e){for(var i=0,n=e.length;i<n;i++){var o=_.getChip();o.touchable=!1,1e3==e[i]?o.setScale(1,1):o.setScale(.45,.45),o.node.x=1166,o.node.y=-324,o.setBetNum(e[i]),_.ui_betGroup.addChild(o),l[a[t]].push(o)}})};for(t=0;t<a.length;t++)v(t);for(var C in l)for(t=0;t<l[C].length;t++)e=_.endBetPos[n-1][0]+Math.floor(250*Math.random()+40),o=_.endBetPos[n-1][1]+Math.floor(200*Math.random()+40),l[C][t].node.runAction(cc.moveTo(.15+.01*t,e,-o));_.scheduleOnce(function(){_.recoveryCard();var t=function(t){c.AudioManager.Singleton.play("","wingetcoins");for(var e=function(e){var i=l[t][e].node.position.sub(cc.v3(_.players[t].node.x,_.players[+t].node.y,0)).mag();l[t][e].node.runAction(cc.sequence(cc.moveTo(i/3e3,_.players[t].node.x,_.players[+t].node.y),cc.callFunc(function(){l[t][e].removeFromParent(),_.addChipToPool(l[t][e])})))},i=0;i<l[t].length;i++)e(i)};for(var e in l)t(e);_.showPlayerWin(i._pos2Gold),p>0&&(c.AudioManager.Singleton.play("","wingetcoins"),_.ui_player6.setWin(p));for(var o=function(t){var e=d[t].node.position.sub(cc.v3(_.ui_player6.node.x,_.ui_player6.node.y,0)).mag();d[t].node.runAction(cc.sequence(cc.moveTo(e/3e3,_.ui_player6.node.x,_.ui_player6.node.y),cc.callFunc(function(){d[t].removeFromParent(),_.addChipToPool(d[t])})))},a=0;a<d.length;a++)o(a);_.isCanUpdateGold&&_.setUserGold(i.money),s=_["centerBet"+n];var r=function(t){var e=s[t].node.position.sub(cc.v3(2013,-1003,0)).mag();s[t].node.runAction(cc.sequence(cc.moveTo(e/3e3,2013,-1003),cc.callFunc(function(){s[t].removeFromParent(),_.addChipToPool(s[t])})))};for(a=0;a<s.length;a++)r(a);_.scheduleOnce(function(){_.ui_vscom.visible=!1,_.ui_card1.visible=!1,_.ui_card2.visible=!1,_["areaCom"+n].cleanLinght(),_.clean(),_.updateTableInfo()},2)},1)},1),[2]}})})},e.prototype.playAniByWin=function(t){var e=this;return new Promise(function(i){1==t?(c.AudioManager.Singleton.play("","long_win"),e.longAni.setAnimation(0,"win",!1),e.longAni.addAnimation(0,"daiji",!0),e.longAni2.setAnimation(0,"win",!1),e.longAni2.addAnimation(0,"daiji",!0),e.huAni.setAnimation(0,"lost",!1),e.huAni.addAnimation(0,"daiji",!0),e.ui_longwinnode.visible=!0,c.AudioManager.Singleton.play("","thounder"),e.longwinAni.setAnimation(0,"animation",!1),e.longwinAni.setCompleteListener(function(){cc.isValid(e.ui_longwinnode)&&(e.ui_longwinnode.visible=!1,i(!0))})):2==t?(c.AudioManager.Singleton.play("","hu_win"),e.huAni.setAnimation(0,"win",!1),e.huAni.addAnimation(0,"daiji",!0),e.longAni.setAnimation(0,"lost",!1),e.longAni.addAnimation(0,"daiji",!0),e.longAni2.setAnimation(0,"lost",!1),e.longAni2.addAnimation(0,"daiji",!0),c.AudioManager.Singleton.play("","tigerPaw"),e.ui_huwinnode.visible=!0,e.huwinAni.setAnimation(0,"animation",!1),e.huwinAni.setCompleteListener(function(){cc.isValid(e.ui_huwinnode)&&(e.ui_huwinnode.visible=!1,i(!0))})):3==t&&(e.ui_long.visible=!1,e.ui_long2.visible=!1,e.ui_hu.visible=!1,e.ui_xiangnode.visible=!0,c.AudioManager.Singleton.play("","he_win"),c.AudioManager.Singleton.play("","water"),e.xiangAni.setAnimation(0,"animation",!1),e.xiangAni.setCompleteListener(function(){cc.isValid(e.ui_xiangnode)&&(e.ui_long.visible=!0,e.ui_long2.visible=!0,e.ui_hu.visible=!0,e.ui_xiangnode.visible=!1,i(!0))}))})},e.prototype.storage=function(){return a(this,void 0,void 0,function(){var t,e,i,n,o,s;return l(this,function(){for(n in t=w.default.instance.Model.win10000,e=w.default.instance.Model.endData._pos2Gold,i=w.default.instance.Model.endData.sdlist.money,t){for(o=!1,s=0;s<e.length;s++)e[s].pos==+n&&e[s].val>=4e5&&(o=!0);o||+n!=r.AppConst.mPlayerModel.userid&&t[n]&&(t[n]>1?t[n]-=1:delete t[n])}for(s=0;s<e.length;s++)e[s].pos&&e[s].val>=4e5&&e[s].pos!=r.AppConst.mPlayerModel.userid&&(t[e[s].pos]>=1?t[e[s].pos]<3&&(t[e[s].pos]+=1):t[e[s].pos]=1);return i>=4e5?t[r.AppConst.mPlayerModel.userid]>=1?t[r.AppConst.mPlayerModel.userid]<3&&(t[r.AppConst.mPlayerModel.userid]+=1):t[r.AppConst.mPlayerModel.userid]=1:t[r.AppConst.mPlayerModel.userid]>1?t[r.AppConst.mPlayerModel.userid]-=1:delete t[r.AppConst.mPlayerModel.userid],[2]})})},e.prototype.showPlayerWin=function(t){for(var e=0;e<t.length;e++)if(t[e].pos&&t[e].val>0&&t[e].pos!=r.AppConst.mPlayerModel.userid){var i=this.findUserById(t[e].pos);if(this.players[0].userid==this.players[1].userid&&i&&1==i.pos)continue;i&&i.setWin(m.UIUtil.formatNumber100(t[e].val))}},e.prototype.updateTableInfo=function(){this.updateTable=!0,this.ui_player6.getController("c2").setSelectedIndex(0);for(var t=w.default.instance.Model.endData.playerlist,e=t.filter(function(t){return 1==t.s||2==t.s||3==t.s}),i=t.filter(function(t){return 0==t.s}).sort(function(t,e){return e.gold-t.gold}),n=!1,o=!1,s=0;s<e.length;s++){var a={head:e[s]._wechat.wicon,nickName:e[s]._wechat.wName,gold:e[s].gold,userid:e[s].userid};1==e[s].s?(this.ui_player0.setData(a,e[s]),n=!0,e[s].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(1)):2==e[s].s?(o=!0,this.ui_player1.setData(a,e[s]),e[s].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(2)):3==e[s].s&&(n=!0,o=!0,this.ui_player0.setData(a,e[s]),this.ui_player1.setData(a,e[s]),e[s].userid==r.AppConst.mPlayerModel.userid&&this.ui_player6.getController("c2").setSelectedIndex(1))}n||this.ui_player0.exit(),o||this.ui_player1.exit();var l=2;for(s=0;s<i.length;s++)l>=6||(a={head:i[s]._wechat.wicon,nickName:i[s]._wechat.wName,gold:i[s].gold,userid:i[s].userid},this["ui_player"+l].setData(a,i[s]),l+=1);var c=w.default.instance.Model.win10000[r.AppConst.mPlayerModel.userid];if(c?this.ui_player6.addWinEff(c):this.ui_player6.cleanWinEff(),l<5)for(s=l;s<6;s++)this["ui_player"+l].exit()},e.prototype.Game_ShowPrize=function(t,e){var i=this;return void 0===e&&(e=!1),new Promise(function(e){i.flipCardAction(i.ui_card1,t[0].vallist[0]),i.scheduleOnce(function(){i.flipCardAction(i.ui_card2,t[1].vallist[0]),i.scheduleOnce(function(){e(!0)},.3)},.3)})},e.prototype.flipCardAction=function(t,e){var i=this;c.AudioManager.Singleton.play("","open_card"),t.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,0,.6),cc.skewTo(.1,0,20)),cc.callFunc(function(){i.showCard(t,e)}),cc.spawn(cc.scaleTo(.1,.6,.6),cc.skewTo(.1,0,0))))},e.prototype.showCard=function(t,e){t.getChildAt(0).asLoader.url="ui://DT100/cards"+e},e.prototype.closeBetstops=function(){var t=this;return new Promise(function(e){t.scheduleOnce(function(){t.ui_betstops.visible=!1,e(!0)},1)})},e.prototype.closeBetstops1=function(){var t=this;return new Promise(function(e){t.scheduleOnce(function(){e(!0)},1)})},e.prototype.closeBetstops2=function(){var t=this;return new Promise(function(e){t.ui_times.node.runAction(cc.sequence(cc.scaleTo(.2,0,1),cc.callFunc(function(){cc.isValid(t.ui_vscom)&&(t.ui_vscom.visible=!0,t.ui_vscom.node.scaleX=0,t.ui_vscom.node.runAction(cc.scaleTo(.2,1,1)),t.scheduleOnce(function(){e(!0)},.2))})))})},e.prototype.tableTrendInfo=function(t){var e=t.wbs;this.ui_recordList.removeChildrenToPool();for(var i=e.length>13?e.slice(e.length-13):e,n=0;n<i.length;n++)this.ui_recordList.addItemFromPool().setData(i[n])},e.prototype.addTableTrend=function(t){var e=this,i=this.ui_recordList.numChildren;i>=13&&this.ui_recordList.removeChildToPoolAt(0),this.ui_recordList.addItemFromPool().setData(t),this.ui_newrecord.visible=!0;var n=9*i+51*i+this.ui_recordList.x-3;i>=13&&(n-=60),this.ui_newrecord.x=n,this.scheduleOnce(function(){e.ui_newrecord.visible=!1},4)},e.prototype.clearTable=function(){this.clean(),this.unscheduleAllCallbacks(),this.ui_betstops.visible=!1,this.ui_betbegins.visible=!1,this.ui_card1.visible=!1,this.ui_card2.visible=!1,this.ui_vscom.visible=!1,this.ui_times.node.scaleX=1,this.ui_times.text="0",this.ui_times.visible=!1,this.ui_newrecord.visible=!1},e.prototype.clean=function(){this.centerBet1.length=0,this.centerBet2.length=0,this.centerBet3.length=0,this.areaCom1.cleanEff(),this.areaCom2.cleanEff(),this.areaCom3.cleanEff(),this.recoveryPoker(),this.players.forEach(function(t){t.reset()})},e.prototype.selfStake=function(t){var e=m.UIUtil.formatNumber100(t.gamble);this.flyChip(this.ui_player6,t.tpos,e,!0);var i=this["areaCom"+t.tpos].getAllBet();this["areaCom"+t.tpos].setAllbet(i+e),this["areaCom"+t.tpos].addAllBet(e),this.updateMeAreaBet(t._pos2Gamble),this.players[1].userid==r.AppConst.mPlayerModel.userid&&this.flyStar(e,t.tpos,this.ui_player6);for(var n=0;n<6;n++)this.players[n].empty||this.players[n].userid!=r.AppConst.mPlayerModel.userid||this.players[n].showEff()},e.prototype.updateMeAreaBet=function(t){for(var e=0;e<t.length;e++)this["areaCom"+t[e].pos].setMyBet(m.UIUtil.formatNumber100(t[e].val))},e.prototype.flyStar=function(t,e,i){var n=this;if(!(this["areaCom"+e].getStarProgress()>=1e3))if(!this.starAction||this.starAction.isDone()){this.ui_star.node.x=i?i.node.x:this.ui_player1.node.x,this.ui_star.node.y=i?i.node.y:this.ui_player1.node.y,this.ui_star.visible=!0,this.ui_star1.node.x=i?i.node.x:this.ui_player1.node.x,this.ui_star1.node.y=i?i.node.y:this.ui_player1.node.y,this.ui_star1.visible=!0;var o=cc.v2(this.ui_star.node.x,this.ui_star.node.y),s=cc.v2(this["ui_endpos"+e].node.x,this["ui_endpos"+e].node.y),a=cc.v2((o.x+s.x)/2,-200);this.scheduleOnce(function(){n.ui_star1.node.runAction(cc.sequence(cc.bezierTo(.35,[o,a,s]),cc.callFunc(function(){cc.isValid(n.ui_star1)&&(n.ui_star1.visible=!1)})))},.1),cc.tween(this.ui_star.node).bezierTo,this.starAction=this.ui_star.node.runAction(cc.sequence(cc.bezierTo(.5,[o,a,s]),cc.callFunc(function(){cc.isValid(n.ui_star)&&(n["areaCom"+e].chengedStar(t),n["areaCom"+e].playStarAni(),n.ui_star.visible=!1)})))}else this["areaCom"+e].chengedStar(t)},e.prototype.sc_gamblearea_sud_n=function(t){this.tableincreaseBet={1:0,2:0,3:0},this.tableUserStake(t.otherBetList),this.OtherUserStake(t._p2GT)},e.prototype.updatePlaterNum=function(t){this.ui_otherPlayerNum.text=t+""},e.prototype.tableUserStake=function(t){for(var e=this,i=function(i){var o=n.findUserById(t[i].pos);if(!o)return"continue";var s=o.getBaseData();if(s&&3==s.s?(n.ui_player0.setGold(t[i].userGold),n.ui_player1.setGold(t[i].userGold),o=n.ui_player1):o.setGold(t[i].userGold),t[i].pos!=r.AppConst.mPlayerModel.userid&&o&&!o.empty){var a=function(s){var a=o.getNowBet(+s),l=m.UIUtil.formatNumber100(t[i].pos2Gameble[s])-a;l>0&&(n.tableincreaseBet[s]+=l,o.setNowBet(+s,l),1==o.pos&&n.flyStar(l,+s),n.getBetList(l,[],!1,n.bets.length-1,n.bets,function(t){for(var i=function(i){e.scheduleOnce(function(){o.showEff(),e["areaCom"+s].addAllBet(t[i]),e.flyChip(o,+s,t[i])},.03*i+.02)},n=0,a=t.length;n<a;n++)i(n)}))};for(var l in t[i].pos2Gameble)a(l)}},n=this,o=0;o<t.length;o++)i(o)},e.prototype.OtherUserStake=function(t){for(var e=this,i=this.bets[0]<10?1:0,n=function(n){var s=t[n].pos,a=o["areaCom"+s].getAllBet(),l=o.tableincreaseBet[s],r=m.UIUtil.formatNumber100(t[n].val);if(o["areaCom"+s].setAllbet(r),r>a){var c=r-a-l;if(1==i&&(c-=c%100/10),c>100)for(var u=Math.floor(c/3),h=u-u%10,d=[h,h,c-2*h],p=function(t){o.scheduleOnce(function(){e.otherFlyChip(d[t],s)},.25*t)},_=0;_<3;_++)p(_);else o.otherFlyChip(c,s)}},o=this,s=0;s<t.length;s++)n(s)},e.prototype.randomNum=function(){var t=Math.random();return t<.4?.4:t>.6?.6:t},e.prototype.otherFlyChip=function(t,e){var i=this,n=cc.v2(this.ui_btn_other.x-50,this.ui_btn_other.y-50);this.getBetList(t,[],!0,this.bets.length-1,this.bets,function(t){for(var o=function(o){i.scheduleOnce(function(){i["areaCom"+e].addAllBet(t[o]),i.showOtherEff(),i.flyChip(n,e,t[o])},.08*o)},s=0,a=t.length;s<a;s++)o(s)})},e.prototype.showOtherEff=function(){if(!fgui.GTween.isTweening(this.ui_btn_other)){var t=this.ui_btn_other.x,e=this.ui_btn_other.y,i=t-30,n=e-30;fgui.GTween.to2(t,e,i,n,.1).setTarget(this.ui_btn_other,this.ui_btn_other.setPosition).setRepeat(1,!0).setEase(fgui.EaseType.ElasticIn)}},e.prototype.findUserById=function(t){for(var e=0;e<6;e++)if(this.players[e].userid==t)return this.players[e];return null},e.prototype.findUserIndex=function(t){for(var e=0;e<6;e++)if(this.players[e].userid==t)return e;return-1},e.prototype.getBetList=function(t,e,i,n,o,s){for(void 0===n&&(n=4);t>0;){var a=Math.random()>.3;t>=o[n]?a&&i&&n-1>=0?(t-=o[n-1],e.push(o[n-1])):(t-=o[n],e.push(o[n])):(t<o[0]&&(t=0),n--)}s&&s(e)},e.prototype.flyChip=function(t,e,i,n){void 0===n&&(n=!1),c.AudioManager.Singleton.play("","bet");var o=this.getChip();1e3==i?o.setScale(1,1):o.setScale(.45,.45),n?(o.node.x=this.selectChip.node.x,o.node.y=this.selectChip.node.y):(o.node.x=t.x,o.node.y=-t.y),o.setBetNum(i),this.ui_betGroup.addChild(o),5e3==i?o.setEff(!0):o.setEff(!1),1==e?this.centerBet1.push(o):2==e?this.centerBet2.push(o):this.centerBet3.push(o);var s=this.endBetPos[e-1][0]+Math.floor(360*Math.random()+40),a=this.endBetPos[e-1][1]+Math.floor(250*Math.random()+30),l=+(o.node.position.sub(cc.v3(s,a,0)).mag()/6e3).toFixed(2),r=cc.moveTo(l,s,-a);o.node.runAction(r)},e.prototype.getChip=function(){return this.chipPool.length<=0?fgui.UIPackage.createObject("DT100","chipsNow"):this.chipPool.pop()},e.prototype.addChipToPool=function(t){this.chipPool.push(t)},e.prototype.cleanPool=function(){for(;this.chipPool.length;)this.chipPool.pop().dispose()},e.prototype.recoveryPoker=function(){for(;this.ui_betGroup.numChildren>0;){var t=this.ui_betGroup.removeChildAt(0);this.addChipToPool(t)}},s([I],e)}(g.default));i.default=O,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/BaseFrameNative":void 0,"../../../../Common/script/base/CommonCtr":void 0,"../../../../Common/script/base/CommonView":void 0,"../../../../Common/script/base/ReconnectManager":void 0,"../../../../Common/script/base/ReportManager":void 0,"../../../../Common/script/base/SceneManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../../../../GameHall/script/Module/ChatView/ChatPeopleMsg":void 0,"../../../../GameHall/script/Module/ChatView/ChatView":void 0,"../../../../GameHall/script/Module/ComSettingView/ComSettingView":void 0,"../../../../GameHall/script/Module/RechargeView/RechargeView":void 0,"../Contrl/DT100ViewCtr":"DT100ViewCtr","./DTAddCash":"DTAddCash","./DTAreaCom":"DTAreaCom","./DTChipsNow":"DTChipsNow","./DTDrwaprize":"DTDrwaprize","./DTHelp":"DTHelp","./DTHistory":"DTHistory","./DTPlayList":"DTPlayList","./DTPlayListItem":"DTPlayListItem","./DTPlayer":"DTPlayer"}],DTAddCash:[function(t,e,i){"use strict";cc._RF.push(e,"52b81dzYgFL+YeUTcHBU1XY","DTAddCash");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/base/AudioManager"),l=t("../../../../Common/script/base/ViewBase"),r=t("../Contrl/DT100ViewCtr"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_btn_close=null,e.ui_btn_addCash=null,e.ui_addCash_lab_title=null,e.ui_addCash_lab1=null,e.ui_addCash_lab2=null,e.ui_addCash_lab3=null,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"addCash"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.fguiComponent.visible=!1,this.ui_btn_close.onClick(this.Hide,this),this.ui_btn_addCash.onClick(this.openAddCash,this),this.setLanguage()},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this),this.Show()},e.prototype.setLanguage=function(){for(var t="1"==s.AppConst.languageType?"english":"hindi",e=1;e<5;e++){var i=xgameTable.getComplanguageSevenUpDownById(e);i&&i.comp&&this[i.comp]&&(1==i.type?this[i.comp].text=i[t]:this[i.comp].url=i[t].replace("sevenUpDown","DT100"))}},e.prototype.Show=function(){t.prototype.Show.call(this),a.AudioManager.Singleton.play("","pop_up")},e.prototype.Hide=function(){t.prototype.Hide.call(this),a.AudioManager.Singleton.play("","btn_close")},e.prototype.openAddCash=function(){this.Hide(),r.default.instance.view.showAddCash()},e}(l.default);i.default=c,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../Contrl/DT100ViewCtr":"DT100ViewCtr"}],DTAreaCom:[function(t,e,i){"use strict";cc._RF.push(e,"6d86fD6oMdLSaVxFKWxYLyd","DTAreaCom");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allbet=0,e.allBetTemp=0,e.mybet=0,e.starValue=0,e.myBet=null,e.allBet=null,e}return o(e,t),e.prototype.onConstruct=function(){this.backLinght=this.getChild("backLinght").asImage,this.starCom=this.getChild("star").asCom,this.star=this.starCom.getChild("n24").asImage,this.star.fillAmount=0,this.myBet=this.getChild("bets1").asTextField,this.allBet=this.getChild("bets2").asTextField,this.initAni()},e.prototype.initAni=function(){var t=this;cc.assetManager.getBundle("DT100").load("res/prefab/star",cc.Prefab,function(e,i){t.starNode=cc.instantiate(i),t.starCom.node.addChild(t.starNode),t.starNode.active=!1,t.starAnimation=t.starNode.getComponent(sp.Skeleton),t.starAnimation.clearTracks()})},e.prototype.playStarAni=function(){var t=this;this.starNode&&(this.starNode.active=!0,this.starAnimation.setAnimation(0,"animation",!1),this.starAnimation.setCompleteListener(function(){t.starNode.active=!1}))},e.prototype.showEff=function(){this.getController("bg").setSelectedIndex(1),this.backLinght.node.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.4),cc.fadeOut(.4))))},e.prototype.chengedStar=function(t){if(0!=t){this.starValue+=t;var e=this.starValue/1e3;this.star.fillAmount=e>1?1:e}},e.prototype.getStarProgress=function(){return this.starValue},e.prototype.cleanEff=function(){this.getController("bg").setSelectedIndex(0),this.backLinght.node.stopAllActions(),this.backLinght.node.opacity=255,this.myBet.text="0",this.allBet.text="/0",this.starValue=0,this.mybet=0,this.allbet=0,this.allBetTemp=0,this.star.fillAmount=0,this._tweener&&(this._tweener.kill(),this._tweener=null)},e.prototype.cleanLinght=function(){this.getController("bg").setSelectedIndex(0),this.backLinght.node.stopAllActions(),this.backLinght.node.opacity=255},e.prototype.setMyBet=function(t){this.mybet=t,this.myBet.text=t+""},e.prototype.setAllbet=function(t){this.allbet=t},e.prototype.setAllBetLabel=function(t){this.allbet=t,this.allBetTemp=t,this.allBet.text="/"+t},e.prototype.addAllBet=function(t){this.allBetTemp+=t,this.allBet.text="/"+this.allBetTemp},e.prototype.getAllBet=function(){return this.allbet},e.prototype.getSelfBet=function(){return this.mybet},e}(fgui.GComponent);i.default=s,cc._RF.pop()},{}],DTChipsNow:[function(t,e,i){"use strict";cc._RF.push(e,"7ab4a+fYIxJp7eaxPWf/9G4","DTChipsNow");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onConstruct=function(){this.chipLoader=this.getChild("icon").asLoader,this.eff=this.getChild("eff").asLoader},e.prototype.setBetNum=function(t,e){void 0===e&&(e=!0),this.bet=t,this.chipLoader.url=e?"ui://DT100/chip"+t:t>=1e3?"ui://DT100/chip1"+t:"ui://DT100/chip"+t},e.prototype.getIndex=function(){return this.bet},e.prototype.setEff=function(t){void 0===t&&(t=!1),t?this.eff.url="ui://DT100/chipEff":""!=this.eff.url&&(this.eff.url="")},e}(fgui.GButton);i.default=s,cc._RF.pop()},{}],DTDrwaprize:[function(t,e,i){"use strict";cc._RF.push(e,"6cd1b0Y28FIzpLFbGor73Dd","DTDrwaprize");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onConstruct=function(){this.typeTitle=this.getChild("title").asTextField,this.typeController=this.getController("type")},e.prototype.setData=function(t,e){void 0===e&&(e=!0);var i="";1==t?(i="D",this.typeController.setSelectedIndex(1)):2==t?(i="T",this.typeController.setSelectedIndex(0)):(i="TIE",this.typeController.setSelectedIndex(2)),this.typeTitle.text=e?i:""},e}(fgui.GComponent);i.default=s,cc._RF.pop()},{}],DTHelp:[function(t,e,i){"use strict";cc._RF.push(e,"3260dXYY9dHO42wEUNlqXHq","DTHelp");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/base/AudioManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_btn_close=null,e.ui_help_lab_title=null,e.ui_dt_help_lab1=null,e.ui_dt_help_lab2=null,e.ui_dt_help_lab3=null,e.ui_dt_help_lab4=null,e.ui_dt_help_lab5=null,e.ui_dt_help_lab6=null,e.ui_dt_help_lab7=null,e.ui_dt_help_lab8=null,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"help"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.ui_btn_close.onClick(this.Hide,this),"2"==s.AppConst.languageType&&this.setLanguage()},e.prototype.allChildCreated=function(){t.prototype.allChildCreated.call(this),this.Show()},e.prototype.setLanguage=function(){var t="1"==s.AppConst.languageType?"english":"hindi";this.ui_help_lab_title.url=xgameTable.getComplanguageSevenUpDownById(25)[t].replace("sevenUpDown","DT100");var e=xgameTable.getTableMgr().getSheet(xgameTable.EnumExcelKey.Complanguage,xgameTable.EnumComplanguage.Dragon_tiger);for(var i in cc.error("========",e),e){var n=e[i].comp;n&&this[n]&&(this[n].text=e[i][t])}},e.prototype.Show=function(){t.prototype.Show.call(this),a.AudioManager.Singleton.play("","pop_up")},e.prototype.Hide=function(){t.prototype.Hide.call(this),a.AudioManager.Singleton.play("","btn_close")},e}(t("../../../../Common/script/base/ViewBase").default);i.default=l,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/ViewBase":void 0}],DTHistory:[function(t,e,i){"use strict";cc._RF.push(e,"e69c40q8J1M6o4Cjjg6IAgW","DTHistory");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/base/AudioManager"),l=t("../../../../Common/script/base/ViewBase"),r=t("../Contrl/DT100ViewCtr"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_btn_close=null,e.ui_wins26=null,e.ui_wins812=null,e.ui_toplist=null,e.ui_routines=null,e.ui_trend_lab1=null,e.ui_trend_lab6=null,e.ui_longwin=null,e.ui_huwin=null,e.centerData=[],e.itemPool=[],e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"trend"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.fguiComponent.visible=!1,this.ui_btn_close.onClick(this.Hide,this),"2"==s.AppConst.languageType&&this.setLanguage()},e.prototype.setLanguage=function(){for(var t="1"==s.AppConst.languageType?"english":"hindi",e=13;e<20;e++){var i=xgameTable.getComplanguageSevenUpDownById(e);i&&i.comp&&this[i.comp]&&(1==i.type?this[i.comp].text=i[t]:this[i.comp].url=i[t].replace("sevenUpDown","DT100"))}"2"==s.AppConst.languageType?(this.ui_longwin.url="ui://DT100/longwin1",this.ui_huwin.url="ui://DT100/huwin1"):(this.ui_longwin.url="ui://DT100/longwin",this.ui_huwin.url="ui://DT100/huwin")},e.prototype.Show=function(){t.prototype.Show.call(this),a.AudioManager.Singleton.play("","pop_up"),r.default.instance.cs_gethistory_td100()},e.prototype.Hide=function(){t.prototype.Hide.call(this),a.AudioManager.Singleton.play("","btn_close")},e.prototype.handleData=function(){var t=r.default.instance.Model.historyData,e=t.wbs.length>23?t.wbs.slice(t.wbs.length-23):t.wbs;this.handleTrend(e),this.centerData=t.wbs.length>200?t.wbs.slice(t.wbs.length-200):t.wbs,this.handleCenter(this.centerData)},e.prototype.handleCenter=function(t){this.addRoutinesItem();for(var e=[],i=this.checkType(t[0]),n=0,o=0;o<t.length;o++){var s=this.checkType(t[o]);e[n]||(e[n]=[]),s==i?(e[n].length>=6&&(e[n+=1]=[]),e[n].push(t[o]),i=s):(e[n+=1]=[],e[n].push(t[o]),i=s)}for(e.length>23&&(e=e.slice(e.length-23)),o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++){s=e[o][a];var l=this.getRoutinesItem();l.setData(s,!1),this.ui_routines.addChild(l),l.x=68*o+6,l.y=82*a}var c=r.default.instance.Model.historyData;isNaN(c._DTProValue[0])&&(c._DTProValue[0]=0),isNaN(c._DTProValue[1])&&(c._DTProValue[1]=0);var u=100*+c._DTProValue[0].toFixed(2),h=100*+c._DTProValue[1].toFixed(2);this.ui_wins26.text=u.toFixed()+"%",this.ui_wins812.text=h.toFixed()+"%"},e.prototype.getRoutinesItem=function(){return this.itemPool.length<=0?fgui.UIPackage.createObject("DT100","trendItem"):this.itemPool.pop()},e.prototype.addRoutinesItem=function(){for(;this.ui_routines.numChildren>0;){var t=this.ui_routines.removeChildAt(0);this.itemPool.push(t)}},e.prototype.checkType=function(t){return t},e.prototype.handleTrend=function(t){this.ui_toplist.removeChildrenToPool();for(var e=0;e<t.length;e++)this.ui_toplist.addItemFromPool().setData(t[e],!0)},e.prototype.addOneData=function(t,e){void 0===e&&(e=!1)},e.prototype.clean=function(){for(this.ui_toplist.dispose();this.itemPool.length>0;)this.itemPool.pop().dispose()},e}(l.default);i.default=c,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../Contrl/DT100ViewCtr":"DT100ViewCtr"}],DTPlayListItem:[function(t,e,i){"use strict";cc._RF.push(e,"ebf9eVI5wtJ3KPKiUYgCmf3","DTPlayListItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/util/UIUtil"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onConstruct=function(){this.nickName=this.getChild("userName").asTextField,this.gold=this.getChild("gold").asTextField,this.head=this.getChild("head").asCom.getChild("n0").asLoader},e.prototype.setData=function(t){a.UIUtil.loadImage(this.head,t.head),this.nickName.text=a.UIUtil.getNickNameSub(t.nickName,6);var e=s.AppConst.gameStatus[1]==s.EnumGameStatus.Hide?"":"R$:";this.gold.text=e+a.UIUtil.formatNumber100(t.gold)},e}(fgui.GComponent);i.default=l,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/util/UIUtil":void 0}],DTPlayList:[function(t,e,i){"use strict";cc._RF.push(e,"48e67uLiu9Ma54R86IxtI/Z","DTPlayList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/base/AudioManager"),l=t("../../../../Common/script/base/ViewBase"),r=t("../../../../Common/script/util/UIUtil"),c=t("../Contrl/DT100ViewCtr"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui_otherPlayList=null,e.otherPlay=[],e.ui_btn_close=null,e.nowPage=0,e.ui_online=null,e.ui_monyRound=null,e.ui_monyMax=null,e.ui_luckyRound=null,e.ui_luckyWin=null,e.ui_monyName=null,e.ui_luckyName=null,e.ui_monyHead=null,e.ui_luckyHead=null,e.ui_player_lab_title=null,e.ui_player_lab1=null,e.ui_player_lab2=null,e.ui_player_lab3=null,e.ui_winnerimg=null,e.ui_luckyimg=null,e.ui_winimg=null,e.ui_winroundimg=null,e.playerNum=0,e.first=!1,e}return o(e,t),Object.defineProperty(e.prototype,"packageResourceName",{get:function(){return"DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageName",{get:function(){return"res/DT100"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"componentName",{get:function(){return"otherPlayer"},enumerable:!1,configurable:!0}),e.prototype.createChildComponents=function(){t.prototype.createChildComponents.call(this),this.fguiComponent.visible=!1,this.ui_otherPlayList.setVirtual(),this.ui_otherPlayList.itemRenderer=this.renderListItem.bind(this),this.ui_otherPlayList.on(fgui.Event.PULL_UP_RELEASE,this.onPullUpToRefresh,this),this.ui_btn_close.onClick(this.Hide,this),this.monyHead=this.ui_monyHead.getChild("n0").asLoader,this.luckyHead=this.ui_luckyHead.getChild("n0").asLoader,"2"==s.AppConst.languageType&&this.setLanguage()},e.prototype.setLanguage=function(){for(var t="1"==s.AppConst.languageType?"english":"hindi",e=5;e<13;e++){var i=xgameTable.getComplanguageSevenUpDownById(e);i&&i.comp&&this[i.comp]&&(1==i.type?this[i.comp].text=i[t]:this[i.comp].url=i[t].replace("sevenUpDown","DT100"))}},e.prototype.Hide=function(){t.prototype.Hide.call(this),a.AudioManager.Singleton.play("","btn_close")},e.prototype.renderListItem=function(t,e){e.setData(this.otherPlay[t])},e.prototype.onPullUpToRefresh=function(){this.playerNum<=100||(this.nowPage+=1,this.first=!1,console.log("========\u4e0b\u62c9============"),c.default.instance.cs_getroomplayerlist_td100(this.nowPage))},e.prototype.handleData=function(t,e){if(!(t.length<=0)){this.first&&(this.winnerData=null,this.luckyData=null,this.otherPlay.length=0);for(var i=0;i<t.length;i++){var n={head:t[i]._wechat.wicon,nickName:t[i]._wechat.wName,gold:t[i].gold};this.first?1==t[i].s?this.winnerData=t[i]:2==t[i].s?this.luckyData=t[i]:3==t[i].s?(this.winnerData=t[i],this.luckyData=t[i]):this.otherPlay.push(n):this.otherPlay.push(n)}this.ui_otherPlayList.numItems=this.otherPlay.length,this.playerNum=e,this.ui_online.setVar("num",e+"").flushVars(),this.first&&this.showLucky()}},e.prototype.showLucky=function(){this.clean();var t=s.AppConst.gameStatus[1]==s.EnumGameStatus.Hide?"":"R$:";this.winnerData&&(r.UIUtil.loadImage(this.monyHead,this.winnerData._wechat.wicon),this.ui_monyName.text=r.UIUtil.getNickNameSub(this.winnerData._wechat.wName,6),this.ui_monyMax.text=t+r.UIUtil.formatNumber100(this.winnerData.cwScore<0?0:this.winnerData.cwScore),this.ui_monyRound.text=this.winnerData.winTimes+""),this.luckyData&&(r.UIUtil.loadImage(this.luckyHead,this.luckyData._wechat.wicon),this.ui_luckyName.text=r.UIUtil.getNickNameSub(this.luckyData._wechat.wName,6),this.ui_luckyWin.text=t+r.UIUtil.formatNumber100(this.luckyData.cwScore<0?0:this.luckyData.cwScore),this.ui_luckyRound.text=this.luckyData.winTimes+"")},e.prototype.clean=function(){this.monyHead.url="",this.ui_monyName.text="",this.ui_monyMax.text="",this.ui_monyRound.text="",this.luckyHead.url="",this.ui_luckyName.text="",this.ui_luckyWin.text="",this.ui_luckyRound.text=""},e.prototype.Show=function(){t.prototype.Show.call(this),a.AudioManager.Singleton.play("","pop_up"),(1==c.default.instance.view.state||2==c.default.instance.view.state&&c.default.instance.view.updateTable)&&(this.nowPage=0,this.first=!0,cc.log("222222222222222222222"),c.default.instance.cs_getroomplayerlist_td100(this.nowPage))},e}(l.default);i.default=u,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/base/AudioManager":void 0,"../../../../Common/script/base/ViewBase":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/DT100ViewCtr":"DT100ViewCtr"}],DTPlayer:[function(t,e,i){"use strict";cc._RF.push(e,"1d65d80Wi9LR7f8ZyJ3wTx0","DTPlayer");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("../../../../Boot/scirpt/AppConst"),a=t("../../../../Common/script/util/UIUtil"),l=t("../Contrl/DT100ViewCtr"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winEffPlist=[],e.empty=!0,e.tableAllBet=[],e}return o(e,t),e.prototype.onConstruct=function(){this.userName=this.getChild("userName").asTextField,this.gold=this.getChild("gold").asTextField,this.moveHead=this.getChild("n8").asCom,this.head=this.moveHead.getChild("n0").asLoader,this.typeController=this.getController("c1"),this.meController=this.getController("me"),this.winCom=this.getChild("win").asCom,this.winLabel=this.winCom.getChild("n1").asTextField,this.winEffNode=this.getChild("winEff").asLoader,this.init(),this.loadWinEff()},e.prototype.loadWinEff=function(){var t=this;cc.assetManager.getBundle("DT100").loadDir("res/plist",cc.Prefab,function(e,i){if(!e)for(var n=0;n<i.length;n++)"liansheng1"==i[n].name?t.winEffPlist[0]=cc.instantiate(i[n]):"liansheng2"==i[n].name?t.winEffPlist[1]=cc.instantiate(i[n]):"liansheng3"==i[n].name&&(t.winEffPlist[2]=cc.instantiate(i[n]))})},e.prototype.initPos=function(t){this.pos=t},e.prototype.setData=function(t,e){this.typeController.setSelectedIndex(1),a.UIUtil.loadImage(this.head,t.head),this.headId=t.head,this.userName.text=a.UIUtil.getNickNameSub(t.nickName,6);var i=s.AppConst.gameStatus[1]==s.EnumGameStatus.Hide?"":"R$:";this.gold.text=i+a.UIUtil.formatNumber100(t.gold),this.userid=t.userid,this.empty=!1,this.baseData=e,t.userid==s.AppConst.mPlayerModel.userid?this.meController.setSelectedIndex(1):this.meController.setSelectedIndex(0);var n=l.default.instance.Model.win10000[t.userid];n?this.addWinEff(n):this.winEffNode.node.removeAllChildren()},e.prototype.onDestroy=function(){this.winEffPlist&&this.winEffPlist.length>0&&this.winEffPlist.forEach(function(t){cc.isValid(t)&&t.destroy()})},e.prototype.cleanWinEff=function(){this.winEffNode.node.removeAllChildren()},e.prototype.addWinEff=function(t){this.winEffPlist.length<=0||(1==t?(this.winEffNode.node.removeAllChildren(),this.winEffNode.node.addChild(this.winEffPlist[0])):2==t?(this.winEffNode.node.removeAllChildren(),this.winEffNode.node.addChild(this.winEffPlist[1])):t>=3&&(this.winEffNode.node.removeAllChildren(),this.winEffNode.node.addChild(this.winEffPlist[2])))},e.prototype.getHeadId=function(){return this.headId},e.prototype.getNickName=function(){return this.userName.text},e.prototype.getBaseData=function(){return this.baseData},e.prototype.setHead=function(t){a.UIUtil.loadImage(this.head,t)},e.prototype.setGold=function(t){var e=s.AppConst.gameStatus[1]==s.EnumGameStatus.Hide?"":"R$:";this.gold.text=e+a.UIUtil.formatNumber100(t)},e.prototype.init=function(){for(var t=0;t<3;t++)this.tableAllBet.push({pos:t+1,bet:0})},e.prototype.reset=function(){for(var t=0;t<3;t++)this.tableAllBet[t].bet=0},e.prototype.getNowBet=function(t){return this.tableAllBet[t-1].bet},e.prototype.setNowBet=function(t,e){this.tableAllBet[t-1].bet+=e},e.prototype.exit=function(){this.typeController.setSelectedIndex(0),this.meController.setSelectedIndex(0),this.empty=!0,this.baseData=null,this.head.url="",this.userid=0,this.reset(),this.winEffNode.node.removeAllChildren()},e.prototype.showEff=function(){if(!fgui.GTween.isTweening(this.moveHead)){var t,e,i=this.moveHead.x,n=this.moveHead.y;switch(this.pos){case 0:t=i+20,e=n+40;break;case 1:t=i-20,e=n+40;break;case 2:t=i+20,e=n;break;case 3:t=i+20,e=n-20;break;case 4:t=i-20,e=n;break;case 5:t=i-20,e=n-20}fgui.GTween.to2(i,n,t,e,.05).setTarget(this.moveHead,this.moveHead.setPosition).setRepeat(1,!0).setEase(fgui.EaseType.ElasticIn)}},e.prototype.setWin=function(t){this.winCom.visible=!0;var e=s.AppConst.gameStatus[1]==s.EnumGameStatus.Hide?"":"R$+";this.winLabel.text=e+t,this.winEff()},e.prototype.winEff=function(){var t=this;fgui.GTween.to2(this.winCom.x,this.winCom.y,this.winCom.x,this.winCom.y-20,1.8).setTarget(this.winCom,this.setPosition).setEase(fgui.EaseType.CubicOut).onComplete(function(){t.winCom.visible=!1,t.winCom.y+=20},this)},e}(fgui.GComponent);i.default=r,cc._RF.pop()},{"../../../../Boot/scirpt/AppConst":void 0,"../../../../Common/script/util/UIUtil":void 0,"../Contrl/DT100ViewCtr":"DT100ViewCtr"}]},{},["DT100ViewCtr","DT100Model","DT100NetData","DT100View","DTAddCash","DTAreaCom","DTChipsNow","DTDrwaprize","DTHelp","DTHistory","DTPlayList","DTPlayListItem","DTPlayer"]);